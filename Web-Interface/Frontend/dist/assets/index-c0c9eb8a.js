(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cf={exports:{}},ko={},bf={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vi=Symbol.for("react.element"),Zp=Symbol.for("react.portal"),Jp=Symbol.for("react.fragment"),e0=Symbol.for("react.strict_mode"),t0=Symbol.for("react.profiler"),r0=Symbol.for("react.provider"),n0=Symbol.for("react.context"),i0=Symbol.for("react.forward_ref"),s0=Symbol.for("react.suspense"),o0=Symbol.for("react.memo"),a0=Symbol.for("react.lazy"),su=Symbol.iterator;function l0(e){return e===null||typeof e!="object"?null:(e=su&&e[su]||e["@@iterator"],typeof e=="function"?e:null)}var xf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kf=Object.assign,Ef={};function Mn(e,r,n){this.props=e,this.context=r,this.refs=Ef,this.updater=n||xf}Mn.prototype.isReactComponent={};Mn.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};Mn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rf(){}Rf.prototype=Mn.prototype;function Kl(e,r,n){this.props=e,this.context=r,this.refs=Ef,this.updater=n||xf}var Gl=Kl.prototype=new Rf;Gl.constructor=Kl;kf(Gl,Mn.prototype);Gl.isPureReactComponent=!0;var ou=Array.isArray,Af=Object.prototype.hasOwnProperty,Xl={current:null},Tf={key:!0,ref:!0,__self:!0,__source:!0};function Lf(e,r,n){var i,s={},o=null,l=null;if(r!=null)for(i in r.ref!==void 0&&(l=r.ref),r.key!==void 0&&(o=""+r.key),r)Af.call(r,i)&&!Tf.hasOwnProperty(i)&&(s[i]=r[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),h=0;h<a;h++)c[h]=arguments[h+2];s.children=c}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:Vi,type:e,key:o,ref:l,props:s,_owner:Xl.current}}function c0(e,r){return{$$typeof:Vi,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function Yl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vi}function u0(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var au=/\/+/g;function Jo(e,r){return typeof e=="object"&&e!==null&&e.key!=null?u0(""+e.key):r.toString(36)}function ks(e,r,n,i,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Vi:case Zp:l=!0}}if(l)return l=e,s=s(l),e=i===""?"."+Jo(l,0):i,ou(s)?(n="",e!=null&&(n=e.replace(au,"$&/")+"/"),ks(s,r,n,"",function(h){return h})):s!=null&&(Yl(s)&&(s=c0(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(au,"$&/")+"/")+e)),r.push(s)),1;if(l=0,i=i===""?".":i+":",ou(e))for(var a=0;a<e.length;a++){o=e[a];var c=i+Jo(o,a);l+=ks(o,r,n,c,s)}else if(c=l0(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=i+Jo(o,a++),l+=ks(o,r,n,c,s);else if(o==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function ts(e,r,n){if(e==null)return e;var i=[],s=0;return ks(e,i,"","",function(o){return r.call(n,o,s++)}),i}function h0(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},Es={transition:null},f0={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Es,ReactCurrentOwner:Xl};function Df(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:ts,forEach:function(e,r,n){ts(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return ts(e,function(){r++}),r},toArray:function(e){return ts(e,function(r){return r})||[]},only:function(e){if(!Yl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Mn;re.Fragment=Jp;re.Profiler=t0;re.PureComponent=Kl;re.StrictMode=e0;re.Suspense=s0;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f0;re.act=Df;re.cloneElement=function(e,r,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=kf({},e.props),s=e.key,o=e.ref,l=e._owner;if(r!=null){if(r.ref!==void 0&&(o=r.ref,l=Xl.current),r.key!==void 0&&(s=""+r.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in r)Af.call(r,c)&&!Tf.hasOwnProperty(c)&&(i[c]=r[c]===void 0&&a!==void 0?a[c]:r[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){a=Array(c);for(var h=0;h<c;h++)a[h]=arguments[h+2];i.children=a}return{$$typeof:Vi,type:e.type,key:s,ref:o,props:i,_owner:l}};re.createContext=function(e){return e={$$typeof:n0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:r0,_context:e},e.Consumer=e};re.createElement=Lf;re.createFactory=function(e){var r=Lf.bind(null,e);return r.type=e,r};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:i0,render:e}};re.isValidElement=Yl;re.lazy=function(e){return{$$typeof:a0,_payload:{_status:-1,_result:e},_init:h0}};re.memo=function(e,r){return{$$typeof:o0,type:e,compare:r===void 0?null:r}};re.startTransition=function(e){var r=Es.transition;Es.transition={};try{e()}finally{Es.transition=r}};re.unstable_act=Df;re.useCallback=function(e,r){return $e.current.useCallback(e,r)};re.useContext=function(e){return $e.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};re.useEffect=function(e,r){return $e.current.useEffect(e,r)};re.useId=function(){return $e.current.useId()};re.useImperativeHandle=function(e,r,n){return $e.current.useImperativeHandle(e,r,n)};re.useInsertionEffect=function(e,r){return $e.current.useInsertionEffect(e,r)};re.useLayoutEffect=function(e,r){return $e.current.useLayoutEffect(e,r)};re.useMemo=function(e,r){return $e.current.useMemo(e,r)};re.useReducer=function(e,r,n){return $e.current.useReducer(e,r,n)};re.useRef=function(e){return $e.current.useRef(e)};re.useState=function(e){return $e.current.useState(e)};re.useSyncExternalStore=function(e,r,n){return $e.current.useSyncExternalStore(e,r,n)};re.useTransition=function(){return $e.current.useTransition()};re.version="18.3.1";bf.exports=re;var ie=bf.exports;const Mf=wf(ie);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0=ie,_0=Symbol.for("react.element"),p0=Symbol.for("react.fragment"),g0=Object.prototype.hasOwnProperty,v0=d0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m0={key:!0,ref:!0,__self:!0,__source:!0};function Pf(e,r,n){var i,s={},o=null,l=null;n!==void 0&&(o=""+n),r.key!==void 0&&(o=""+r.key),r.ref!==void 0&&(l=r.ref);for(i in r)g0.call(r,i)&&!m0.hasOwnProperty(i)&&(s[i]=r[i]);if(e&&e.defaultProps)for(i in r=e.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return{$$typeof:_0,type:e,key:o,ref:l,props:s,_owner:v0.current}}ko.Fragment=p0;ko.jsx=Pf;ko.jsxs=Pf;Cf.exports=ko;var Ne=Cf.exports,Oa={},Of={exports:{}},it={},If={exports:{}},Bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(R,L){var M=R.length;R.push(L);e:for(;0<M;){var B=M-1>>>1,j=R[B];if(0<s(j,L))R[B]=L,R[M]=j,M=B;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var L=R[0],M=R.pop();if(M!==L){R[0]=M;e:for(var B=0,j=R.length,V=j>>>1;B<V;){var G=2*(B+1)-1,X=R[G],J=G+1,T=R[J];if(0>s(X,M))J<j&&0>s(T,X)?(R[B]=T,R[J]=M,B=J):(R[B]=X,R[G]=M,B=G);else if(J<j&&0>s(T,M))R[B]=T,R[J]=M,B=J;else break e}}return L}function s(R,L){var M=R.sortIndex-L.sortIndex;return M!==0?M:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var c=[],h=[],g=1,u=null,v=3,y=!1,C=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(R){for(var L=n(h);L!==null;){if(L.callback===null)i(h);else if(L.startTime<=R)i(h),L.sortIndex=L.expirationTime,r(c,L);else break;L=n(h)}}function m(R){if(w=!1,p(R),!C)if(n(c)!==null)C=!0,N(S);else{var L=n(h);L!==null&&F(m,L.startTime-R)}}function S(R,L){C=!1,w&&(w=!1,f(b),b=-1),y=!0;var M=v;try{for(p(L),u=n(c);u!==null&&(!(u.expirationTime>L)||R&&!P());){var B=u.callback;if(typeof B=="function"){u.callback=null,v=u.priorityLevel;var j=B(u.expirationTime<=L);L=e.unstable_now(),typeof j=="function"?u.callback=j:u===n(c)&&i(c),p(L)}else i(c);u=n(c)}if(u!==null)var V=!0;else{var G=n(h);G!==null&&F(m,G.startTime-L),V=!1}return V}finally{u=null,v=M,y=!1}}var x=!1,k=null,b=-1,E=5,A=-1;function P(){return!(e.unstable_now()-A<E)}function D(){if(k!==null){var R=e.unstable_now();A=R;var L=!0;try{L=k(!0,R)}finally{L?I():(x=!1,k=null)}}else x=!1}var I;if(typeof d=="function")I=function(){d(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,H=O.port2;O.port1.onmessage=D,I=function(){H.postMessage(null)}}else I=function(){_(D,0)};function N(R){k=R,x||(x=!0,I())}function F(R,L){b=_(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){C||y||(C=!0,N(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(v){case 1:case 2:case 3:var L=3;break;default:L=v}var M=v;v=L;try{return R()}finally{v=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var M=v;v=R;try{return L()}finally{v=M}},e.unstable_scheduleCallback=function(R,L,M){var B=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?B+M:B):M=B,R){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=M+j,R={id:g++,callback:L,priorityLevel:R,startTime:M,expirationTime:j,sortIndex:-1},M>B?(R.sortIndex=M,r(h,R),n(c)===null&&R===n(h)&&(w?(f(b),b=-1):w=!0,F(m,M-B))):(R.sortIndex=j,r(c,R),C||y||(C=!0,N(S))),R},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(R){var L=v;return function(){var M=v;v=L;try{return R.apply(this,arguments)}finally{v=M}}}})(Bf);If.exports=Bf;var y0=If.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0=ie,rt=y0;function q(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nf=new Set,wi={};function Gr(e,r){Cn(e,r),Cn(e+"Capture",r)}function Cn(e,r){for(wi[e]=r,e=0;e<r.length;e++)Nf.add(r[e])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=Object.prototype.hasOwnProperty,w0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lu={},cu={};function C0(e){return Ia.call(cu,e)?!0:Ia.call(lu,e)?!1:w0.test(e)?cu[e]=!0:(lu[e]=!0,!1)}function b0(e,r,n,i){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x0(e,r,n,i){if(r===null||typeof r>"u"||b0(e,r,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function je(e,r,n,i,s,o,l){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=r,this.sanitizeURL=o,this.removeEmptyString=l}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];Le[r]=new je(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new je(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ql=/[\-:]([a-z])/g;function Zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(Ql,Zl);Le[r]=new je(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(Ql,Zl);Le[r]=new je(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(Ql,Zl);Le[r]=new je(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new je(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new je(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jl(e,r,n,i){var s=Le.hasOwnProperty(r)?Le[r]:null;(s!==null?s.type!==0:i||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(x0(r,n,s,i)&&(n=null),i||s===null?C0(r)&&(n===null?e.removeAttribute(r):e.setAttribute(r,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(r=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(r):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,r,n):e.setAttribute(r,n))))}var ir=S0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),en=Symbol.for("react.portal"),tn=Symbol.for("react.fragment"),ec=Symbol.for("react.strict_mode"),Ba=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),Hf=Symbol.for("react.context"),tc=Symbol.for("react.forward_ref"),Na=Symbol.for("react.suspense"),za=Symbol.for("react.suspense_list"),rc=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),Ff=Symbol.for("react.offscreen"),uu=Symbol.iterator;function Hn(e){return e===null||typeof e!="object"?null:(e=uu&&e[uu]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,ea;function ti(e){if(ea===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);ea=r&&r[1]||""}return`
`+ea+e}var ta=!1;function ra(e,r){if(!e||ta)return"";ta=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(h){var i=h}Reflect.construct(e,[],r)}else{try{r.call()}catch(h){i=h}e.call(r.prototype)}else{try{throw Error()}catch(h){i=h}e()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),o=i.stack.split(`
`),l=s.length-1,a=o.length-1;1<=l&&0<=a&&s[l]!==o[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==o[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==o[a]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=a);break}}}finally{ta=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ti(e):""}function k0(e){switch(e.tag){case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 2:case 15:return e=ra(e.type,!1),e;case 11:return e=ra(e.type.render,!1),e;case 1:return e=ra(e.type,!0),e;default:return""}}function Ha(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tn:return"Fragment";case en:return"Portal";case Ba:return"Profiler";case ec:return"StrictMode";case Na:return"Suspense";case za:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hf:return(e.displayName||"Context")+".Consumer";case zf:return(e._context.displayName||"Context")+".Provider";case tc:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rc:return r=e.displayName||null,r!==null?r:Ha(e.type)||"Memo";case ur:r=e._payload,e=e._init;try{return Ha(e(r))}catch{}}return null}function E0(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ha(r);case 8:return r===ec?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $f(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function R0(e){var r=$f(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),i=""+e[r];if(!e.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return s.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(e,r,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function ns(e){e._valueTracker||(e._valueTracker=R0(e))}function jf(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var n=r.getValue(),i="";return e&&(i=$f(e)?e.checked?"true":"false":e.value),e=i,e!==n?(r.setValue(e),!0):!1}function js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fa(e,r){var n=r.checked;return ye({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hu(e,r){var n=r.defaultValue==null?"":r.defaultValue,i=r.checked!=null?r.checked:r.defaultChecked;n=kr(r.value!=null?r.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Uf(e,r){r=r.checked,r!=null&&Jl(e,"checked",r,!1)}function $a(e,r){Uf(e,r);var n=kr(r.value),i=r.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?ja(e,r.type,n):r.hasOwnProperty("defaultValue")&&ja(e,r.type,kr(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function fu(e,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var i=r.type;if(!(i!=="submit"&&i!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,n||r===e.value||(e.value=r),e.defaultValue=r}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ja(e,r,n){(r!=="number"||js(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ri=Array.isArray;function _n(e,r,n,i){if(e=e.options,r){r={};for(var s=0;s<n.length;s++)r["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=r.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+kr(n),r=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}r!==null||e[s].disabled||(r=e[s])}r!==null&&(r.selected=!0)}}function Ua(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(q(91));return ye({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function du(e,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(q(92));if(ri(n)){if(1<n.length)throw Error(q(93));n=n[0]}r=n}r==null&&(r=""),n=r}e._wrapperState={initialValue:kr(n)}}function Wf(e,r){var n=kr(r.value),i=kr(r.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),r.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function _u(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function Vf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wa(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?Vf(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var is,qf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(r,n,i,s)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=is.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Ci(e,r){if(r){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=r;return}}e.textContent=r}var ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A0=["Webkit","ms","Moz","O"];Object.keys(ci).forEach(function(e){A0.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),ci[r]=ci[e]})});function Kf(e,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||ci.hasOwnProperty(e)&&ci[e]?(""+r).trim():r+"px"}function Gf(e,r){e=e.style;for(var n in r)if(r.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Kf(n,r[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var T0=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Va(e,r){if(r){if(T0[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(q(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(q(61))}if(r.style!=null&&typeof r.style!="object")throw Error(q(62))}}function qa(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ka=null;function nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ga=null,pn=null,gn=null;function pu(e){if(e=Gi(e)){if(typeof Ga!="function")throw Error(q(280));var r=e.stateNode;r&&(r=Lo(r),Ga(e.stateNode,e.type,r))}}function Xf(e){pn?gn?gn.push(e):gn=[e]:pn=e}function Yf(){if(pn){var e=pn,r=gn;if(gn=pn=null,pu(e),r)for(e=0;e<r.length;e++)pu(r[e])}}function Qf(e,r){return e(r)}function Zf(){}var na=!1;function Jf(e,r,n){if(na)return e(r,n);na=!0;try{return Qf(e,r,n)}finally{na=!1,(pn!==null||gn!==null)&&(Zf(),Yf())}}function bi(e,r){var n=e.stateNode;if(n===null)return null;var i=Lo(n);if(i===null)return null;n=i[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,r,typeof n));return n}var Xa=!1;if(Jt)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Xa=!1}function L0(e,r,n,i,s,o,l,a,c){var h=Array.prototype.slice.call(arguments,3);try{r.apply(n,h)}catch(g){this.onError(g)}}var ui=!1,Us=null,Ws=!1,Ya=null,D0={onError:function(e){ui=!0,Us=e}};function M0(e,r,n,i,s,o,l,a,c){ui=!1,Us=null,L0.apply(D0,arguments)}function P0(e,r,n,i,s,o,l,a,c){if(M0.apply(this,arguments),ui){if(ui){var h=Us;ui=!1,Us=null}else throw Error(q(198));Ws||(Ws=!0,Ya=h)}}function Xr(e){var r=e,n=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(n=r.return),e=r.return;while(e)}return r.tag===3?n:null}function ed(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function gu(e){if(Xr(e)!==e)throw Error(q(188))}function O0(e){var r=e.alternate;if(!r){if(r=Xr(e),r===null)throw Error(q(188));return r!==e?null:e}for(var n=e,i=r;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return gu(s),e;if(o===i)return gu(s),r;o=o.sibling}throw Error(q(188))}if(n.return!==i.return)n=s,i=o;else{for(var l=!1,a=s.child;a;){if(a===n){l=!0,n=s,i=o;break}if(a===i){l=!0,i=s,n=o;break}a=a.sibling}if(!l){for(a=o.child;a;){if(a===n){l=!0,n=o,i=s;break}if(a===i){l=!0,i=o,n=s;break}a=a.sibling}if(!l)throw Error(q(189))}}if(n.alternate!==i)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:r}function td(e){return e=O0(e),e!==null?rd(e):null}function rd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=rd(e);if(r!==null)return r;e=e.sibling}return null}var nd=rt.unstable_scheduleCallback,vu=rt.unstable_cancelCallback,I0=rt.unstable_shouldYield,B0=rt.unstable_requestPaint,we=rt.unstable_now,N0=rt.unstable_getCurrentPriorityLevel,ic=rt.unstable_ImmediatePriority,id=rt.unstable_UserBlockingPriority,Vs=rt.unstable_NormalPriority,z0=rt.unstable_LowPriority,sd=rt.unstable_IdlePriority,Eo=null,It=null;function H0(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Eo,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:j0,F0=Math.log,$0=Math.LN2;function j0(e){return e>>>=0,e===0?32:31-(F0(e)/$0|0)|0}var ss=64,os=4194304;function ni(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qs(e,r){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var a=l&~s;a!==0?i=ni(a):(o&=l,o!==0&&(i=ni(o)))}else l=n&~s,l!==0?i=ni(l):o!==0&&(i=ni(o));if(i===0)return 0;if(r!==0&&r!==i&&!(r&s)&&(s=i&-i,o=r&-r,s>=o||s===16&&(o&4194240)!==0))return r;if(i&4&&(i|=n&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=i;0<r;)n=31-xt(r),s=1<<n,i|=e[n],r&=~s;return i}function U0(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W0(e,r){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-xt(o),a=1<<l,c=s[l];c===-1?(!(a&n)||a&i)&&(s[l]=U0(a,r)):c<=r&&(e.expiredLanes|=a),o&=~a}}function Qa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function od(){var e=ss;return ss<<=1,!(ss&4194240)&&(ss=64),e}function ia(e){for(var r=[],n=0;31>n;n++)r.push(e);return r}function qi(e,r,n){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-xt(r),e[r]=n}function V0(e,r){var n=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-xt(n),o=1<<s;r[s]=0,i[s]=-1,e[s]=-1,n&=~o}}function sc(e,r){var n=e.entangledLanes|=r;for(e=e.entanglements;n;){var i=31-xt(n),s=1<<i;s&r|e[i]&r&&(e[i]|=r),n&=~s}}var ae=0;function ad(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ld,oc,cd,ud,hd,Za=!1,as=[],vr=null,mr=null,yr=null,xi=new Map,ki=new Map,dr=[],q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(e,r){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":xi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(r.pointerId)}}function $n(e,r,n,i,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:r,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},r!==null&&(r=Gi(r),r!==null&&oc(r)),e):(e.eventSystemFlags|=i,r=e.targetContainers,s!==null&&r.indexOf(s)===-1&&r.push(s),e)}function K0(e,r,n,i,s){switch(r){case"focusin":return vr=$n(vr,e,r,n,i,s),!0;case"dragenter":return mr=$n(mr,e,r,n,i,s),!0;case"mouseover":return yr=$n(yr,e,r,n,i,s),!0;case"pointerover":var o=s.pointerId;return xi.set(o,$n(xi.get(o)||null,e,r,n,i,s)),!0;case"gotpointercapture":return o=s.pointerId,ki.set(o,$n(ki.get(o)||null,e,r,n,i,s)),!0}return!1}function fd(e){var r=Or(e.target);if(r!==null){var n=Xr(r);if(n!==null){if(r=n.tag,r===13){if(r=ed(n),r!==null){e.blockedOn=r,hd(e.priority,function(){cd(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rs(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var n=Ja(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Ka=i,n.target.dispatchEvent(i),Ka=null}else return r=Gi(n),r!==null&&oc(r),e.blockedOn=n,!1;r.shift()}return!0}function yu(e,r,n){Rs(e)&&n.delete(r)}function G0(){Za=!1,vr!==null&&Rs(vr)&&(vr=null),mr!==null&&Rs(mr)&&(mr=null),yr!==null&&Rs(yr)&&(yr=null),xi.forEach(yu),ki.forEach(yu)}function jn(e,r){e.blockedOn===r&&(e.blockedOn=null,Za||(Za=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,G0)))}function Ei(e){function r(s){return jn(s,e)}if(0<as.length){jn(as[0],e);for(var n=1;n<as.length;n++){var i=as[n];i.blockedOn===e&&(i.blockedOn=null)}}for(vr!==null&&jn(vr,e),mr!==null&&jn(mr,e),yr!==null&&jn(yr,e),xi.forEach(r),ki.forEach(r),n=0;n<dr.length;n++)i=dr[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<dr.length&&(n=dr[0],n.blockedOn===null);)fd(n),n.blockedOn===null&&dr.shift()}var vn=ir.ReactCurrentBatchConfig,Ks=!0;function X0(e,r,n,i){var s=ae,o=vn.transition;vn.transition=null;try{ae=1,ac(e,r,n,i)}finally{ae=s,vn.transition=o}}function Y0(e,r,n,i){var s=ae,o=vn.transition;vn.transition=null;try{ae=4,ac(e,r,n,i)}finally{ae=s,vn.transition=o}}function ac(e,r,n,i){if(Ks){var s=Ja(e,r,n,i);if(s===null)_a(e,r,i,Gs,n),mu(e,i);else if(K0(s,e,r,n,i))i.stopPropagation();else if(mu(e,i),r&4&&-1<q0.indexOf(e)){for(;s!==null;){var o=Gi(s);if(o!==null&&ld(o),o=Ja(e,r,n,i),o===null&&_a(e,r,i,Gs,n),o===s)break;s=o}s!==null&&i.stopPropagation()}else _a(e,r,i,null,n)}}var Gs=null;function Ja(e,r,n,i){if(Gs=null,e=nc(i),e=Or(e),e!==null)if(r=Xr(e),r===null)e=null;else if(n=r.tag,n===13){if(e=ed(r),e!==null)return e;e=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Gs=e,null}function dd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N0()){case ic:return 1;case id:return 4;case Vs:case z0:return 16;case sd:return 536870912;default:return 16}default:return 16}}var pr=null,lc=null,As=null;function _d(){if(As)return As;var e,r=lc,n=r.length,i,s="value"in pr?pr.value:pr.textContent,o=s.length;for(e=0;e<n&&r[e]===s[e];e++);var l=n-e;for(i=1;i<=l&&r[n-i]===s[o-i];i++);return As=s.slice(e,1<i?1-i:void 0)}function Ts(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function Su(){return!1}function st(e){function r(n,i,s,o,l){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ls:Su,this.isPropagationStopped=Su,this}return ye(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),r}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cc=st(Pn),Ki=ye({},Pn,{view:0,detail:0}),Q0=st(Ki),sa,oa,Un,Ro=ye({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Un&&(Un&&e.type==="mousemove"?(sa=e.screenX-Un.screenX,oa=e.screenY-Un.screenY):oa=sa=0,Un=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),wu=st(Ro),Z0=ye({},Ro,{dataTransfer:0}),J0=st(Z0),eg=ye({},Ki,{relatedTarget:0}),aa=st(eg),tg=ye({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),rg=st(tg),ng=ye({},Pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ig=st(ng),sg=ye({},Pn,{data:0}),Cu=st(sg),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cg(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=lg[e])?!!r[e]:!1}function uc(){return cg}var ug=ye({},Ki,{key:function(e){if(e.key){var r=og[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ag[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hg=st(ug),fg=ye({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=st(fg),dg=ye({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),_g=st(dg),pg=ye({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gg=st(pg),vg=ye({},Ro,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mg=st(vg),yg=[9,13,27,32],hc=Jt&&"CompositionEvent"in window,hi=null;Jt&&"documentMode"in document&&(hi=document.documentMode);var Sg=Jt&&"TextEvent"in window&&!hi,pd=Jt&&(!hc||hi&&8<hi&&11>=hi),xu=String.fromCharCode(32),ku=!1;function gd(e,r){switch(e){case"keyup":return yg.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rn=!1;function wg(e,r){switch(e){case"compositionend":return vd(r);case"keypress":return r.which!==32?null:(ku=!0,xu);case"textInput":return e=r.data,e===xu&&ku?null:e;default:return null}}function Cg(e,r){if(rn)return e==="compositionend"||!hc&&gd(e,r)?(e=_d(),As=lc=pr=null,rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return pd&&r.locale!=="ko"?null:r.data;default:return null}}var bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!bg[e.type]:r==="textarea"}function md(e,r,n,i){Xf(i),r=Xs(r,"onChange"),0<r.length&&(n=new cc("onChange","change",null,n,i),e.push({event:n,listeners:r}))}var fi=null,Ri=null;function xg(e){Td(e,0)}function Ao(e){var r=on(e);if(jf(r))return e}function kg(e,r){if(e==="change")return r}var yd=!1;if(Jt){var la;if(Jt){var ca="oninput"in document;if(!ca){var Ru=document.createElement("div");Ru.setAttribute("oninput","return;"),ca=typeof Ru.oninput=="function"}la=ca}else la=!1;yd=la&&(!document.documentMode||9<document.documentMode)}function Au(){fi&&(fi.detachEvent("onpropertychange",Sd),Ri=fi=null)}function Sd(e){if(e.propertyName==="value"&&Ao(Ri)){var r=[];md(r,Ri,e,nc(e)),Jf(xg,r)}}function Eg(e,r,n){e==="focusin"?(Au(),fi=r,Ri=n,fi.attachEvent("onpropertychange",Sd)):e==="focusout"&&Au()}function Rg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ao(Ri)}function Ag(e,r){if(e==="click")return Ao(r)}function Tg(e,r){if(e==="input"||e==="change")return Ao(r)}function Lg(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Et=typeof Object.is=="function"?Object.is:Lg;function Ai(e,r){if(Et(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var n=Object.keys(e),i=Object.keys(r);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Ia.call(r,s)||!Et(e[s],r[s]))return!1}return!0}function Tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lu(e,r){var n=Tu(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=r&&i>=r)return{node:n,offset:r-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tu(n)}}function wd(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?wd(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Cd(){for(var e=window,r=js();r instanceof e.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)e=r.contentWindow;else break;r=js(e.document)}return r}function fc(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function Dg(e){var r=Cd(),n=e.focusedElem,i=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&wd(n.ownerDocument.documentElement,n)){if(i!==null&&fc(n)){if(r=i.start,e=i.end,e===void 0&&(e=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(e,n.value.length);else if(e=(r=n.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!e.extend&&o>i&&(s=i,i=o,o=s),s=Lu(n,o);var l=Lu(n,i);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(r=r.createRange(),r.setStart(s.node,s.offset),e.removeAllRanges(),o>i?(e.addRange(r),e.extend(l.node,l.offset)):(r.setEnd(l.node,l.offset),e.addRange(r)))}}for(r=[],e=n;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)e=r[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mg=Jt&&"documentMode"in document&&11>=document.documentMode,nn=null,el=null,di=null,tl=!1;function Du(e,r,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tl||nn==null||nn!==js(i)||(i=nn,"selectionStart"in i&&fc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),di&&Ai(di,i)||(di=i,i=Xs(el,"onSelect"),0<i.length&&(r=new cc("onSelect","select",null,r,n),e.push({event:r,listeners:i}),r.target=nn)))}function cs(e,r){var n={};return n[e.toLowerCase()]=r.toLowerCase(),n["Webkit"+e]="webkit"+r,n["Moz"+e]="moz"+r,n}var sn={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},ua={},bd={};Jt&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete sn.animationend.animation,delete sn.animationiteration.animation,delete sn.animationstart.animation),"TransitionEvent"in window||delete sn.transitionend.transition);function To(e){if(ua[e])return ua[e];if(!sn[e])return e;var r=sn[e],n;for(n in r)if(r.hasOwnProperty(n)&&n in bd)return ua[e]=r[n];return e}var xd=To("animationend"),kd=To("animationiteration"),Ed=To("animationstart"),Rd=To("transitionend"),Ad=new Map,Mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,r){Ad.set(e,r),Gr(r,[e])}for(var ha=0;ha<Mu.length;ha++){var fa=Mu[ha],Pg=fa.toLowerCase(),Og=fa[0].toUpperCase()+fa.slice(1);Rr(Pg,"on"+Og)}Rr(xd,"onAnimationEnd");Rr(kd,"onAnimationIteration");Rr(Ed,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(Rd,"onTransitionEnd");Cn("onMouseEnter",["mouseout","mouseover"]);Cn("onMouseLeave",["mouseout","mouseover"]);Cn("onPointerEnter",["pointerout","pointerover"]);Cn("onPointerLeave",["pointerout","pointerover"]);Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ig=new Set("cancel close invalid load scroll toggle".split(" ").concat(ii));function Pu(e,r,n){var i=e.type||"unknown-event";e.currentTarget=n,P0(i,r,void 0,e),e.currentTarget=null}function Td(e,r){r=(r&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var o=void 0;if(r)for(var l=i.length-1;0<=l;l--){var a=i[l],c=a.instance,h=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Pu(s,a,h),o=c}else for(l=0;l<i.length;l++){if(a=i[l],c=a.instance,h=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Pu(s,a,h),o=c}}}if(Ws)throw e=Ya,Ws=!1,Ya=null,e}function ue(e,r){var n=r[ol];n===void 0&&(n=r[ol]=new Set);var i=e+"__bubble";n.has(i)||(Ld(r,e,2,!1),n.add(i))}function da(e,r,n){var i=0;r&&(i|=4),Ld(n,e,i,r)}var us="_reactListening"+Math.random().toString(36).slice(2);function Ti(e){if(!e[us]){e[us]=!0,Nf.forEach(function(n){n!=="selectionchange"&&(Ig.has(n)||da(n,!1,e),da(n,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[us]||(r[us]=!0,da("selectionchange",!1,r))}}function Ld(e,r,n,i){switch(dd(r)){case 1:var s=X0;break;case 4:s=Y0;break;default:s=ac}n=s.bind(null,r,n,e),s=void 0,!Xa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(r,n,{capture:!0,passive:s}):e.addEventListener(r,n,!0):s!==void 0?e.addEventListener(r,n,{passive:s}):e.addEventListener(r,n,!1)}function _a(e,r,n,i,s){var o=i;if(!(r&1)&&!(r&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=i.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;a!==null;){if(l=Or(a),l===null)return;if(c=l.tag,c===5||c===6){i=o=l;continue e}a=a.parentNode}}i=i.return}Jf(function(){var h=o,g=nc(n),u=[];e:{var v=Ad.get(e);if(v!==void 0){var y=cc,C=e;switch(e){case"keypress":if(Ts(n)===0)break e;case"keydown":case"keyup":y=hg;break;case"focusin":C="focus",y=aa;break;case"focusout":C="blur",y=aa;break;case"beforeblur":case"afterblur":y=aa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=J0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_g;break;case xd:case kd:case Ed:y=rg;break;case Rd:y=gg;break;case"scroll":y=Q0;break;case"wheel":y=mg;break;case"copy":case"cut":case"paste":y=ig;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=bu}var w=(r&4)!==0,_=!w&&e==="scroll",f=w?v!==null?v+"Capture":null:v;w=[];for(var d=h,p;d!==null;){p=d;var m=p.stateNode;if(p.tag===5&&m!==null&&(p=m,f!==null&&(m=bi(d,f),m!=null&&w.push(Li(d,m,p)))),_)break;d=d.return}0<w.length&&(v=new y(v,C,null,n,g),u.push({event:v,listeners:w}))}}if(!(r&7)){e:{if(v=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",v&&n!==Ka&&(C=n.relatedTarget||n.fromElement)&&(Or(C)||C[er]))break e;if((y||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=h,C=C?Or(C):null,C!==null&&(_=Xr(C),C!==_||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=h),y!==C)){if(w=wu,m="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(w=bu,m="onPointerLeave",f="onPointerEnter",d="pointer"),_=y==null?v:on(y),p=C==null?v:on(C),v=new w(m,d+"leave",y,n,g),v.target=_,v.relatedTarget=p,m=null,Or(g)===h&&(w=new w(f,d+"enter",C,n,g),w.target=p,w.relatedTarget=_,m=w),_=m,y&&C)t:{for(w=y,f=C,d=0,p=w;p;p=Qr(p))d++;for(p=0,m=f;m;m=Qr(m))p++;for(;0<d-p;)w=Qr(w),d--;for(;0<p-d;)f=Qr(f),p--;for(;d--;){if(w===f||f!==null&&w===f.alternate)break t;w=Qr(w),f=Qr(f)}w=null}else w=null;y!==null&&Ou(u,v,y,w,!1),C!==null&&_!==null&&Ou(u,_,C,w,!0)}}e:{if(v=h?on(h):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var S=kg;else if(Eu(v))if(yd)S=Tg;else{S=Rg;var x=Eg}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(S=Ag);if(S&&(S=S(e,h))){md(u,S,n,g);break e}x&&x(e,v,h),e==="focusout"&&(x=v._wrapperState)&&x.controlled&&v.type==="number"&&ja(v,"number",v.value)}switch(x=h?on(h):window,e){case"focusin":(Eu(x)||x.contentEditable==="true")&&(nn=x,el=h,di=null);break;case"focusout":di=el=nn=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,Du(u,n,g);break;case"selectionchange":if(Mg)break;case"keydown":case"keyup":Du(u,n,g)}var k;if(hc)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else rn?gd(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(pd&&n.locale!=="ko"&&(rn||b!=="onCompositionStart"?b==="onCompositionEnd"&&rn&&(k=_d()):(pr=g,lc="value"in pr?pr.value:pr.textContent,rn=!0)),x=Xs(h,b),0<x.length&&(b=new Cu(b,e,null,n,g),u.push({event:b,listeners:x}),k?b.data=k:(k=vd(n),k!==null&&(b.data=k)))),(k=Sg?wg(e,n):Cg(e,n))&&(h=Xs(h,"onBeforeInput"),0<h.length&&(g=new Cu("onBeforeInput","beforeinput",null,n,g),u.push({event:g,listeners:h}),g.data=k))}Td(u,r)})}function Li(e,r,n){return{instance:e,listener:r,currentTarget:n}}function Xs(e,r){for(var n=r+"Capture",i=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=bi(e,n),o!=null&&i.unshift(Li(e,o,s)),o=bi(e,r),o!=null&&i.push(Li(e,o,s))),e=e.return}return i}function Qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ou(e,r,n,i,s){for(var o=r._reactName,l=[];n!==null&&n!==i;){var a=n,c=a.alternate,h=a.stateNode;if(c!==null&&c===i)break;a.tag===5&&h!==null&&(a=h,s?(c=bi(n,o),c!=null&&l.unshift(Li(n,c,a))):s||(c=bi(n,o),c!=null&&l.push(Li(n,c,a)))),n=n.return}l.length!==0&&e.push({event:r,listeners:l})}var Bg=/\r\n?/g,Ng=/\u0000|\uFFFD/g;function Iu(e){return(typeof e=="string"?e:""+e).replace(Bg,`
`).replace(Ng,"")}function hs(e,r,n){if(r=Iu(r),Iu(e)!==r&&n)throw Error(q(425))}function Ys(){}var rl=null,nl=null;function il(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sl=typeof setTimeout=="function"?setTimeout:void 0,zg=typeof clearTimeout=="function"?clearTimeout:void 0,Bu=typeof Promise=="function"?Promise:void 0,Hg=typeof queueMicrotask=="function"?queueMicrotask:typeof Bu<"u"?function(e){return Bu.resolve(null).then(e).catch(Fg)}:sl;function Fg(e){setTimeout(function(){throw e})}function pa(e,r){var n=r,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),Ei(r);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Ei(r)}function Sr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Nu(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return e;r--}else n==="/$"&&r++}e=e.previousSibling}return null}var On=Math.random().toString(36).slice(2),Pt="__reactFiber$"+On,Di="__reactProps$"+On,er="__reactContainer$"+On,ol="__reactEvents$"+On,$g="__reactListeners$"+On,jg="__reactHandles$"+On;function Or(e){var r=e[Pt];if(r)return r;for(var n=e.parentNode;n;){if(r=n[er]||n[Pt]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(e=Nu(e);e!==null;){if(n=e[Pt])return n;e=Nu(e)}return r}e=n,n=e.parentNode}return null}function Gi(e){return e=e[Pt]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function on(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Lo(e){return e[Di]||null}var al=[],an=-1;function Ar(e){return{current:e}}function fe(e){0>an||(e.current=al[an],al[an]=null,an--)}function ce(e,r){an++,al[an]=e.current,e.current=r}var Er={},Be=Ar(Er),Ge=Ar(!1),jr=Er;function bn(e,r){var n=e.type.contextTypes;if(!n)return Er;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===r)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=r[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xe(e){return e=e.childContextTypes,e!=null}function Qs(){fe(Ge),fe(Be)}function zu(e,r,n){if(Be.current!==Er)throw Error(q(168));ce(Be,r),ce(Ge,n)}function Dd(e,r,n){var i=e.stateNode;if(r=r.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in r))throw Error(q(108,E0(e)||"Unknown",s));return ye({},n,i)}function Zs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,jr=Be.current,ce(Be,e),ce(Ge,Ge.current),!0}function Hu(e,r,n){var i=e.stateNode;if(!i)throw Error(q(169));n?(e=Dd(e,r,jr),i.__reactInternalMemoizedMergedChildContext=e,fe(Ge),fe(Be),ce(Be,e)):fe(Ge),ce(Ge,n)}var Vt=null,Do=!1,ga=!1;function Md(e){Vt===null?Vt=[e]:Vt.push(e)}function Ug(e){Do=!0,Md(e)}function Tr(){if(!ga&&Vt!==null){ga=!0;var e=0,r=ae;try{var n=Vt;for(ae=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Vt=null,Do=!1}catch(s){throw Vt!==null&&(Vt=Vt.slice(e+1)),nd(ic,Tr),s}finally{ae=r,ga=!1}}return null}var ln=[],cn=0,Js=null,eo=0,ct=[],ut=0,Ur=null,Kt=1,Gt="";function Dr(e,r){ln[cn++]=eo,ln[cn++]=Js,Js=e,eo=r}function Pd(e,r,n){ct[ut++]=Kt,ct[ut++]=Gt,ct[ut++]=Ur,Ur=e;var i=Kt;e=Gt;var s=32-xt(i)-1;i&=~(1<<s),n+=1;var o=32-xt(r)+s;if(30<o){var l=s-s%5;o=(i&(1<<l)-1).toString(32),i>>=l,s-=l,Kt=1<<32-xt(r)+s|n<<s|i,Gt=o+e}else Kt=1<<o|n<<s|i,Gt=e}function dc(e){e.return!==null&&(Dr(e,1),Pd(e,1,0))}function _c(e){for(;e===Js;)Js=ln[--cn],ln[cn]=null,eo=ln[--cn],ln[cn]=null;for(;e===Ur;)Ur=ct[--ut],ct[ut]=null,Gt=ct[--ut],ct[ut]=null,Kt=ct[--ut],ct[ut]=null}var tt=null,et=null,_e=!1,wt=null;function Od(e,r){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=e,r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)}function Fu(e,r){switch(e.tag){case 5:var n=e.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,tt=e,et=Sr(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,tt=e,et=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=Ur!==null?{id:Kt,overflow:Gt}:null,e.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=r,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function ll(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cl(e){if(_e){var r=et;if(r){var n=r;if(!Fu(e,r)){if(ll(e))throw Error(q(418));r=Sr(n.nextSibling);var i=tt;r&&Fu(e,r)?Od(i,n):(e.flags=e.flags&-4097|2,_e=!1,tt=e)}}else{if(ll(e))throw Error(q(418));e.flags=e.flags&-4097|2,_e=!1,tt=e}}}function $u(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function fs(e){if(e!==tt)return!1;if(!_e)return $u(e),_e=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!il(e.type,e.memoizedProps)),r&&(r=et)){if(ll(e))throw Id(),Error(q(418));for(;r;)Od(e,r),r=Sr(r.nextSibling)}if($u(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(r===0){et=Sr(e.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}e=e.nextSibling}et=null}}else et=tt?Sr(e.stateNode.nextSibling):null;return!0}function Id(){for(var e=et;e;)e=Sr(e.nextSibling)}function xn(){et=tt=null,_e=!1}function pc(e){wt===null?wt=[e]:wt.push(e)}var Wg=ir.ReactCurrentBatchConfig;function Wn(e,r,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var i=n.stateNode}if(!i)throw Error(q(147,e));var s=i,o=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===o?r.ref:(r=function(l){var a=s.refs;l===null?delete a[o]:a[o]=l},r._stringRef=o,r)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function ds(e,r){throw e=Object.prototype.toString.call(r),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function ju(e){var r=e._init;return r(e._payload)}function Bd(e){function r(f,d){if(e){var p=f.deletions;p===null?(f.deletions=[d],f.flags|=16):p.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)r(f,d),d=d.sibling;return null}function i(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function s(f,d){return f=xr(f,d),f.index=0,f.sibling=null,f}function o(f,d,p){return f.index=p,e?(p=f.alternate,p!==null?(p=p.index,p<d?(f.flags|=2,d):p):(f.flags|=2,d)):(f.flags|=1048576,d)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,d,p,m){return d===null||d.tag!==6?(d=ba(p,f.mode,m),d.return=f,d):(d=s(d,p),d.return=f,d)}function c(f,d,p,m){var S=p.type;return S===tn?g(f,d,p.props.children,m,p.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ur&&ju(S)===d.type)?(m=s(d,p.props),m.ref=Wn(f,d,p),m.return=f,m):(m=Bs(p.type,p.key,p.props,null,f.mode,m),m.ref=Wn(f,d,p),m.return=f,m)}function h(f,d,p,m){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=xa(p,f.mode,m),d.return=f,d):(d=s(d,p.children||[]),d.return=f,d)}function g(f,d,p,m,S){return d===null||d.tag!==7?(d=Hr(p,f.mode,m,S),d.return=f,d):(d=s(d,p),d.return=f,d)}function u(f,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ba(""+d,f.mode,p),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case rs:return p=Bs(d.type,d.key,d.props,null,f.mode,p),p.ref=Wn(f,null,d),p.return=f,p;case en:return d=xa(d,f.mode,p),d.return=f,d;case ur:var m=d._init;return u(f,m(d._payload),p)}if(ri(d)||Hn(d))return d=Hr(d,f.mode,p,null),d.return=f,d;ds(f,d)}return null}function v(f,d,p,m){var S=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:a(f,d,""+p,m);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case rs:return p.key===S?c(f,d,p,m):null;case en:return p.key===S?h(f,d,p,m):null;case ur:return S=p._init,v(f,d,S(p._payload),m)}if(ri(p)||Hn(p))return S!==null?null:g(f,d,p,m,null);ds(f,p)}return null}function y(f,d,p,m,S){if(typeof m=="string"&&m!==""||typeof m=="number")return f=f.get(p)||null,a(d,f,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case rs:return f=f.get(m.key===null?p:m.key)||null,c(d,f,m,S);case en:return f=f.get(m.key===null?p:m.key)||null,h(d,f,m,S);case ur:var x=m._init;return y(f,d,p,x(m._payload),S)}if(ri(m)||Hn(m))return f=f.get(p)||null,g(d,f,m,S,null);ds(d,m)}return null}function C(f,d,p,m){for(var S=null,x=null,k=d,b=d=0,E=null;k!==null&&b<p.length;b++){k.index>b?(E=k,k=null):E=k.sibling;var A=v(f,k,p[b],m);if(A===null){k===null&&(k=E);break}e&&k&&A.alternate===null&&r(f,k),d=o(A,d,b),x===null?S=A:x.sibling=A,x=A,k=E}if(b===p.length)return n(f,k),_e&&Dr(f,b),S;if(k===null){for(;b<p.length;b++)k=u(f,p[b],m),k!==null&&(d=o(k,d,b),x===null?S=k:x.sibling=k,x=k);return _e&&Dr(f,b),S}for(k=i(f,k);b<p.length;b++)E=y(k,f,b,p[b],m),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?b:E.key),d=o(E,d,b),x===null?S=E:x.sibling=E,x=E);return e&&k.forEach(function(P){return r(f,P)}),_e&&Dr(f,b),S}function w(f,d,p,m){var S=Hn(p);if(typeof S!="function")throw Error(q(150));if(p=S.call(p),p==null)throw Error(q(151));for(var x=S=null,k=d,b=d=0,E=null,A=p.next();k!==null&&!A.done;b++,A=p.next()){k.index>b?(E=k,k=null):E=k.sibling;var P=v(f,k,A.value,m);if(P===null){k===null&&(k=E);break}e&&k&&P.alternate===null&&r(f,k),d=o(P,d,b),x===null?S=P:x.sibling=P,x=P,k=E}if(A.done)return n(f,k),_e&&Dr(f,b),S;if(k===null){for(;!A.done;b++,A=p.next())A=u(f,A.value,m),A!==null&&(d=o(A,d,b),x===null?S=A:x.sibling=A,x=A);return _e&&Dr(f,b),S}for(k=i(f,k);!A.done;b++,A=p.next())A=y(k,f,b,A.value,m),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?b:A.key),d=o(A,d,b),x===null?S=A:x.sibling=A,x=A);return e&&k.forEach(function(D){return r(f,D)}),_e&&Dr(f,b),S}function _(f,d,p,m){if(typeof p=="object"&&p!==null&&p.type===tn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case rs:e:{for(var S=p.key,x=d;x!==null;){if(x.key===S){if(S=p.type,S===tn){if(x.tag===7){n(f,x.sibling),d=s(x,p.props.children),d.return=f,f=d;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ur&&ju(S)===x.type){n(f,x.sibling),d=s(x,p.props),d.ref=Wn(f,x,p),d.return=f,f=d;break e}n(f,x);break}else r(f,x);x=x.sibling}p.type===tn?(d=Hr(p.props.children,f.mode,m,p.key),d.return=f,f=d):(m=Bs(p.type,p.key,p.props,null,f.mode,m),m.ref=Wn(f,d,p),m.return=f,f=m)}return l(f);case en:e:{for(x=p.key;d!==null;){if(d.key===x)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(f,d.sibling),d=s(d,p.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else r(f,d);d=d.sibling}d=xa(p,f.mode,m),d.return=f,f=d}return l(f);case ur:return x=p._init,_(f,d,x(p._payload),m)}if(ri(p))return C(f,d,p,m);if(Hn(p))return w(f,d,p,m);ds(f,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(f,d.sibling),d=s(d,p),d.return=f,f=d):(n(f,d),d=ba(p,f.mode,m),d.return=f,f=d),l(f)):n(f,d)}return _}var kn=Bd(!0),Nd=Bd(!1),to=Ar(null),ro=null,un=null,gc=null;function vc(){gc=un=ro=null}function mc(e){var r=to.current;fe(to),e._currentValue=r}function ul(e,r,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,i!==null&&(i.childLanes|=r)):i!==null&&(i.childLanes&r)!==r&&(i.childLanes|=r),e===n)break;e=e.return}}function mn(e,r){ro=e,gc=un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(qe=!0),e.firstContext=null)}function pt(e){var r=e._currentValue;if(gc!==e)if(e={context:e,memoizedValue:r,next:null},un===null){if(ro===null)throw Error(q(308));un=e,ro.dependencies={lanes:0,firstContext:e}}else un=un.next=e;return r}var Ir=null;function yc(e){Ir===null?Ir=[e]:Ir.push(e)}function zd(e,r,n,i){var s=r.interleaved;return s===null?(n.next=n,yc(r)):(n.next=s.next,s.next=n),r.interleaved=n,tr(e,i)}function tr(e,r){e.lanes|=r;var n=e.alternate;for(n!==null&&(n.lanes|=r),n=e,e=e.return;e!==null;)e.childLanes|=r,n=e.alternate,n!==null&&(n.childLanes|=r),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hr=!1;function Sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function wr(e,r,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ne&2){var s=i.pending;return s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r,tr(e,n)}return s=i.interleaved,s===null?(r.next=r,yc(i)):(r.next=s.next,s.next=r),i.interleaved=r,tr(e,n)}function Ls(e,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var i=r.lanes;i&=e.pendingLanes,n|=i,r.lanes=n,sc(e,n)}}function Uu(e,r){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=r:o=o.next=r}else s=o=r;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=r:e.next=r,n.lastBaseUpdate=r}function no(e,r,n,i){var s=e.updateQueue;hr=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,h=c.next;c.next=null,l===null?o=h:l.next=h,l=c;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==l&&(a===null?g.firstBaseUpdate=h:a.next=h,g.lastBaseUpdate=c))}if(o!==null){var u=s.baseState;l=0,g=h=c=null,a=o;do{var v=a.lane,y=a.eventTime;if((i&v)===v){g!==null&&(g=g.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=e,w=a;switch(v=r,y=n,w.tag){case 1:if(C=w.payload,typeof C=="function"){u=C.call(y,u,v);break e}u=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=w.payload,v=typeof C=="function"?C.call(y,u,v):C,v==null)break e;u=ye({},u,v);break e;case 2:hr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[a]:v.push(a))}else y={eventTime:y,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(h=g=y,c=u):g=g.next=y,l|=v;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;v=a,a=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(1);if(g===null&&(c=u),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=g,r=s.shared.interleaved,r!==null){s=r;do l|=s.lane,s=s.next;while(s!==r)}else o===null&&(s.shared.lanes=0);Vr|=l,e.lanes=l,e.memoizedState=u}}function Wu(e,r,n){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var i=e[r],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(q(191,s));s.call(i)}}}var Xi={},Bt=Ar(Xi),Mi=Ar(Xi),Pi=Ar(Xi);function Br(e){if(e===Xi)throw Error(q(174));return e}function wc(e,r){switch(ce(Pi,r),ce(Mi,e),ce(Bt,Xi),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Wa(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Wa(r,e)}fe(Bt),ce(Bt,r)}function En(){fe(Bt),fe(Mi),fe(Pi)}function Fd(e){Br(Pi.current);var r=Br(Bt.current),n=Wa(r,e.type);r!==n&&(ce(Mi,e),ce(Bt,n))}function Cc(e){Mi.current===e&&(fe(Bt),fe(Mi))}var ve=Ar(0);function io(e){for(var r=e;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var va=[];function bc(){for(var e=0;e<va.length;e++)va[e]._workInProgressVersionPrimary=null;va.length=0}var Ds=ir.ReactCurrentDispatcher,ma=ir.ReactCurrentBatchConfig,Wr=0,me=null,be=null,ke=null,so=!1,_i=!1,Oi=0,Vg=0;function Me(){throw Error(q(321))}function xc(e,r){if(r===null)return!1;for(var n=0;n<r.length&&n<e.length;n++)if(!Et(e[n],r[n]))return!1;return!0}function kc(e,r,n,i,s,o){if(Wr=o,me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ds.current=e===null||e.memoizedState===null?Xg:Yg,e=n(i,s),_i){o=0;do{if(_i=!1,Oi=0,25<=o)throw Error(q(301));o+=1,ke=be=null,r.updateQueue=null,Ds.current=Qg,e=n(i,s)}while(_i)}if(Ds.current=oo,r=be!==null&&be.next!==null,Wr=0,ke=be=me=null,so=!1,r)throw Error(q(300));return e}function Ec(){var e=Oi!==0;return Oi=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?me.memoizedState=ke=e:ke=ke.next=e,ke}function gt(){if(be===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var r=ke===null?me.memoizedState:ke.next;if(r!==null)ke=r,be=e;else{if(e===null)throw Error(q(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},ke===null?me.memoizedState=ke=e:ke=ke.next=e}return ke}function Ii(e,r){return typeof r=="function"?r(e):r}function ya(e){var r=gt(),n=r.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var i=be,s=i.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}i.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,i=i.baseState;var a=l=null,c=null,h=o;do{var g=h.lane;if((Wr&g)===g)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:e(i,h.action);else{var u={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(a=c=u,l=i):c=c.next=u,me.lanes|=g,Vr|=g}h=h.next}while(h!==null&&h!==o);c===null?l=i:c.next=a,Et(i,r.memoizedState)||(qe=!0),r.memoizedState=i,r.baseState=l,r.baseQueue=c,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do o=s.lane,me.lanes|=o,Vr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function Sa(e){var r=gt(),n=r.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,o=r.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);Et(o,r.memoizedState)||(qe=!0),r.memoizedState=o,r.baseQueue===null&&(r.baseState=o),n.lastRenderedState=o}return[o,i]}function $d(){}function jd(e,r){var n=me,i=gt(),s=r(),o=!Et(i.memoizedState,s);if(o&&(i.memoizedState=s,qe=!0),i=i.queue,Rc(Vd.bind(null,n,i,e),[e]),i.getSnapshot!==r||o||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,Bi(9,Wd.bind(null,n,i,s,r),void 0,null),Ee===null)throw Error(q(349));Wr&30||Ud(n,r,s)}return s}function Ud(e,r,n){e.flags|=16384,e={getSnapshot:r,value:n},r=me.updateQueue,r===null?(r={lastEffect:null,stores:null},me.updateQueue=r,r.stores=[e]):(n=r.stores,n===null?r.stores=[e]:n.push(e))}function Wd(e,r,n,i){r.value=n,r.getSnapshot=i,qd(r)&&Kd(e)}function Vd(e,r,n){return n(function(){qd(r)&&Kd(e)})}function qd(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!Et(e,n)}catch{return!0}}function Kd(e){var r=tr(e,1);r!==null&&kt(r,e,1,-1)}function Vu(e){var r=Lt();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},r.queue=e,e=e.dispatch=Gg.bind(null,me,e),[r.memoizedState,e]}function Bi(e,r,n,i){return e={tag:e,create:r,destroy:n,deps:i,next:null},r=me.updateQueue,r===null?(r={lastEffect:null,stores:null},me.updateQueue=r,r.lastEffect=e.next=e):(n=r.lastEffect,n===null?r.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,r.lastEffect=e)),e}function Gd(){return gt().memoizedState}function Ms(e,r,n,i){var s=Lt();me.flags|=e,s.memoizedState=Bi(1|r,n,void 0,i===void 0?null:i)}function Mo(e,r,n,i){var s=gt();i=i===void 0?null:i;var o=void 0;if(be!==null){var l=be.memoizedState;if(o=l.destroy,i!==null&&xc(i,l.deps)){s.memoizedState=Bi(r,n,o,i);return}}me.flags|=e,s.memoizedState=Bi(1|r,n,o,i)}function qu(e,r){return Ms(8390656,8,e,r)}function Rc(e,r){return Mo(2048,8,e,r)}function Xd(e,r){return Mo(4,2,e,r)}function Yd(e,r){return Mo(4,4,e,r)}function Qd(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Zd(e,r,n){return n=n!=null?n.concat([e]):null,Mo(4,4,Qd.bind(null,r,e),n)}function Ac(){}function Jd(e,r){var n=gt();r=r===void 0?null:r;var i=n.memoizedState;return i!==null&&r!==null&&xc(r,i[1])?i[0]:(n.memoizedState=[e,r],e)}function e_(e,r){var n=gt();r=r===void 0?null:r;var i=n.memoizedState;return i!==null&&r!==null&&xc(r,i[1])?i[0]:(e=e(),n.memoizedState=[e,r],e)}function t_(e,r,n){return Wr&21?(Et(n,r)||(n=od(),me.lanes|=n,Vr|=n,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function qg(e,r){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var i=ma.transition;ma.transition={};try{e(!1),r()}finally{ae=n,ma.transition=i}}function r_(){return gt().memoizedState}function Kg(e,r,n){var i=br(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},n_(e))i_(r,n);else if(n=zd(e,r,n,i),n!==null){var s=Fe();kt(n,e,i,s),s_(n,r,i)}}function Gg(e,r,n){var i=br(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(n_(e))i_(r,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=r.lastRenderedReducer,o!==null))try{var l=r.lastRenderedState,a=o(l,n);if(s.hasEagerState=!0,s.eagerState=a,Et(a,l)){var c=r.interleaved;c===null?(s.next=s,yc(r)):(s.next=c.next,c.next=s),r.interleaved=s;return}}catch{}finally{}n=zd(e,r,s,i),n!==null&&(s=Fe(),kt(n,e,i,s),s_(n,r,i))}}function n_(e){var r=e.alternate;return e===me||r!==null&&r===me}function i_(e,r){_i=so=!0;var n=e.pending;n===null?r.next=r:(r.next=n.next,n.next=r),e.pending=r}function s_(e,r,n){if(n&4194240){var i=r.lanes;i&=e.pendingLanes,n|=i,r.lanes=n,sc(e,n)}}var oo={readContext:pt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},Xg={readContext:pt,useCallback:function(e,r){return Lt().memoizedState=[e,r===void 0?null:r],e},useContext:pt,useEffect:qu,useImperativeHandle:function(e,r,n){return n=n!=null?n.concat([e]):null,Ms(4194308,4,Qd.bind(null,r,e),n)},useLayoutEffect:function(e,r){return Ms(4194308,4,e,r)},useInsertionEffect:function(e,r){return Ms(4,2,e,r)},useMemo:function(e,r){var n=Lt();return r=r===void 0?null:r,e=e(),n.memoizedState=[e,r],e},useReducer:function(e,r,n){var i=Lt();return r=n!==void 0?n(r):r,i.memoizedState=i.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Kg.bind(null,me,e),[i.memoizedState,e]},useRef:function(e){var r=Lt();return e={current:e},r.memoizedState=e},useState:Vu,useDebugValue:Ac,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=Vu(!1),r=e[0];return e=qg.bind(null,e[1]),Lt().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,n){var i=me,s=Lt();if(_e){if(n===void 0)throw Error(q(407));n=n()}else{if(n=r(),Ee===null)throw Error(q(349));Wr&30||Ud(i,r,n)}s.memoizedState=n;var o={value:n,getSnapshot:r};return s.queue=o,qu(Vd.bind(null,i,o,e),[e]),i.flags|=2048,Bi(9,Wd.bind(null,i,o,n,r),void 0,null),n},useId:function(){var e=Lt(),r=Ee.identifierPrefix;if(_e){var n=Gt,i=Kt;n=(i&~(1<<32-xt(i)-1)).toString(32)+n,r=":"+r+"R"+n,n=Oi++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=Vg++,r=":"+r+"r"+n.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Yg={readContext:pt,useCallback:Jd,useContext:pt,useEffect:Rc,useImperativeHandle:Zd,useInsertionEffect:Xd,useLayoutEffect:Yd,useMemo:e_,useReducer:ya,useRef:Gd,useState:function(){return ya(Ii)},useDebugValue:Ac,useDeferredValue:function(e){var r=gt();return t_(r,be.memoizedState,e)},useTransition:function(){var e=ya(Ii)[0],r=gt().memoizedState;return[e,r]},useMutableSource:$d,useSyncExternalStore:jd,useId:r_,unstable_isNewReconciler:!1},Qg={readContext:pt,useCallback:Jd,useContext:pt,useEffect:Rc,useImperativeHandle:Zd,useInsertionEffect:Xd,useLayoutEffect:Yd,useMemo:e_,useReducer:Sa,useRef:Gd,useState:function(){return Sa(Ii)},useDebugValue:Ac,useDeferredValue:function(e){var r=gt();return be===null?r.memoizedState=e:t_(r,be.memoizedState,e)},useTransition:function(){var e=Sa(Ii)[0],r=gt().memoizedState;return[e,r]},useMutableSource:$d,useSyncExternalStore:jd,useId:r_,unstable_isNewReconciler:!1};function yt(e,r){if(e&&e.defaultProps){r=ye({},r),e=e.defaultProps;for(var n in e)r[n]===void 0&&(r[n]=e[n]);return r}return r}function hl(e,r,n,i){r=e.memoizedState,n=n(i,r),n=n==null?r:ye({},r,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Po={isMounted:function(e){return(e=e._reactInternals)?Xr(e)===e:!1},enqueueSetState:function(e,r,n){e=e._reactInternals;var i=Fe(),s=br(e),o=Qt(i,s);o.payload=r,n!=null&&(o.callback=n),r=wr(e,o,s),r!==null&&(kt(r,e,s,i),Ls(r,e,s))},enqueueReplaceState:function(e,r,n){e=e._reactInternals;var i=Fe(),s=br(e),o=Qt(i,s);o.tag=1,o.payload=r,n!=null&&(o.callback=n),r=wr(e,o,s),r!==null&&(kt(r,e,s,i),Ls(r,e,s))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var n=Fe(),i=br(e),s=Qt(n,i);s.tag=2,r!=null&&(s.callback=r),r=wr(e,s,i),r!==null&&(kt(r,e,i,n),Ls(r,e,i))}};function Ku(e,r,n,i,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,l):r.prototype&&r.prototype.isPureReactComponent?!Ai(n,i)||!Ai(s,o):!0}function o_(e,r,n){var i=!1,s=Er,o=r.contextType;return typeof o=="object"&&o!==null?o=pt(o):(s=Xe(r)?jr:Be.current,i=r.contextTypes,o=(i=i!=null)?bn(e,s):Er),r=new r(n,o),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Po,e.stateNode=r,r._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),r}function Gu(e,r,n,i){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,i),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,i),r.state!==e&&Po.enqueueReplaceState(r,r.state,null)}function fl(e,r,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Sc(e);var o=r.contextType;typeof o=="object"&&o!==null?s.context=pt(o):(o=Xe(r)?jr:Be.current,s.context=bn(e,o)),s.state=e.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(hl(e,r,o,n),s.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&Po.enqueueReplaceState(s,s.state,null),no(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Rn(e,r){try{var n="",i=r;do n+=k0(i),i=i.return;while(i);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:r,stack:s,digest:null}}function wa(e,r,n){return{value:e,source:null,stack:n??null,digest:r??null}}function dl(e,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var Zg=typeof WeakMap=="function"?WeakMap:Map;function a_(e,r,n){n=Qt(-1,n),n.tag=3,n.payload={element:null};var i=r.value;return n.callback=function(){lo||(lo=!0,bl=i),dl(e,r)},n}function l_(e,r,n){n=Qt(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;n.payload=function(){return i(s)},n.callback=function(){dl(e,r)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){dl(e,r),typeof i!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})}),n}function Xu(e,r,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Zg;var s=new Set;i.set(r,s)}else s=i.get(r),s===void 0&&(s=new Set,i.set(r,s));s.has(n)||(s.add(n),e=fv.bind(null,e,r,n),r.then(e,e))}function Yu(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Qu(e,r,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===r?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=Qt(-1,1),r.tag=2,wr(n,r,1))),n.lanes|=1),e)}var Jg=ir.ReactCurrentOwner,qe=!1;function ze(e,r,n,i){r.child=e===null?Nd(r,null,n,i):kn(r,e.child,n,i)}function Zu(e,r,n,i,s){n=n.render;var o=r.ref;return mn(r,s),i=kc(e,r,n,i,o,s),n=Ec(),e!==null&&!qe?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s,rr(e,r,s)):(_e&&n&&dc(r),r.flags|=1,ze(e,r,i,s),r.child)}function Ju(e,r,n,i,s){if(e===null){var o=n.type;return typeof o=="function"&&!Bc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=o,c_(e,r,o,i,s)):(e=Bs(n.type,null,i,r,r.mode,s),e.ref=r.ref,e.return=r,r.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ai,n(l,i)&&e.ref===r.ref)return rr(e,r,s)}return r.flags|=1,e=xr(o,i),e.ref=r.ref,e.return=r,r.child=e}function c_(e,r,n,i,s){if(e!==null){var o=e.memoizedProps;if(Ai(o,i)&&e.ref===r.ref)if(qe=!1,r.pendingProps=i=o,(e.lanes&s)!==0)e.flags&131072&&(qe=!0);else return r.lanes=e.lanes,rr(e,r,s)}return _l(e,r,n,i,s)}function u_(e,r,n){var i=r.pendingProps,s=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(fn,Je),Je|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,ce(fn,Je),Je|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,ce(fn,Je),Je|=i}else o!==null?(i=o.baseLanes|n,r.memoizedState=null):i=n,ce(fn,Je),Je|=i;return ze(e,r,s,n),r.child}function h_(e,r){var n=r.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function _l(e,r,n,i,s){var o=Xe(n)?jr:Be.current;return o=bn(r,o),mn(r,s),n=kc(e,r,n,i,o,s),i=Ec(),e!==null&&!qe?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s,rr(e,r,s)):(_e&&i&&dc(r),r.flags|=1,ze(e,r,n,s),r.child)}function eh(e,r,n,i,s){if(Xe(n)){var o=!0;Zs(r)}else o=!1;if(mn(r,s),r.stateNode===null)Ps(e,r),o_(r,n,i),fl(r,n,i,s),i=!0;else if(e===null){var l=r.stateNode,a=r.memoizedProps;l.props=a;var c=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=pt(h):(h=Xe(n)?jr:Be.current,h=bn(r,h));var g=n.getDerivedStateFromProps,u=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";u||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==i||c!==h)&&Gu(r,l,i,h),hr=!1;var v=r.memoizedState;l.state=v,no(r,i,l,s),c=r.memoizedState,a!==i||v!==c||Ge.current||hr?(typeof g=="function"&&(hl(r,n,g,i),c=r.memoizedState),(a=hr||Ku(r,n,a,i,v,c,h))?(u||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(r.flags|=4194308)):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=i,r.memoizedState=c),l.props=i,l.state=c,l.context=h,i=a):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),i=!1)}else{l=r.stateNode,Hd(e,r),a=r.memoizedProps,h=r.type===r.elementType?a:yt(r.type,a),l.props=h,u=r.pendingProps,v=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=pt(c):(c=Xe(n)?jr:Be.current,c=bn(r,c));var y=n.getDerivedStateFromProps;(g=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==u||v!==c)&&Gu(r,l,i,c),hr=!1,v=r.memoizedState,l.state=v,no(r,i,l,s);var C=r.memoizedState;a!==u||v!==C||Ge.current||hr?(typeof y=="function"&&(hl(r,n,y,i),C=r.memoizedState),(h=hr||Ku(r,n,h,i,v,C,c)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,C,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,C,c)),typeof l.componentDidUpdate=="function"&&(r.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(r.flags|=1024),r.memoizedProps=i,r.memoizedState=C),l.props=i,l.state=C,l.context=c,i=h):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(r.flags|=1024),i=!1)}return pl(e,r,n,i,o,s)}function pl(e,r,n,i,s,o){h_(e,r);var l=(r.flags&128)!==0;if(!i&&!l)return s&&Hu(r,n,!1),rr(e,r,o);i=r.stateNode,Jg.current=r;var a=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return r.flags|=1,e!==null&&l?(r.child=kn(r,e.child,null,o),r.child=kn(r,null,a,o)):ze(e,r,a,o),r.memoizedState=i.state,s&&Hu(r,n,!0),r.child}function f_(e){var r=e.stateNode;r.pendingContext?zu(e,r.pendingContext,r.pendingContext!==r.context):r.context&&zu(e,r.context,!1),wc(e,r.containerInfo)}function th(e,r,n,i,s){return xn(),pc(s),r.flags|=256,ze(e,r,n,i),r.child}var gl={dehydrated:null,treeContext:null,retryLane:0};function vl(e){return{baseLanes:e,cachePool:null,transitions:null}}function d_(e,r,n){var i=r.pendingProps,s=ve.current,o=!1,l=(r.flags&128)!==0,a;if((a=l)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(ve,s&1),e===null)return cl(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(l=i.children,e=i.fallback,o?(i=r.mode,o=r.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Bo(l,i,0,null),e=Hr(e,i,n,null),o.return=r,e.return=r,o.sibling=e,r.child=o,r.child.memoizedState=vl(n),r.memoizedState=gl,e):Tc(r,l));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ev(e,r,l,i,a,s,n);if(o){o=i.fallback,l=r.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:i.children};return!(l&1)&&r.child!==s?(i=r.child,i.childLanes=0,i.pendingProps=c,r.deletions=null):(i=xr(s,c),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=xr(a,o):(o=Hr(o,l,n,null),o.flags|=2),o.return=r,i.return=r,i.sibling=o,r.child=i,i=o,o=r.child,l=e.child.memoizedState,l=l===null?vl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,r.memoizedState=gl,i}return o=e.child,e=o.sibling,i=xr(o,{mode:"visible",children:i.children}),!(r.mode&1)&&(i.lanes=n),i.return=r,i.sibling=null,e!==null&&(n=r.deletions,n===null?(r.deletions=[e],r.flags|=16):n.push(e)),r.child=i,r.memoizedState=null,i}function Tc(e,r){return r=Bo({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function _s(e,r,n,i){return i!==null&&pc(i),kn(r,e.child,null,n),e=Tc(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function ev(e,r,n,i,s,o,l){if(n)return r.flags&256?(r.flags&=-257,i=wa(Error(q(422))),_s(e,r,l,i)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(o=i.fallback,s=r.mode,i=Bo({mode:"visible",children:i.children},s,0,null),o=Hr(o,s,l,null),o.flags|=2,i.return=r,o.return=r,i.sibling=o,r.child=i,r.mode&1&&kn(r,e.child,null,l),r.child.memoizedState=vl(l),r.memoizedState=gl,o);if(!(r.mode&1))return _s(e,r,l,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,o=Error(q(419)),i=wa(o,i,void 0),_s(e,r,l,i)}if(a=(l&e.childLanes)!==0,qe||a){if(i=Ee,i!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,tr(e,s),kt(i,e,s,-1))}return Ic(),i=wa(Error(q(421))),_s(e,r,l,i)}return s.data==="$?"?(r.flags|=128,r.child=e.child,r=dv.bind(null,e),s._reactRetry=r,null):(e=o.treeContext,et=Sr(s.nextSibling),tt=r,_e=!0,wt=null,e!==null&&(ct[ut++]=Kt,ct[ut++]=Gt,ct[ut++]=Ur,Kt=e.id,Gt=e.overflow,Ur=r),r=Tc(r,i.children),r.flags|=4096,r)}function rh(e,r,n){e.lanes|=r;var i=e.alternate;i!==null&&(i.lanes|=r),ul(e.return,r,n)}function Ca(e,r,n,i,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(o.isBackwards=r,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=s)}function __(e,r,n){var i=r.pendingProps,s=i.revealOrder,o=i.tail;if(ze(e,r,i.children,n),i=ve.current,i&2)i=i&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rh(e,n,r);else if(e.tag===19)rh(e,n,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ce(ve,i),!(r.mode&1))r.memoizedState=null;else switch(s){case"forwards":for(n=r.child,s=null;n!==null;)e=n.alternate,e!==null&&io(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=r.child,r.child=null):(s=n.sibling,n.sibling=null),Ca(r,!1,s,n,o);break;case"backwards":for(n=null,s=r.child,r.child=null;s!==null;){if(e=s.alternate,e!==null&&io(e)===null){r.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ca(r,!0,n,null,o);break;case"together":Ca(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ps(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function rr(e,r,n){if(e!==null&&(r.dependencies=e.dependencies),Vr|=r.lanes,!(n&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(q(153));if(r.child!==null){for(e=r.child,n=xr(e,e.pendingProps),r.child=n,n.return=r;e.sibling!==null;)e=e.sibling,n=n.sibling=xr(e,e.pendingProps),n.return=r;n.sibling=null}return r.child}function tv(e,r,n){switch(r.tag){case 3:f_(r),xn();break;case 5:Fd(r);break;case 1:Xe(r.type)&&Zs(r);break;case 4:wc(r,r.stateNode.containerInfo);break;case 10:var i=r.type._context,s=r.memoizedProps.value;ce(to,i._currentValue),i._currentValue=s;break;case 13:if(i=r.memoizedState,i!==null)return i.dehydrated!==null?(ce(ve,ve.current&1),r.flags|=128,null):n&r.child.childLanes?d_(e,r,n):(ce(ve,ve.current&1),e=rr(e,r,n),e!==null?e.sibling:null);ce(ve,ve.current&1);break;case 19:if(i=(n&r.childLanes)!==0,e.flags&128){if(i)return __(e,r,n);r.flags|=128}if(s=r.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(ve,ve.current),i)break;return null;case 22:case 23:return r.lanes=0,u_(e,r,n)}return rr(e,r,n)}var p_,ml,g_,v_;p_=function(e,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ml=function(){};g_=function(e,r,n,i){var s=e.memoizedProps;if(s!==i){e=r.stateNode,Br(Bt.current);var o=null;switch(n){case"input":s=Fa(e,s),i=Fa(e,i),o=[];break;case"select":s=ye({},s,{value:void 0}),i=ye({},i,{value:void 0}),o=[];break;case"textarea":s=Ua(e,s),i=Ua(e,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ys)}Va(n,i);var l;n=null;for(h in s)if(!i.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var a=s[h];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(wi.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in i){var c=i[h];if(a=s!=null?s[h]:void 0,i.hasOwnProperty(h)&&c!==a&&(c!=null||a!=null))if(h==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(o||(o=[]),o.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(wi.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&ue("scroll",e),o||a===c||(o=[])):(o=o||[]).push(h,c))}n&&(o=o||[]).push("style",n);var h=o;(r.updateQueue=h)&&(r.flags|=4)}};v_=function(e,r,n,i){n!==i&&(r.flags|=4)};function Vn(e,r){if(!_e)switch(e.tailMode){case"hidden":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Pe(e){var r=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(r)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,r}function rv(e,r,n){var i=r.pendingProps;switch(_c(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(r),null;case 1:return Xe(r.type)&&Qs(),Pe(r),null;case 3:return i=r.stateNode,En(),fe(Ge),fe(Be),bc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(fs(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,wt!==null&&(El(wt),wt=null))),ml(e,r),Pe(r),null;case 5:Cc(r);var s=Br(Pi.current);if(n=r.type,e!==null&&r.stateNode!=null)g_(e,r,n,i,s),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!i){if(r.stateNode===null)throw Error(q(166));return Pe(r),null}if(e=Br(Bt.current),fs(r)){i=r.stateNode,n=r.type;var o=r.memoizedProps;switch(i[Pt]=r,i[Di]=o,e=(r.mode&1)!==0,n){case"dialog":ue("cancel",i),ue("close",i);break;case"iframe":case"object":case"embed":ue("load",i);break;case"video":case"audio":for(s=0;s<ii.length;s++)ue(ii[s],i);break;case"source":ue("error",i);break;case"img":case"image":case"link":ue("error",i),ue("load",i);break;case"details":ue("toggle",i);break;case"input":hu(i,o),ue("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ue("invalid",i);break;case"textarea":du(i,o),ue("invalid",i)}Va(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var a=o[l];l==="children"?typeof a=="string"?i.textContent!==a&&(o.suppressHydrationWarning!==!0&&hs(i.textContent,a,e),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&hs(i.textContent,a,e),s=["children",""+a]):wi.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&ue("scroll",i)}switch(n){case"input":ns(i),fu(i,o,!0);break;case"textarea":ns(i),_u(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Ys)}i=s,r.updateQueue=i,i!==null&&(r.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),n==="select"&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[Pt]=r,e[Di]=i,p_(e,r,!1,!1),r.stateNode=e;e:{switch(l=qa(n,i),n){case"dialog":ue("cancel",e),ue("close",e),s=i;break;case"iframe":case"object":case"embed":ue("load",e),s=i;break;case"video":case"audio":for(s=0;s<ii.length;s++)ue(ii[s],e);s=i;break;case"source":ue("error",e),s=i;break;case"img":case"image":case"link":ue("error",e),ue("load",e),s=i;break;case"details":ue("toggle",e),s=i;break;case"input":hu(e,i),s=Fa(e,i),ue("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=ye({},i,{value:void 0}),ue("invalid",e);break;case"textarea":du(e,i),s=Ua(e,i),ue("invalid",e);break;default:s=i}Va(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Gf(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qf(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ci(e,c):typeof c=="number"&&Ci(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wi.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ue("scroll",e):c!=null&&Jl(e,o,c,l))}switch(n){case"input":ns(e),fu(e,i,!1);break;case"textarea":ns(e),_u(e);break;case"option":i.value!=null&&e.setAttribute("value",""+kr(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?_n(e,!!i.multiple,o,!1):i.defaultValue!=null&&_n(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ys)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Pe(r),null;case 6:if(e&&r.stateNode!=null)v_(e,r,e.memoizedProps,i);else{if(typeof i!="string"&&r.stateNode===null)throw Error(q(166));if(n=Br(Pi.current),Br(Bt.current),fs(r)){if(i=r.stateNode,n=r.memoizedProps,i[Pt]=r,(o=i.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:hs(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hs(i.nodeValue,n,(e.mode&1)!==0)}o&&(r.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Pt]=r,r.stateNode=i}return Pe(r),null;case 13:if(fe(ve),i=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&et!==null&&r.mode&1&&!(r.flags&128))Id(),xn(),r.flags|=98560,o=!1;else if(o=fs(r),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(q(318));if(o=r.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[Pt]=r}else xn(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Pe(r),o=!1}else wt!==null&&(El(wt),wt=null),o=!0;if(!o)return r.flags&65536?r:null}return r.flags&128?(r.lanes=n,r):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(r.child.flags|=8192,r.mode&1&&(e===null||ve.current&1?xe===0&&(xe=3):Ic())),r.updateQueue!==null&&(r.flags|=4),Pe(r),null);case 4:return En(),ml(e,r),e===null&&Ti(r.stateNode.containerInfo),Pe(r),null;case 10:return mc(r.type._context),Pe(r),null;case 17:return Xe(r.type)&&Qs(),Pe(r),null;case 19:if(fe(ve),o=r.memoizedState,o===null)return Pe(r),null;if(i=(r.flags&128)!==0,l=o.rendering,l===null)if(i)Vn(o,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(l=io(e),l!==null){for(r.flags|=128,Vn(o,!1),i=l.updateQueue,i!==null&&(r.updateQueue=i,r.flags|=4),r.subtreeFlags=0,i=n,n=r.child;n!==null;)o=n,e=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(ve,ve.current&1|2),r.child}e=e.sibling}o.tail!==null&&we()>An&&(r.flags|=128,i=!0,Vn(o,!1),r.lanes=4194304)}else{if(!i)if(e=io(l),e!==null){if(r.flags|=128,i=!0,n=e.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),Vn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!_e)return Pe(r),null}else 2*we()-o.renderingStartTime>An&&n!==1073741824&&(r.flags|=128,i=!0,Vn(o,!1),r.lanes=4194304);o.isBackwards?(l.sibling=r.child,r.child=l):(n=o.last,n!==null?n.sibling=l:r.child=l,o.last=l)}return o.tail!==null?(r=o.tail,o.rendering=r,o.tail=r.sibling,o.renderingStartTime=we(),r.sibling=null,n=ve.current,ce(ve,i?n&1|2:n&1),r):(Pe(r),null);case 22:case 23:return Oc(),i=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(r.flags|=8192),i&&r.mode&1?Je&1073741824&&(Pe(r),r.subtreeFlags&6&&(r.flags|=8192)):Pe(r),null;case 24:return null;case 25:return null}throw Error(q(156,r.tag))}function nv(e,r){switch(_c(r),r.tag){case 1:return Xe(r.type)&&Qs(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return En(),fe(Ge),fe(Be),bc(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return Cc(r),null;case 13:if(fe(ve),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(q(340));xn()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return fe(ve),null;case 4:return En(),null;case 10:return mc(r.type._context),null;case 22:case 23:return Oc(),null;case 24:return null;default:return null}}var ps=!1,Ie=!1,iv=typeof WeakSet=="function"?WeakSet:Set,Q=null;function hn(e,r){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Se(e,r,i)}else n.current=null}function yl(e,r,n){try{n()}catch(i){Se(e,r,i)}}var nh=!1;function sv(e,r){if(rl=Ks,e=Cd(),fc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,a=-1,c=-1,h=0,g=0,u=e,v=null;t:for(;;){for(var y;u!==n||s!==0&&u.nodeType!==3||(a=l+s),u!==o||i!==0&&u.nodeType!==3||(c=l+i),u.nodeType===3&&(l+=u.nodeValue.length),(y=u.firstChild)!==null;)v=u,u=y;for(;;){if(u===e)break t;if(v===n&&++h===s&&(a=l),v===o&&++g===i&&(c=l),(y=u.nextSibling)!==null)break;u=v,v=u.parentNode}u=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nl={focusedElem:e,selectionRange:n},Ks=!1,Q=r;Q!==null;)if(r=Q,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Q=e;else for(;Q!==null;){r=Q;try{var C=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var w=C.memoizedProps,_=C.memoizedState,f=r.stateNode,d=f.getSnapshotBeforeUpdate(r.elementType===r.type?w:yt(r.type,w),_);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=r.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(m){Se(r,r.return,m)}if(e=r.sibling,e!==null){e.return=r.return,Q=e;break}Q=r.return}return C=nh,nh=!1,C}function pi(e,r,n){var i=r.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&yl(r,n,o)}s=s.next}while(s!==i)}}function Oo(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==r)}}function Sl(e){var r=e.ref;if(r!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof r=="function"?r(e):r.current=e}}function m_(e){var r=e.alternate;r!==null&&(e.alternate=null,m_(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Pt],delete r[Di],delete r[ol],delete r[$g],delete r[jg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function y_(e){return e.tag===5||e.tag===3||e.tag===4}function ih(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||y_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wl(e,r,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(e,n)):(r=n,r.appendChild(e)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=Ys));else if(i!==4&&(e=e.child,e!==null))for(wl(e,r,n),e=e.sibling;e!==null;)wl(e,r,n),e=e.sibling}function Cl(e,r,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,r?n.insertBefore(e,r):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Cl(e,r,n),e=e.sibling;e!==null;)Cl(e,r,n),e=e.sibling}var Ae=null,St=!1;function ar(e,r,n){for(n=n.child;n!==null;)S_(e,r,n),n=n.sibling}function S_(e,r,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Eo,n)}catch{}switch(n.tag){case 5:Ie||hn(n,r);case 6:var i=Ae,s=St;Ae=null,ar(e,r,n),Ae=i,St=s,Ae!==null&&(St?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(St?(e=Ae,n=n.stateNode,e.nodeType===8?pa(e.parentNode,n):e.nodeType===1&&pa(e,n),Ei(e)):pa(Ae,n.stateNode));break;case 4:i=Ae,s=St,Ae=n.stateNode.containerInfo,St=!0,ar(e,r,n),Ae=i,St=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&yl(n,r,l),s=s.next}while(s!==i)}ar(e,r,n);break;case 1:if(!Ie&&(hn(n,r),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Se(n,r,a)}ar(e,r,n);break;case 21:ar(e,r,n);break;case 22:n.mode&1?(Ie=(i=Ie)||n.memoizedState!==null,ar(e,r,n),Ie=i):ar(e,r,n);break;default:ar(e,r,n)}}function sh(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new iv),r.forEach(function(i){var s=_v.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function vt(e,r){var n=r.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var o=e,l=r,a=l;e:for(;a!==null;){switch(a.tag){case 5:Ae=a.stateNode,St=!1;break e;case 3:Ae=a.stateNode.containerInfo,St=!0;break e;case 4:Ae=a.stateNode.containerInfo,St=!0;break e}a=a.return}if(Ae===null)throw Error(q(160));S_(o,l,s),Ae=null,St=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(h){Se(s,r,h)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)w_(r,e),r=r.sibling}function w_(e,r){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(r,e),Tt(e),i&4){try{pi(3,e,e.return),Oo(3,e)}catch(w){Se(e,e.return,w)}try{pi(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:vt(r,e),Tt(e),i&512&&n!==null&&hn(n,n.return);break;case 5:if(vt(r,e),Tt(e),i&512&&n!==null&&hn(n,n.return),e.flags&32){var s=e.stateNode;try{Ci(s,"")}catch(w){Se(e,e.return,w)}}if(i&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Uf(s,o),qa(a,l);var h=qa(a,o);for(l=0;l<c.length;l+=2){var g=c[l],u=c[l+1];g==="style"?Gf(s,u):g==="dangerouslySetInnerHTML"?qf(s,u):g==="children"?Ci(s,u):Jl(s,g,u,h)}switch(a){case"input":$a(s,o);break;case"textarea":Wf(s,o);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?_n(s,!!o.multiple,y,!1):v!==!!o.multiple&&(o.defaultValue!=null?_n(s,!!o.multiple,o.defaultValue,!0):_n(s,!!o.multiple,o.multiple?[]:"",!1))}s[Di]=o}catch(w){Se(e,e.return,w)}}break;case 6:if(vt(r,e),Tt(e),i&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(w){Se(e,e.return,w)}}break;case 3:if(vt(r,e),Tt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ei(r.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:vt(r,e),Tt(e);break;case 13:vt(r,e),Tt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Mc=we())),i&4&&sh(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(h=Ie)||g,vt(r,e),Ie=h):vt(r,e),Tt(e),i&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(Q=e,g=e.child;g!==null;){for(u=Q=g;Q!==null;){switch(v=Q,y=v.child,v.tag){case 0:case 11:case 14:case 15:pi(4,v,v.return);break;case 1:hn(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){i=v,n=v.return;try{r=i,C.props=r.memoizedProps,C.state=r.memoizedState,C.componentWillUnmount()}catch(w){Se(i,n,w)}}break;case 5:hn(v,v.return);break;case 22:if(v.memoizedState!==null){ah(u);continue}}y!==null?(y.return=v,Q=y):ah(u)}g=g.sibling}e:for(g=null,u=e;;){if(u.tag===5){if(g===null){g=u;try{s=u.stateNode,h?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=u.stateNode,c=u.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Kf("display",l))}catch(w){Se(e,e.return,w)}}}else if(u.tag===6){if(g===null)try{u.stateNode.nodeValue=h?"":u.memoizedProps}catch(w){Se(e,e.return,w)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:vt(r,e),Tt(e),i&4&&sh(e);break;case 21:break;default:vt(r,e),Tt(e)}}function Tt(e){var r=e.flags;if(r&2){try{e:{for(var n=e.return;n!==null;){if(y_(n)){var i=n;break e}n=n.return}throw Error(q(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Ci(s,""),i.flags&=-33);var o=ih(e);Cl(e,o,s);break;case 3:case 4:var l=i.stateNode.containerInfo,a=ih(e);wl(e,a,l);break;default:throw Error(q(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function ov(e,r,n){Q=e,C_(e)}function C_(e,r,n){for(var i=(e.mode&1)!==0;Q!==null;){var s=Q,o=s.child;if(s.tag===22&&i){var l=s.memoizedState!==null||ps;if(!l){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ie;a=ps;var h=Ie;if(ps=l,(Ie=c)&&!h)for(Q=s;Q!==null;)l=Q,c=l.child,l.tag===22&&l.memoizedState!==null?lh(s):c!==null?(c.return=l,Q=c):lh(s);for(;o!==null;)Q=o,C_(o),o=o.sibling;Q=s,ps=a,Ie=h}oh(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Q=o):oh(e)}}function oh(e){for(;Q!==null;){var r=Q;if(r.flags&8772){var n=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Ie||Oo(5,r);break;case 1:var i=r.stateNode;if(r.flags&4&&!Ie)if(n===null)i.componentDidMount();else{var s=r.elementType===r.type?n.memoizedProps:yt(r.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=r.updateQueue;o!==null&&Wu(r,o,i);break;case 3:var l=r.updateQueue;if(l!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}Wu(r,l,n)}break;case 5:var a=r.stateNode;if(n===null&&r.flags&4){n=a;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var h=r.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var u=g.dehydrated;u!==null&&Ei(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ie||r.flags&512&&Sl(r)}catch(v){Se(r,r.return,v)}}if(r===e){Q=null;break}if(n=r.sibling,n!==null){n.return=r.return,Q=n;break}Q=r.return}}function ah(e){for(;Q!==null;){var r=Q;if(r===e){Q=null;break}var n=r.sibling;if(n!==null){n.return=r.return,Q=n;break}Q=r.return}}function lh(e){for(;Q!==null;){var r=Q;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{Oo(4,r)}catch(c){Se(r,n,c)}break;case 1:var i=r.stateNode;if(typeof i.componentDidMount=="function"){var s=r.return;try{i.componentDidMount()}catch(c){Se(r,s,c)}}var o=r.return;try{Sl(r)}catch(c){Se(r,o,c)}break;case 5:var l=r.return;try{Sl(r)}catch(c){Se(r,l,c)}}}catch(c){Se(r,r.return,c)}if(r===e){Q=null;break}var a=r.sibling;if(a!==null){a.return=r.return,Q=a;break}Q=r.return}}var av=Math.ceil,ao=ir.ReactCurrentDispatcher,Lc=ir.ReactCurrentOwner,_t=ir.ReactCurrentBatchConfig,ne=0,Ee=null,Ce=null,Te=0,Je=0,fn=Ar(0),xe=0,Ni=null,Vr=0,Io=0,Dc=0,gi=null,Ve=null,Mc=0,An=1/0,Wt=null,lo=!1,bl=null,Cr=null,gs=!1,gr=null,co=0,vi=0,xl=null,Os=-1,Is=0;function Fe(){return ne&6?we():Os!==-1?Os:Os=we()}function br(e){return e.mode&1?ne&2&&Te!==0?Te&-Te:Wg.transition!==null?(Is===0&&(Is=od()),Is):(e=ae,e!==0||(e=window.event,e=e===void 0?16:dd(e.type)),e):1}function kt(e,r,n,i){if(50<vi)throw vi=0,xl=null,Error(q(185));qi(e,n,i),(!(ne&2)||e!==Ee)&&(e===Ee&&(!(ne&2)&&(Io|=n),xe===4&&_r(e,Te)),Ye(e,i),n===1&&ne===0&&!(r.mode&1)&&(An=we()+500,Do&&Tr()))}function Ye(e,r){var n=e.callbackNode;W0(e,r);var i=qs(e,e===Ee?Te:0);if(i===0)n!==null&&vu(n),e.callbackNode=null,e.callbackPriority=0;else if(r=i&-i,e.callbackPriority!==r){if(n!=null&&vu(n),r===1)e.tag===0?Ug(ch.bind(null,e)):Md(ch.bind(null,e)),Hg(function(){!(ne&6)&&Tr()}),n=null;else{switch(ad(i)){case 1:n=ic;break;case 4:n=id;break;case 16:n=Vs;break;case 536870912:n=sd;break;default:n=Vs}n=L_(n,b_.bind(null,e))}e.callbackPriority=r,e.callbackNode=n}}function b_(e,r){if(Os=-1,Is=0,ne&6)throw Error(q(327));var n=e.callbackNode;if(yn()&&e.callbackNode!==n)return null;var i=qs(e,e===Ee?Te:0);if(i===0)return null;if(i&30||i&e.expiredLanes||r)r=uo(e,i);else{r=i;var s=ne;ne|=2;var o=k_();(Ee!==e||Te!==r)&&(Wt=null,An=we()+500,zr(e,r));do try{uv();break}catch(a){x_(e,a)}while(1);vc(),ao.current=o,ne=s,Ce!==null?r=0:(Ee=null,Te=0,r=xe)}if(r!==0){if(r===2&&(s=Qa(e),s!==0&&(i=s,r=kl(e,s))),r===1)throw n=Ni,zr(e,0),_r(e,i),Ye(e,we()),n;if(r===6)_r(e,i);else{if(s=e.current.alternate,!(i&30)&&!lv(s)&&(r=uo(e,i),r===2&&(o=Qa(e),o!==0&&(i=o,r=kl(e,o))),r===1))throw n=Ni,zr(e,0),_r(e,i),Ye(e,we()),n;switch(e.finishedWork=s,e.finishedLanes=i,r){case 0:case 1:throw Error(q(345));case 2:Mr(e,Ve,Wt);break;case 3:if(_r(e,i),(i&130023424)===i&&(r=Mc+500-we(),10<r)){if(qs(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){Fe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=sl(Mr.bind(null,e,Ve,Wt),r);break}Mr(e,Ve,Wt);break;case 4:if(_r(e,i),(i&4194240)===i)break;for(r=e.eventTimes,s=-1;0<i;){var l=31-xt(i);o=1<<l,l=r[l],l>s&&(s=l),i&=~o}if(i=s,i=we()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*av(i/1960))-i,10<i){e.timeoutHandle=sl(Mr.bind(null,e,Ve,Wt),i);break}Mr(e,Ve,Wt);break;case 5:Mr(e,Ve,Wt);break;default:throw Error(q(329))}}}return Ye(e,we()),e.callbackNode===n?b_.bind(null,e):null}function kl(e,r){var n=gi;return e.current.memoizedState.isDehydrated&&(zr(e,r).flags|=256),e=uo(e,r),e!==2&&(r=Ve,Ve=n,r!==null&&El(r)),e}function El(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function lv(e){for(var r=e;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],o=s.getSnapshot;s=s.value;try{if(!Et(o(),s))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function _r(e,r){for(r&=~Dc,r&=~Io,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var n=31-xt(r),i=1<<n;e[n]=-1,r&=~i}}function ch(e){if(ne&6)throw Error(q(327));yn();var r=qs(e,0);if(!(r&1))return Ye(e,we()),null;var n=uo(e,r);if(e.tag!==0&&n===2){var i=Qa(e);i!==0&&(r=i,n=kl(e,i))}if(n===1)throw n=Ni,zr(e,0),_r(e,r),Ye(e,we()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Mr(e,Ve,Wt),Ye(e,we()),null}function Pc(e,r){var n=ne;ne|=1;try{return e(r)}finally{ne=n,ne===0&&(An=we()+500,Do&&Tr())}}function qr(e){gr!==null&&gr.tag===0&&!(ne&6)&&yn();var r=ne;ne|=1;var n=_t.transition,i=ae;try{if(_t.transition=null,ae=1,e)return e()}finally{ae=i,_t.transition=n,ne=r,!(ne&6)&&Tr()}}function Oc(){Je=fn.current,fe(fn)}function zr(e,r){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zg(n)),Ce!==null)for(n=Ce.return;n!==null;){var i=n;switch(_c(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Qs();break;case 3:En(),fe(Ge),fe(Be),bc();break;case 5:Cc(i);break;case 4:En();break;case 13:fe(ve);break;case 19:fe(ve);break;case 10:mc(i.type._context);break;case 22:case 23:Oc()}n=n.return}if(Ee=e,Ce=e=xr(e.current,null),Te=Je=r,xe=0,Ni=null,Dc=Io=Vr=0,Ve=gi=null,Ir!==null){for(r=0;r<Ir.length;r++)if(n=Ir[r],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,i.next=l}n.pending=i}Ir=null}return e}function x_(e,r){do{var n=Ce;try{if(vc(),Ds.current=oo,so){for(var i=me.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}so=!1}if(Wr=0,ke=be=me=null,_i=!1,Oi=0,Lc.current=null,n===null||n.return===null){xe=1,Ni=r,Ce=null;break}e:{var o=e,l=n.return,a=n,c=r;if(r=Te,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,g=a,u=g.tag;if(!(g.mode&1)&&(u===0||u===11||u===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var y=Yu(l);if(y!==null){y.flags&=-257,Qu(y,l,a,o,r),y.mode&1&&Xu(o,h,r),r=y,c=h;var C=r.updateQueue;if(C===null){var w=new Set;w.add(c),r.updateQueue=w}else C.add(c);break e}else{if(!(r&1)){Xu(o,h,r),Ic();break e}c=Error(q(426))}}else if(_e&&a.mode&1){var _=Yu(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Qu(_,l,a,o,r),pc(Rn(c,a));break e}}o=c=Rn(c,a),xe!==4&&(xe=2),gi===null?gi=[o]:gi.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,r&=-r,o.lanes|=r;var f=a_(o,c,r);Uu(o,f);break e;case 1:a=c;var d=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Cr===null||!Cr.has(p)))){o.flags|=65536,r&=-r,o.lanes|=r;var m=l_(o,a,r);Uu(o,m);break e}}o=o.return}while(o!==null)}R_(n)}catch(S){r=S,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(1)}function k_(){var e=ao.current;return ao.current=oo,e===null?oo:e}function Ic(){(xe===0||xe===3||xe===2)&&(xe=4),Ee===null||!(Vr&268435455)&&!(Io&268435455)||_r(Ee,Te)}function uo(e,r){var n=ne;ne|=2;var i=k_();(Ee!==e||Te!==r)&&(Wt=null,zr(e,r));do try{cv();break}catch(s){x_(e,s)}while(1);if(vc(),ne=n,ao.current=i,Ce!==null)throw Error(q(261));return Ee=null,Te=0,xe}function cv(){for(;Ce!==null;)E_(Ce)}function uv(){for(;Ce!==null&&!I0();)E_(Ce)}function E_(e){var r=T_(e.alternate,e,Je);e.memoizedProps=e.pendingProps,r===null?R_(e):Ce=r,Lc.current=null}function R_(e){var r=e;do{var n=r.alternate;if(e=r.return,r.flags&32768){if(n=nv(n,r),n!==null){n.flags&=32767,Ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,Ce=null;return}}else if(n=rv(n,r,Je),n!==null){Ce=n;return}if(r=r.sibling,r!==null){Ce=r;return}Ce=r=e}while(r!==null);xe===0&&(xe=5)}function Mr(e,r,n){var i=ae,s=_t.transition;try{_t.transition=null,ae=1,hv(e,r,n,i)}finally{_t.transition=s,ae=i}return null}function hv(e,r,n,i){do yn();while(gr!==null);if(ne&6)throw Error(q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(V0(e,o),e===Ee&&(Ce=Ee=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gs||(gs=!0,L_(Vs,function(){return yn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_t.transition,_t.transition=null;var l=ae;ae=1;var a=ne;ne|=4,Lc.current=null,sv(e,n),w_(n,e),Dg(nl),Ks=!!rl,nl=rl=null,e.current=n,ov(n),B0(),ne=a,ae=l,_t.transition=o}else e.current=n;if(gs&&(gs=!1,gr=e,co=s),o=e.pendingLanes,o===0&&(Cr=null),H0(n.stateNode),Ye(e,we()),r!==null)for(i=e.onRecoverableError,n=0;n<r.length;n++)s=r[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(lo)throw lo=!1,e=bl,bl=null,e;return co&1&&e.tag!==0&&yn(),o=e.pendingLanes,o&1?e===xl?vi++:(vi=0,xl=e):vi=0,Tr(),null}function yn(){if(gr!==null){var e=ad(co),r=_t.transition,n=ae;try{if(_t.transition=null,ae=16>e?16:e,gr===null)var i=!1;else{if(e=gr,gr=null,co=0,ne&6)throw Error(q(331));var s=ne;for(ne|=4,Q=e.current;Q!==null;){var o=Q,l=o.child;if(Q.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var h=a[c];for(Q=h;Q!==null;){var g=Q;switch(g.tag){case 0:case 11:case 15:pi(8,g,o)}var u=g.child;if(u!==null)u.return=g,Q=u;else for(;Q!==null;){g=Q;var v=g.sibling,y=g.return;if(m_(g),g===h){Q=null;break}if(v!==null){v.return=y,Q=v;break}Q=y}}}var C=o.alternate;if(C!==null){var w=C.child;if(w!==null){C.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}Q=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,Q=l;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pi(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,Q=f;break e}Q=o.return}}var d=e.current;for(Q=d;Q!==null;){l=Q;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,Q=p;else e:for(l=d;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oo(9,a)}}catch(S){Se(a,a.return,S)}if(a===l){Q=null;break e}var m=a.sibling;if(m!==null){m.return=a.return,Q=m;break e}Q=a.return}}if(ne=s,Tr(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Eo,e)}catch{}i=!0}return i}finally{ae=n,_t.transition=r}}return!1}function uh(e,r,n){r=Rn(n,r),r=a_(e,r,1),e=wr(e,r,1),r=Fe(),e!==null&&(qi(e,1,r),Ye(e,r))}function Se(e,r,n){if(e.tag===3)uh(e,e,n);else for(;r!==null;){if(r.tag===3){uh(r,e,n);break}else if(r.tag===1){var i=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Cr===null||!Cr.has(i))){e=Rn(n,e),e=l_(r,e,1),r=wr(r,e,1),e=Fe(),r!==null&&(qi(r,1,e),Ye(r,e));break}}r=r.return}}function fv(e,r,n){var i=e.pingCache;i!==null&&i.delete(r),r=Fe(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(Te&n)===n&&(xe===4||xe===3&&(Te&130023424)===Te&&500>we()-Mc?zr(e,0):Dc|=n),Ye(e,r)}function A_(e,r){r===0&&(e.mode&1?(r=os,os<<=1,!(os&130023424)&&(os=4194304)):r=1);var n=Fe();e=tr(e,r),e!==null&&(qi(e,r,n),Ye(e,n))}function dv(e){var r=e.memoizedState,n=0;r!==null&&(n=r.retryLane),A_(e,n)}function _v(e,r){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(q(314))}i!==null&&i.delete(r),A_(e,n)}var T_;T_=function(e,r,n){if(e!==null)if(e.memoizedProps!==r.pendingProps||Ge.current)qe=!0;else{if(!(e.lanes&n)&&!(r.flags&128))return qe=!1,tv(e,r,n);qe=!!(e.flags&131072)}else qe=!1,_e&&r.flags&1048576&&Pd(r,eo,r.index);switch(r.lanes=0,r.tag){case 2:var i=r.type;Ps(e,r),e=r.pendingProps;var s=bn(r,Be.current);mn(r,n),s=kc(null,r,i,e,s,n);var o=Ec();return r.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Xe(i)?(o=!0,Zs(r)):o=!1,r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sc(r),s.updater=Po,r.stateNode=s,s._reactInternals=r,fl(r,i,e,n),r=pl(null,r,i,!0,o,n)):(r.tag=0,_e&&o&&dc(r),ze(null,r,s,n),r=r.child),r;case 16:i=r.elementType;e:{switch(Ps(e,r),e=r.pendingProps,s=i._init,i=s(i._payload),r.type=i,s=r.tag=gv(i),e=yt(i,e),s){case 0:r=_l(null,r,i,e,n);break e;case 1:r=eh(null,r,i,e,n);break e;case 11:r=Zu(null,r,i,e,n);break e;case 14:r=Ju(null,r,i,yt(i.type,e),n);break e}throw Error(q(306,i,""))}return r;case 0:return i=r.type,s=r.pendingProps,s=r.elementType===i?s:yt(i,s),_l(e,r,i,s,n);case 1:return i=r.type,s=r.pendingProps,s=r.elementType===i?s:yt(i,s),eh(e,r,i,s,n);case 3:e:{if(f_(r),e===null)throw Error(q(387));i=r.pendingProps,o=r.memoizedState,s=o.element,Hd(e,r),no(r,i,null,n);var l=r.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},r.updateQueue.baseState=o,r.memoizedState=o,r.flags&256){s=Rn(Error(q(423)),r),r=th(e,r,i,n,s);break e}else if(i!==s){s=Rn(Error(q(424)),r),r=th(e,r,i,n,s);break e}else for(et=Sr(r.stateNode.containerInfo.firstChild),tt=r,_e=!0,wt=null,n=Nd(r,null,i,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xn(),i===s){r=rr(e,r,n);break e}ze(e,r,i,n)}r=r.child}return r;case 5:return Fd(r),e===null&&cl(r),i=r.type,s=r.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,il(i,s)?l=null:o!==null&&il(i,o)&&(r.flags|=32),h_(e,r),ze(e,r,l,n),r.child;case 6:return e===null&&cl(r),null;case 13:return d_(e,r,n);case 4:return wc(r,r.stateNode.containerInfo),i=r.pendingProps,e===null?r.child=kn(r,null,i,n):ze(e,r,i,n),r.child;case 11:return i=r.type,s=r.pendingProps,s=r.elementType===i?s:yt(i,s),Zu(e,r,i,s,n);case 7:return ze(e,r,r.pendingProps,n),r.child;case 8:return ze(e,r,r.pendingProps.children,n),r.child;case 12:return ze(e,r,r.pendingProps.children,n),r.child;case 10:e:{if(i=r.type._context,s=r.pendingProps,o=r.memoizedProps,l=s.value,ce(to,i._currentValue),i._currentValue=l,o!==null)if(Et(o.value,l)){if(o.children===s.children&&!Ge.current){r=rr(e,r,n);break e}}else for(o=r.child,o!==null&&(o.return=r);o!==null;){var a=o.dependencies;if(a!==null){l=o.child;for(var c=a.firstContext;c!==null;){if(c.context===i){if(o.tag===1){c=Qt(-1,n&-n),c.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?c.next=c:(c.next=g.next,g.next=c),h.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ul(o.return,n,r),a.lanes|=n;break}c=c.next}}else if(o.tag===10)l=o.type===r.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(q(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),ul(l,n,r),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===r){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}ze(e,r,s.children,n),r=r.child}return r;case 9:return s=r.type,i=r.pendingProps.children,mn(r,n),s=pt(s),i=i(s),r.flags|=1,ze(e,r,i,n),r.child;case 14:return i=r.type,s=yt(i,r.pendingProps),s=yt(i.type,s),Ju(e,r,i,s,n);case 15:return c_(e,r,r.type,r.pendingProps,n);case 17:return i=r.type,s=r.pendingProps,s=r.elementType===i?s:yt(i,s),Ps(e,r),r.tag=1,Xe(i)?(e=!0,Zs(r)):e=!1,mn(r,n),o_(r,i,s),fl(r,i,s,n),pl(null,r,i,!0,e,n);case 19:return __(e,r,n);case 22:return u_(e,r,n)}throw Error(q(156,r.tag))};function L_(e,r){return nd(e,r)}function pv(e,r,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,r,n,i){return new pv(e,r,n,i)}function Bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gv(e){if(typeof e=="function")return Bc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tc)return 11;if(e===rc)return 14}return 2}function xr(e,r){var n=e.alternate;return n===null?(n=dt(e.tag,r,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=r,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,r=e.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bs(e,r,n,i,s,o){var l=2;if(i=e,typeof e=="function")Bc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case tn:return Hr(n.children,s,o,r);case ec:l=8,s|=8;break;case Ba:return e=dt(12,n,r,s|2),e.elementType=Ba,e.lanes=o,e;case Na:return e=dt(13,n,r,s),e.elementType=Na,e.lanes=o,e;case za:return e=dt(19,n,r,s),e.elementType=za,e.lanes=o,e;case Ff:return Bo(n,s,o,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zf:l=10;break e;case Hf:l=9;break e;case tc:l=11;break e;case rc:l=14;break e;case ur:l=16,i=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return r=dt(l,n,r,s),r.elementType=e,r.type=i,r.lanes=o,r}function Hr(e,r,n,i){return e=dt(7,e,i,r),e.lanes=n,e}function Bo(e,r,n,i){return e=dt(22,e,i,r),e.elementType=Ff,e.lanes=n,e.stateNode={isHidden:!1},e}function ba(e,r,n){return e=dt(6,e,null,r),e.lanes=n,e}function xa(e,r,n){return r=dt(4,e.children!==null?e.children:[],e.key,r),r.lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function vv(e,r,n,i,s){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nc(e,r,n,i,s,o,l,a,c){return e=new vv(e,r,n,a,c),r===1?(r=1,o===!0&&(r|=8)):r=0,o=dt(3,null,null,r),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sc(o),e}function mv(e,r,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:en,key:i==null?null:""+i,children:e,containerInfo:r,implementation:n}}function D_(e){if(!e)return Er;e=e._reactInternals;e:{if(Xr(e)!==e||e.tag!==1)throw Error(q(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Xe(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(Xe(n))return Dd(e,n,r)}return r}function M_(e,r,n,i,s,o,l,a,c){return e=Nc(n,i,!0,e,s,o,l,a,c),e.context=D_(null),n=e.current,i=Fe(),s=br(n),o=Qt(i,s),o.callback=r??null,wr(n,o,s),e.current.lanes=s,qi(e,s,i),Ye(e,i),e}function No(e,r,n,i){var s=r.current,o=Fe(),l=br(s);return n=D_(n),r.context===null?r.context=n:r.pendingContext=n,r=Qt(o,l),r.payload={element:e},i=i===void 0?null:i,i!==null&&(r.callback=i),e=wr(s,r,l),e!==null&&(kt(e,s,l,o),Ls(e,s,l)),l}function ho(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hh(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<r?n:r}}function zc(e,r){hh(e,r),(e=e.alternate)&&hh(e,r)}function yv(){return null}var P_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hc(e){this._internalRoot=e}zo.prototype.render=Hc.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(q(409));No(e,r,null,null)};zo.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;qr(function(){No(null,e,null,null)}),r[er]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var r=ud();e={blockedOn:null,target:e,priority:r};for(var n=0;n<dr.length&&r!==0&&r<dr[n].priority;n++);dr.splice(n,0,e),n===0&&fd(e)}};function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fh(){}function Sv(e,r,n,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var h=ho(l);o.call(h)}}var l=M_(r,i,e,0,null,!1,!1,"",fh);return e._reactRootContainer=l,e[er]=l.current,Ti(e.nodeType===8?e.parentNode:e),qr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var h=ho(c);a.call(h)}}var c=Nc(e,0,!1,null,null,!1,!1,"",fh);return e._reactRootContainer=c,e[er]=c.current,Ti(e.nodeType===8?e.parentNode:e),qr(function(){No(r,c,n,i)}),c}function Fo(e,r,n,i,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var a=s;s=function(){var c=ho(l);a.call(c)}}No(r,l,e,s)}else l=Sv(n,r,e,s,i);return ho(l)}ld=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var n=ni(r.pendingLanes);n!==0&&(sc(r,n|1),Ye(r,we()),!(ne&6)&&(An=we()+500,Tr()))}break;case 13:qr(function(){var i=tr(e,1);if(i!==null){var s=Fe();kt(i,e,1,s)}}),zc(e,1)}};oc=function(e){if(e.tag===13){var r=tr(e,134217728);if(r!==null){var n=Fe();kt(r,e,134217728,n)}zc(e,134217728)}};cd=function(e){if(e.tag===13){var r=br(e),n=tr(e,r);if(n!==null){var i=Fe();kt(n,e,r,i)}zc(e,r)}};ud=function(){return ae};hd=function(e,r){var n=ae;try{return ae=e,r()}finally{ae=n}};Ga=function(e,r,n){switch(r){case"input":if($a(e,n),r=n.name,n.type==="radio"&&r!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var i=n[r];if(i!==e&&i.form===e.form){var s=Lo(i);if(!s)throw Error(q(90));jf(i),$a(i,s)}}}break;case"textarea":Wf(e,n);break;case"select":r=n.value,r!=null&&_n(e,!!n.multiple,r,!1)}};Qf=Pc;Zf=qr;var wv={usingClientEntryPoint:!1,Events:[Gi,on,Lo,Xf,Yf,Pc]},qn={findFiberByHostInstance:Or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cv={bundleType:qn.bundleType,version:qn.version,rendererPackageName:qn.rendererPackageName,rendererConfig:qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=td(e),e===null?null:e.stateNode},findFiberByHostInstance:qn.findFiberByHostInstance||yv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{Eo=vs.inject(Cv),It=vs}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wv;it.createPortal=function(e,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fc(r))throw Error(q(200));return mv(e,r,null,n)};it.createRoot=function(e,r){if(!Fc(e))throw Error(q(299));var n=!1,i="",s=P_;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),r=Nc(e,1,!1,null,null,n,!1,i,s),e[er]=r.current,Ti(e.nodeType===8?e.parentNode:e),new Hc(r)};it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=td(r),e=e===null?null:e.stateNode,e};it.flushSync=function(e){return qr(e)};it.hydrate=function(e,r,n){if(!Ho(r))throw Error(q(200));return Fo(null,e,r,!0,n)};it.hydrateRoot=function(e,r,n){if(!Fc(e))throw Error(q(405));var i=n!=null&&n.hydratedSources||null,s=!1,o="",l=P_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),r=M_(r,null,e,1,n??null,s,!1,o,l),e[er]=r.current,Ti(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,s]:r.mutableSourceEagerHydrationData.push(n,s);return new zo(r)};it.render=function(e,r,n){if(!Ho(r))throw Error(q(200));return Fo(null,e,r,!1,n)};it.unmountComponentAtNode=function(e){if(!Ho(e))throw Error(q(40));return e._reactRootContainer?(qr(function(){Fo(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1};it.unstable_batchedUpdates=Pc;it.unstable_renderSubtreeIntoContainer=function(e,r,n,i){if(!Ho(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Fo(e,r,n,!1,i)};it.version="18.3.1-next-f1338f8080-20240426";function O_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O_)}catch(e){console.error(e)}}O_(),Of.exports=it;var bv=Of.exports,dh=bv;Oa.createRoot=dh.createRoot,Oa.hydrateRoot=dh.hydrateRoot;function xv(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,o,l,a=[],c=!0,h=!1;try{if(o=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(a.push(i.value),a.length!==r);c=!0);}catch(g){h=!0,s=g}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return a}}function kv(e,r,n){return r=Pv(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function _h(e,r){return Av(e)||xv(e,r)||I_(e,r)||Dv()}function Ev(e){return Rv(e)||Tv(e)||I_(e)||Lv()}function Rv(e){if(Array.isArray(e))return Rl(e)}function Av(e){if(Array.isArray(e))return e}function Tv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I_(e,r){if(e){if(typeof e=="string")return Rl(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rl(e,r)}}function Rl(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function Lv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mv(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Pv(e){var r=Mv(e,"string");return typeof r=="symbol"?r:String(r)}var Ov=function(r,n){var i=new Set(n);return Object.assign.apply(Object,[{}].concat(Ev(Object.entries(r).filter(function(s){var o=_h(s,1),l=o[0];return!i.has(l)}).map(function(s){var o=_h(s,2),l=o[0],a=o[1];return kv({},l,a)}))))};function Al(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=Array(r);n<r;n++)i[n]=e[n];return i}function Iv(e){if(Array.isArray(e))return e}function Bv(e){if(Array.isArray(e))return Al(e)}function Nv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zv(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,o,l,a=[],c=!0,h=!1;try{if(o=(n=n.call(e)).next,r!==0)for(;!(c=(i=o.call(n)).done)&&(a.push(i.value),a.length!==r);c=!0);}catch(g){h=!0,s=g}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return a}}function Hv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $v(e,r){return Iv(e)||zv(e,r)||B_(e,r)||Hv()}function ph(e){return Bv(e)||Nv(e)||B_(e)||Fv()}function B_(e,r){if(e){if(typeof e=="string")return Al(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Al(e,r):void 0}}function jv(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.wrapperElementType,i=n===void 0?"div":n,s=r.nodeMapper,o=s===void 0?function(g){return g}:s,l=r.methodNames,a=l===void 0?[]:l,c=r.initPropNames,h=c===void 0?[]:c;return ie.forwardRef(function(g,u){var v=ie.useRef(),y=ie.useMemo(function(){var _=Object.fromEntries(h.filter(function(f){return g.hasOwnProperty(f)}).map(function(f){return[f,g[f]]}));return e(_)},[]);gh(function(){y(o(v.current))},ie.useLayoutEffect),gh(function(){return y._destructor instanceof Function?y._destructor:void 0});var C=ie.useCallback(function(_){for(var f=arguments.length,d=new Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];return y[_]instanceof Function?y[_].apply(y,d):void 0},[y]),w=ie.useRef({});return Object.keys(Ov(g,[].concat(ph(a),ph(h)))).filter(function(_){return w.current[_]!==g[_]}).forEach(function(_){return C(_,g[_])}),w.current=g,ie.useImperativeHandle(u,function(){return Object.fromEntries(a.map(function(_){return[_,function(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];return C.apply(void 0,[_].concat(d))}]}))},[C]),Mf.createElement(i,{ref:v})})}function gh(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ie.useEffect,n=ie.useRef(),i=ie.useRef(!1),s=ie.useRef(!1),o=ie.useState(0),l=$v(o,2);l[0];var a=l[1];i.current&&(s.current=!0),r(function(){return i.current||(n.current=e(),i.current=!0),a(function(c){return c+1}),function(){s.current&&n.current&&n.current()}},[])}var Tl="http://www.w3.org/1999/xhtml";const vh={svg:"http://www.w3.org/2000/svg",xhtml:Tl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $o(e){var r=e+="",n=r.indexOf(":");return n>=0&&(r=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),vh.hasOwnProperty(r)?{space:vh[r],local:e}:e}function Uv(e){return function(){var r=this.ownerDocument,n=this.namespaceURI;return n===Tl&&r.documentElement.namespaceURI===Tl?r.createElement(e):r.createElementNS(n,e)}}function Wv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function N_(e){var r=$o(e);return(r.local?Wv:Uv)(r)}function Vv(){}function $c(e){return e==null?Vv:function(){return this.querySelector(e)}}function qv(e){typeof e!="function"&&(e=$c(e));for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s)for(var o=r[s],l=o.length,a=i[s]=new Array(l),c,h,g=0;g<l;++g)(c=o[g])&&(h=e.call(c,c.__data__,g,o))&&("__data__"in c&&(h.__data__=c.__data__),a[g]=h);return new nt(i,this._parents)}function Kv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Gv(){return[]}function z_(e){return e==null?Gv:function(){return this.querySelectorAll(e)}}function Xv(e){return function(){return Kv(e.apply(this,arguments))}}function Yv(e){typeof e=="function"?e=Xv(e):e=z_(e);for(var r=this._groups,n=r.length,i=[],s=[],o=0;o<n;++o)for(var l=r[o],a=l.length,c,h=0;h<a;++h)(c=l[h])&&(i.push(e.call(c,c.__data__,h,l)),s.push(c));return new nt(i,s)}function H_(e){return function(){return this.matches(e)}}function F_(e){return function(r){return r.matches(e)}}var Qv=Array.prototype.find;function Zv(e){return function(){return Qv.call(this.children,e)}}function Jv(){return this.firstElementChild}function em(e){return this.select(e==null?Jv:Zv(typeof e=="function"?e:F_(e)))}var tm=Array.prototype.filter;function rm(){return Array.from(this.children)}function nm(e){return function(){return tm.call(this.children,e)}}function im(e){return this.selectAll(e==null?rm:nm(typeof e=="function"?e:F_(e)))}function sm(e){typeof e!="function"&&(e=H_(e));for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s)for(var o=r[s],l=o.length,a=i[s]=[],c,h=0;h<l;++h)(c=o[h])&&e.call(c,c.__data__,h,o)&&a.push(c);return new nt(i,this._parents)}function $_(e){return new Array(e.length)}function om(){return new nt(this._enter||this._groups.map($_),this._parents)}function fo(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}fo.prototype={constructor:fo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function am(e){return function(){return e}}function lm(e,r,n,i,s,o){for(var l=0,a,c=r.length,h=o.length;l<h;++l)(a=r[l])?(a.__data__=o[l],i[l]=a):n[l]=new fo(e,o[l]);for(;l<c;++l)(a=r[l])&&(s[l]=a)}function cm(e,r,n,i,s,o,l){var a,c,h=new Map,g=r.length,u=o.length,v=new Array(g),y;for(a=0;a<g;++a)(c=r[a])&&(v[a]=y=l.call(c,c.__data__,a,r)+"",h.has(y)?s[a]=c:h.set(y,c));for(a=0;a<u;++a)y=l.call(e,o[a],a,o)+"",(c=h.get(y))?(i[a]=c,c.__data__=o[a],h.delete(y)):n[a]=new fo(e,o[a]);for(a=0;a<g;++a)(c=r[a])&&h.get(v[a])===c&&(s[a]=c)}function um(e){return e.__data__}function hm(e,r){if(!arguments.length)return Array.from(this,um);var n=r?cm:lm,i=this._parents,s=this._groups;typeof e!="function"&&(e=am(e));for(var o=s.length,l=new Array(o),a=new Array(o),c=new Array(o),h=0;h<o;++h){var g=i[h],u=s[h],v=u.length,y=fm(e.call(g,g&&g.__data__,h,i)),C=y.length,w=a[h]=new Array(C),_=l[h]=new Array(C),f=c[h]=new Array(v);n(g,u,w,_,f,y,r);for(var d=0,p=0,m,S;d<C;++d)if(m=w[d]){for(d>=p&&(p=d+1);!(S=_[p])&&++p<C;);m._next=S||null}}return l=new nt(l,i),l._enter=a,l._exit=c,l}function fm(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dm(){return new nt(this._exit||this._groups.map($_),this._parents)}function _m(e,r,n){var i=this.enter(),s=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),r!=null&&(s=r(s),s&&(s=s.selection())),n==null?o.remove():n(o),i&&s?i.merge(s).order():s}function pm(e){for(var r=e.selection?e.selection():e,n=this._groups,i=r._groups,s=n.length,o=i.length,l=Math.min(s,o),a=new Array(s),c=0;c<l;++c)for(var h=n[c],g=i[c],u=h.length,v=a[c]=new Array(u),y,C=0;C<u;++C)(y=h[C]||g[C])&&(v[C]=y);for(;c<s;++c)a[c]=n[c];return new nt(a,this._parents)}function gm(){for(var e=this._groups,r=-1,n=e.length;++r<n;)for(var i=e[r],s=i.length-1,o=i[s],l;--s>=0;)(l=i[s])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function vm(e){e||(e=mm);function r(u,v){return u&&v?e(u.__data__,v.__data__):!u-!v}for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o){for(var l=n[o],a=l.length,c=s[o]=new Array(a),h,g=0;g<a;++g)(h=l[g])&&(c[g]=h);c.sort(r)}return new nt(s,this._parents).order()}function mm(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function ym(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Sm(){return Array.from(this)}function wm(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],s=0,o=i.length;s<o;++s){var l=i[s];if(l)return l}return null}function Cm(){let e=0;for(const r of this)++e;return e}function bm(){return!this.node()}function xm(e){for(var r=this._groups,n=0,i=r.length;n<i;++n)for(var s=r[n],o=0,l=s.length,a;o<l;++o)(a=s[o])&&e.call(a,a.__data__,o,s);return this}function km(e){return function(){this.removeAttribute(e)}}function Em(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rm(e,r){return function(){this.setAttribute(e,r)}}function Am(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function Tm(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Lm(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Dm(e,r){var n=$o(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((r==null?n.local?Em:km:typeof r=="function"?n.local?Lm:Tm:n.local?Am:Rm)(n,r))}function j_(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Mm(e){return function(){this.style.removeProperty(e)}}function Pm(e,r,n){return function(){this.style.setProperty(e,r,n)}}function Om(e,r,n){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Im(e,r,n){return arguments.length>1?this.each((r==null?Mm:typeof r=="function"?Om:Pm)(e,r,n??"")):Tn(this.node(),e)}function Tn(e,r){return e.style.getPropertyValue(r)||j_(e).getComputedStyle(e,null).getPropertyValue(r)}function Bm(e){return function(){delete this[e]}}function Nm(e,r){return function(){this[e]=r}}function zm(e,r){return function(){var n=r.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Hm(e,r){return arguments.length>1?this.each((r==null?Bm:typeof r=="function"?zm:Nm)(e,r)):this.node()[e]}function U_(e){return e.trim().split(/^|\s+/)}function jc(e){return e.classList||new W_(e)}function W_(e){this._node=e,this._names=U_(e.getAttribute("class")||"")}W_.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function V_(e,r){for(var n=jc(e),i=-1,s=r.length;++i<s;)n.add(r[i])}function q_(e,r){for(var n=jc(e),i=-1,s=r.length;++i<s;)n.remove(r[i])}function Fm(e){return function(){V_(this,e)}}function $m(e){return function(){q_(this,e)}}function jm(e,r){return function(){(r.apply(this,arguments)?V_:q_)(this,e)}}function Um(e,r){var n=U_(e+"");if(arguments.length<2){for(var i=jc(this.node()),s=-1,o=n.length;++s<o;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof r=="function"?jm:r?Fm:$m)(n,r))}function Wm(){this.textContent=""}function Vm(e){return function(){this.textContent=e}}function qm(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function Km(e){return arguments.length?this.each(e==null?Wm:(typeof e=="function"?qm:Vm)(e)):this.node().textContent}function Gm(){this.innerHTML=""}function Xm(e){return function(){this.innerHTML=e}}function Ym(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function Qm(e){return arguments.length?this.each(e==null?Gm:(typeof e=="function"?Ym:Xm)(e)):this.node().innerHTML}function Zm(){this.nextSibling&&this.parentNode.appendChild(this)}function Jm(){return this.each(Zm)}function e1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function t1(){return this.each(e1)}function r1(e){var r=typeof e=="function"?e:N_(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function n1(){return null}function i1(e,r){var n=typeof e=="function"?e:N_(e),i=r==null?n1:typeof r=="function"?r:$c(r);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function s1(){var e=this.parentNode;e&&e.removeChild(this)}function o1(){return this.each(s1)}function a1(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function l1(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function c1(e){return this.select(e?l1:a1)}function u1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function h1(e){return function(r){e.call(this,r,this.__data__)}}function f1(e){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");return i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),{type:r,name:n}})}function d1(e){return function(){var r=this.__on;if(r){for(var n=0,i=-1,s=r.length,o;n<s;++n)o=r[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):r[++i]=o;++i?r.length=i:delete this.__on}}}function _1(e,r,n){return function(){var i=this.__on,s,o=h1(r);if(i){for(var l=0,a=i.length;l<a;++l)if((s=i[l]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=r;return}}this.addEventListener(e.type,o,n),s={type:e.type,name:e.name,value:r,listener:o,options:n},i?i.push(s):this.__on=[s]}}function p1(e,r,n){var i=f1(e+""),s,o=i.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,h=a.length,g;c<h;++c)for(s=0,g=a[c];s<o;++s)if((l=i[s]).type===g.type&&l.name===g.name)return g.value}return}for(a=r?_1:d1,s=0;s<o;++s)this.each(a(i[s],r,n));return this}function K_(e,r,n){var i=j_(e),s=i.CustomEvent;typeof s=="function"?s=new s(r,n):(s=i.document.createEvent("Event"),n?(s.initEvent(r,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(r,!1,!1)),e.dispatchEvent(s)}function g1(e,r){return function(){return K_(this,e,r)}}function v1(e,r){return function(){return K_(this,e,r.apply(this,arguments))}}function m1(e,r){return this.each((typeof r=="function"?v1:g1)(e,r))}function*y1(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],s=0,o=i.length,l;s<o;++s)(l=i[s])&&(yield l)}var G_=[null];function nt(e,r){this._groups=e,this._parents=r}function Yi(){return new nt([[document.documentElement]],G_)}function S1(){return this}nt.prototype=Yi.prototype={constructor:nt,select:qv,selectAll:Yv,selectChild:em,selectChildren:im,filter:sm,data:hm,enter:om,exit:dm,join:_m,merge:pm,selection:S1,order:gm,sort:vm,call:ym,nodes:Sm,node:wm,size:Cm,empty:bm,each:xm,attr:Dm,style:Im,property:Hm,classed:Um,text:Km,html:Qm,raise:Jm,lower:t1,append:r1,insert:i1,remove:o1,clone:c1,datum:u1,on:p1,dispatch:m1,[Symbol.iterator]:y1};function ht(e){return typeof e=="string"?new nt([[document.querySelector(e)]],[document.documentElement]):new nt([[e]],G_)}function w1(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Mt(e,r){if(e=w1(e),r===void 0&&(r=e.currentTarget),r){var n=r.ownerSVGElement||r;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(r.getScreenCTM().inverse()),[i.x,i.y]}if(r.getBoundingClientRect){var s=r.getBoundingClientRect();return[e.clientX-s.left-r.clientLeft,e.clientY-s.top-r.clientTop]}}return[e.pageX,e.pageY]}var C1={value:()=>{}};function Qi(){for(var e=0,r=arguments.length,n={},i;e<r;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ns(n)}function Ns(e){this._=e}function b1(e,r){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ns.prototype=Qi.prototype={constructor:Ns,on:function(e,r){var n=this._,i=b1(e+"",n),s,o=-1,l=i.length;if(arguments.length<2){for(;++o<l;)if((s=(e=i[o]).type)&&(s=x1(n[s],e.name)))return s;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++o<l;)if(s=(e=i[o]).type)n[s]=mh(n[s],e.name,r);else if(r==null)for(s in n)n[s]=mh(n[s],e.name,null);return this},copy:function(){var e={},r=this._;for(var n in r)e[n]=r[n].slice();return new Ns(e)},call:function(e,r){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,o;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,s=o.length;i<s;++i)o[i].value.apply(r,n)},apply:function(e,r,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,o=i.length;s<o;++s)i[s].value.apply(r,n)}};function x1(e,r){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===r)return s.value}function mh(e,r,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===r){e[i]=C1,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:r,value:n}),e}const k1={passive:!1},zi={capture:!0,passive:!1};function ka(e){e.stopImmediatePropagation()}function Sn(e){e.preventDefault(),e.stopImmediatePropagation()}function X_(e){var r=e.document.documentElement,n=ht(e).on("dragstart.drag",Sn,zi);"onselectstart"in r?n.on("selectstart.drag",Sn,zi):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function Y_(e,r){var n=e.document.documentElement,i=ht(e).on("dragstart.drag",null);r&&(i.on("click.drag",Sn,zi),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ms=e=>()=>e;function Ll(e,{sourceEvent:r,subject:n,target:i,identifier:s,active:o,x:l,y:a,dx:c,dy:h,dispatch:g}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:g}})}Ll.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function E1(e){return!e.ctrlKey&&!e.button}function R1(){return this.parentNode}function A1(e,r){return r??{x:e.x,y:e.y}}function T1(){return navigator.maxTouchPoints||"ontouchstart"in this}function L1(){var e=E1,r=R1,n=A1,i=T1,s={},o=Qi("start","drag","end"),l=0,a,c,h,g,u=0;function v(m){m.on("mousedown.drag",y).filter(i).on("touchstart.drag",_).on("touchmove.drag",f,k1).on("touchend.drag touchcancel.drag",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(m,S){if(!(g||!e.call(this,m,S))){var x=p(this,r.call(this,m,S),m,S,"mouse");x&&(ht(m.view).on("mousemove.drag",C,zi).on("mouseup.drag",w,zi),X_(m.view),ka(m),h=!1,a=m.clientX,c=m.clientY,x("start",m))}}function C(m){if(Sn(m),!h){var S=m.clientX-a,x=m.clientY-c;h=S*S+x*x>u}s.mouse("drag",m)}function w(m){ht(m.view).on("mousemove.drag mouseup.drag",null),Y_(m.view,h),Sn(m),s.mouse("end",m)}function _(m,S){if(e.call(this,m,S)){var x=m.changedTouches,k=r.call(this,m,S),b=x.length,E,A;for(E=0;E<b;++E)(A=p(this,k,m,S,x[E].identifier,x[E]))&&(ka(m),A("start",m,x[E]))}}function f(m){var S=m.changedTouches,x=S.length,k,b;for(k=0;k<x;++k)(b=s[S[k].identifier])&&(Sn(m),b("drag",m,S[k]))}function d(m){var S=m.changedTouches,x=S.length,k,b;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),k=0;k<x;++k)(b=s[S[k].identifier])&&(ka(m),b("end",m,S[k]))}function p(m,S,x,k,b,E){var A=o.copy(),P=Mt(E||x,S),D,I,O;if((O=n.call(m,new Ll("beforestart",{sourceEvent:x,target:v,identifier:b,active:l,x:P[0],y:P[1],dx:0,dy:0,dispatch:A}),k))!=null)return D=O.x-P[0]||0,I=O.y-P[1]||0,function H(N,F,R){var L=P,M;switch(N){case"start":s[b]=H,M=l++;break;case"end":delete s[b],--l;case"drag":P=Mt(R||F,S),M=l;break}A.call(N,m,new Ll(N,{sourceEvent:F,subject:O,target:v,identifier:b,active:M,x:P[0]+D,y:P[1]+I,dx:P[0]-L[0],dy:P[1]-L[1],dispatch:A}),k)}}return v.filter=function(m){return arguments.length?(e=typeof m=="function"?m:ms(!!m),v):e},v.container=function(m){return arguments.length?(r=typeof m=="function"?m:ms(m),v):r},v.subject=function(m){return arguments.length?(n=typeof m=="function"?m:ms(m),v):n},v.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:ms(!!m),v):i},v.on=function(){var m=o.on.apply(o,arguments);return m===o?v:m},v.clickDistance=function(m){return arguments.length?(u=(m=+m)*m,v):Math.sqrt(u)},v}function Uc(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function Q_(e,r){var n=Object.create(e.prototype);for(var i in r)n[i]=r[i];return n}function Zi(){}var Hi=.7,_o=1/Hi,wn="\\s*([+-]?\\d+)\\s*",Fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D1=/^#([0-9a-f]{3,8})$/,M1=new RegExp(`^rgb\\(${wn},${wn},${wn}\\)$`),P1=new RegExp(`^rgb\\(${Nt},${Nt},${Nt}\\)$`),O1=new RegExp(`^rgba\\(${wn},${wn},${wn},${Fi}\\)$`),I1=new RegExp(`^rgba\\(${Nt},${Nt},${Nt},${Fi}\\)$`),B1=new RegExp(`^hsl\\(${Fi},${Nt},${Nt}\\)$`),N1=new RegExp(`^hsla\\(${Fi},${Nt},${Nt},${Fi}\\)$`),yh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uc(Zi,$i,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Sh,formatHex:Sh,formatHex8:z1,formatHsl:H1,formatRgb:wh,toString:wh});function Sh(){return this.rgb().formatHex()}function z1(){return this.rgb().formatHex8()}function H1(){return Z_(this).formatHsl()}function wh(){return this.rgb().formatRgb()}function $i(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=D1.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?Ch(r):n===3?new Ke(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?ys(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?ys(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=M1.exec(e))?new Ke(r[1],r[2],r[3],1):(r=P1.exec(e))?new Ke(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=O1.exec(e))?ys(r[1],r[2],r[3],r[4]):(r=I1.exec(e))?ys(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=B1.exec(e))?kh(r[1],r[2]/100,r[3]/100,1):(r=N1.exec(e))?kh(r[1],r[2]/100,r[3]/100,r[4]):yh.hasOwnProperty(e)?Ch(yh[e]):e==="transparent"?new Ke(NaN,NaN,NaN,0):null}function Ch(e){return new Ke(e>>16&255,e>>8&255,e&255,1)}function ys(e,r,n,i){return i<=0&&(e=r=n=NaN),new Ke(e,r,n,i)}function F1(e){return e instanceof Zi||(e=$i(e)),e?(e=e.rgb(),new Ke(e.r,e.g,e.b,e.opacity)):new Ke}function Dl(e,r,n,i){return arguments.length===1?F1(e):new Ke(e,r,n,i??1)}function Ke(e,r,n,i){this.r=+e,this.g=+r,this.b=+n,this.opacity=+i}Uc(Ke,Dl,Q_(Zi,{brighter(e){return e=e==null?_o:Math.pow(_o,e),new Ke(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hi:Math.pow(Hi,e),new Ke(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ke(Fr(this.r),Fr(this.g),Fr(this.b),po(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bh,formatHex:bh,formatHex8:$1,formatRgb:xh,toString:xh}));function bh(){return`#${Nr(this.r)}${Nr(this.g)}${Nr(this.b)}`}function $1(){return`#${Nr(this.r)}${Nr(this.g)}${Nr(this.b)}${Nr((isNaN(this.opacity)?1:this.opacity)*255)}`}function xh(){const e=po(this.opacity);return`${e===1?"rgb(":"rgba("}${Fr(this.r)}, ${Fr(this.g)}, ${Fr(this.b)}${e===1?")":`, ${e})`}`}function po(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nr(e){return e=Fr(e),(e<16?"0":"")+e.toString(16)}function kh(e,r,n,i){return i<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new Ct(e,r,n,i)}function Z_(e){if(e instanceof Ct)return new Ct(e.h,e.s,e.l,e.opacity);if(e instanceof Zi||(e=$i(e)),!e)return new Ct;if(e instanceof Ct)return e;e=e.rgb();var r=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(r,n,i),o=Math.max(r,n,i),l=NaN,a=o-s,c=(o+s)/2;return a?(r===o?l=(n-i)/a+(n<i)*6:n===o?l=(i-r)/a+2:l=(r-n)/a+4,a/=c<.5?o+s:2-o-s,l*=60):a=c>0&&c<1?0:l,new Ct(l,a,c,e.opacity)}function j1(e,r,n,i){return arguments.length===1?Z_(e):new Ct(e,r,n,i??1)}function Ct(e,r,n,i){this.h=+e,this.s=+r,this.l=+n,this.opacity=+i}Uc(Ct,j1,Q_(Zi,{brighter(e){return e=e==null?_o:Math.pow(_o,e),new Ct(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hi:Math.pow(Hi,e),new Ct(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*r,s=2*n-i;return new Ke(Ea(e>=240?e-240:e+120,s,i),Ea(e,s,i),Ea(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new Ct(Eh(this.h),Ss(this.s),Ss(this.l),po(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=po(this.opacity);return`${e===1?"hsl(":"hsla("}${Eh(this.h)}, ${Ss(this.s)*100}%, ${Ss(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Eh(e){return e=(e||0)%360,e<0?e+360:e}function Ss(e){return Math.max(0,Math.min(1,e||0))}function Ea(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}const J_=e=>()=>e;function U1(e,r){return function(n){return e+n*r}}function W1(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(i){return Math.pow(e+i*r,n)}}function V1(e){return(e=+e)==1?ep:function(r,n){return n-r?W1(r,n,e):J_(isNaN(r)?n:r)}}function ep(e,r){var n=r-e;return n?U1(e,n):J_(isNaN(e)?r:e)}const Rh=function e(r){var n=V1(r);function i(s,o){var l=n((s=Dl(s)).r,(o=Dl(o)).r),a=n(s.g,o.g),c=n(s.b,o.b),h=ep(s.opacity,o.opacity);return function(g){return s.r=l(g),s.g=a(g),s.b=c(g),s.opacity=h(g),s+""}}return i.gamma=e,i}(1);function fr(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}var Ml=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ra=new RegExp(Ml.source,"g");function q1(e){return function(){return e}}function K1(e){return function(r){return e(r)+""}}function G1(e,r){var n=Ml.lastIndex=Ra.lastIndex=0,i,s,o,l=-1,a=[],c=[];for(e=e+"",r=r+"";(i=Ml.exec(e))&&(s=Ra.exec(r));)(o=s.index)>n&&(o=r.slice(n,o),a[l]?a[l]+=o:a[++l]=o),(i=i[0])===(s=s[0])?a[l]?a[l]+=s:a[++l]=s:(a[++l]=null,c.push({i:l,x:fr(i,s)})),n=Ra.lastIndex;return n<r.length&&(o=r.slice(n),a[l]?a[l]+=o:a[++l]=o),a.length<2?c[0]?K1(c[0].x):q1(r):(r=c.length,function(h){for(var g=0,u;g<r;++g)a[(u=c[g]).i]=u.x(h);return a.join("")})}var Ah=180/Math.PI,Pl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tp(e,r,n,i,s,o){var l,a,c;return(l=Math.sqrt(e*e+r*r))&&(e/=l,r/=l),(c=e*n+r*i)&&(n-=e*c,i-=r*c),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,c/=a),e*i<r*n&&(e=-e,r=-r,c=-c,l=-l),{translateX:s,translateY:o,rotate:Math.atan2(r,e)*Ah,skewX:Math.atan(c)*Ah,scaleX:l,scaleY:a}}var ws;function X1(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?Pl:tp(r.a,r.b,r.c,r.d,r.e,r.f)}function Y1(e){return e==null||(ws||(ws=document.createElementNS("http://www.w3.org/2000/svg","g")),ws.setAttribute("transform",e),!(e=ws.transform.baseVal.consolidate()))?Pl:(e=e.matrix,tp(e.a,e.b,e.c,e.d,e.e,e.f))}function rp(e,r,n,i){function s(h){return h.length?h.pop()+" ":""}function o(h,g,u,v,y,C){if(h!==u||g!==v){var w=y.push("translate(",null,r,null,n);C.push({i:w-4,x:fr(h,u)},{i:w-2,x:fr(g,v)})}else(u||v)&&y.push("translate("+u+r+v+n)}function l(h,g,u,v){h!==g?(h-g>180?g+=360:g-h>180&&(h+=360),v.push({i:u.push(s(u)+"rotate(",null,i)-2,x:fr(h,g)})):g&&u.push(s(u)+"rotate("+g+i)}function a(h,g,u,v){h!==g?v.push({i:u.push(s(u)+"skewX(",null,i)-2,x:fr(h,g)}):g&&u.push(s(u)+"skewX("+g+i)}function c(h,g,u,v,y,C){if(h!==u||g!==v){var w=y.push(s(y)+"scale(",null,",",null,")");C.push({i:w-4,x:fr(h,u)},{i:w-2,x:fr(g,v)})}else(u!==1||v!==1)&&y.push(s(y)+"scale("+u+","+v+")")}return function(h,g){var u=[],v=[];return h=e(h),g=e(g),o(h.translateX,h.translateY,g.translateX,g.translateY,u,v),l(h.rotate,g.rotate,u,v),a(h.skewX,g.skewX,u,v),c(h.scaleX,h.scaleY,g.scaleX,g.scaleY,u,v),h=g=null,function(y){for(var C=-1,w=v.length,_;++C<w;)u[(_=v[C]).i]=_.x(y);return u.join("")}}}var Q1=rp(X1,"px, ","px)","deg)"),Z1=rp(Y1,", ",")",")"),J1=1e-12;function Th(e){return((e=Math.exp(e))+1/e)/2}function ey(e){return((e=Math.exp(e))-1/e)/2}function ty(e){return((e=Math.exp(2*e))-1)/(e+1)}const ry=function e(r,n,i){function s(o,l){var a=o[0],c=o[1],h=o[2],g=l[0],u=l[1],v=l[2],y=g-a,C=u-c,w=y*y+C*C,_,f;if(w<J1)f=Math.log(v/h)/r,_=function(k){return[a+k*y,c+k*C,h*Math.exp(r*k*f)]};else{var d=Math.sqrt(w),p=(v*v-h*h+i*w)/(2*h*n*d),m=(v*v-h*h-i*w)/(2*v*n*d),S=Math.log(Math.sqrt(p*p+1)-p),x=Math.log(Math.sqrt(m*m+1)-m);f=(x-S)/r,_=function(k){var b=k*f,E=Th(S),A=h/(n*d)*(E*ty(r*b+S)-ey(S));return[a+A*y,c+A*C,h*E/Th(r*b+S)]}}return _.duration=f*1e3*r/Math.SQRT2,_}return s.rho=function(o){var l=Math.max(.001,+o),a=l*l,c=a*a;return e(l,a,c)},s}(Math.SQRT2,2,4);var Ln=0,si=0,Kn=0,np=1e3,go,oi,vo=0,Kr=0,jo=0,ji=typeof performance=="object"&&performance.now?performance:Date,ip=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Wc(){return Kr||(ip(ny),Kr=ji.now()+jo)}function ny(){Kr=0}function mo(){this._call=this._time=this._next=null}mo.prototype=Vc.prototype={constructor:mo,restart:function(e,r,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Wc():+n)+(r==null?0:+r),!this._next&&oi!==this&&(oi?oi._next=this:go=this,oi=this),this._call=e,this._time=n,Ol()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ol())}};function Vc(e,r,n){var i=new mo;return i.restart(e,r,n),i}function iy(){Wc(),++Ln;for(var e=go,r;e;)(r=Kr-e._time)>=0&&e._call.call(void 0,r),e=e._next;--Ln}function Lh(){Kr=(vo=ji.now())+jo,Ln=si=0;try{iy()}finally{Ln=0,oy(),Kr=0}}function sy(){var e=ji.now(),r=e-vo;r>np&&(jo-=r,vo=e)}function oy(){for(var e,r=go,n,i=1/0;r;)r._call?(i>r._time&&(i=r._time),e=r,r=r._next):(n=r._next,r._next=null,r=e?e._next=n:go=n);oi=e,Ol(i)}function Ol(e){if(!Ln){si&&(si=clearTimeout(si));var r=e-Kr;r>24?(e<1/0&&(si=setTimeout(Lh,e-ji.now()-jo)),Kn&&(Kn=clearInterval(Kn))):(Kn||(vo=ji.now(),Kn=setInterval(sy,np)),Ln=1,ip(Lh))}}function Dh(e,r,n){var i=new mo;return r=r==null?0:+r,i.restart(s=>{i.stop(),e(s+r)},r,n),i}var ay=Qi("start","end","cancel","interrupt"),ly=[],sp=0,Mh=1,Il=2,zs=3,Ph=4,Bl=5,Hs=6;function Uo(e,r,n,i,s,o){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;cy(e,n,{name:r,index:i,group:s,on:ay,tween:ly,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:sp})}function qc(e,r){var n=Rt(e,r);if(n.state>sp)throw new Error("too late; already scheduled");return n}function Ht(e,r){var n=Rt(e,r);if(n.state>zs)throw new Error("too late; already running");return n}function Rt(e,r){var n=e.__transition;if(!n||!(n=n[r]))throw new Error("transition not found");return n}function cy(e,r,n){var i=e.__transition,s;i[r]=n,n.timer=Vc(o,0,n.time);function o(h){n.state=Mh,n.timer.restart(l,n.delay,n.time),n.delay<=h&&l(h-n.delay)}function l(h){var g,u,v,y;if(n.state!==Mh)return c();for(g in i)if(y=i[g],y.name===n.name){if(y.state===zs)return Dh(l);y.state===Ph?(y.state=Hs,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete i[g]):+g<r&&(y.state=Hs,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete i[g])}if(Dh(function(){n.state===zs&&(n.state=Ph,n.timer.restart(a,n.delay,n.time),a(h))}),n.state=Il,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Il){for(n.state=zs,s=new Array(v=n.tween.length),g=0,u=-1;g<v;++g)(y=n.tween[g].value.call(e,e.__data__,n.index,n.group))&&(s[++u]=y);s.length=u+1}}function a(h){for(var g=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(c),n.state=Bl,1),u=-1,v=s.length;++u<v;)s[u].call(e,g);n.state===Bl&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Hs,n.timer.stop(),delete i[r];for(var h in i)return;delete e.__transition}}function Fs(e,r){var n=e.__transition,i,s,o=!0,l;if(n){r=r==null?null:r+"";for(l in n){if((i=n[l]).name!==r){o=!1;continue}s=i.state>Il&&i.state<Bl,i.state=Hs,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[l]}o&&delete e.__transition}}function uy(e){return this.each(function(){Fs(this,e)})}function hy(e,r){var n,i;return function(){var s=Ht(this,e),o=s.tween;if(o!==n){i=n=o;for(var l=0,a=i.length;l<a;++l)if(i[l].name===r){i=i.slice(),i.splice(l,1);break}}s.tween=i}}function fy(e,r,n){var i,s;if(typeof n!="function")throw new Error;return function(){var o=Ht(this,e),l=o.tween;if(l!==i){s=(i=l).slice();for(var a={name:r,value:n},c=0,h=s.length;c<h;++c)if(s[c].name===r){s[c]=a;break}c===h&&s.push(a)}o.tween=s}}function dy(e,r){var n=this._id;if(e+="",arguments.length<2){for(var i=Rt(this.node(),n).tween,s=0,o=i.length,l;s<o;++s)if((l=i[s]).name===e)return l.value;return null}return this.each((r==null?hy:fy)(n,e,r))}function Kc(e,r,n){var i=e._id;return e.each(function(){var s=Ht(this,i);(s.value||(s.value={}))[r]=n.apply(this,arguments)}),function(s){return Rt(s,i).value[r]}}function op(e,r){var n;return(typeof r=="number"?fr:r instanceof $i?Rh:(n=$i(r))?(r=n,Rh):G1)(e,r)}function _y(e){return function(){this.removeAttribute(e)}}function py(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gy(e,r,n){var i,s=n+"",o;return function(){var l=this.getAttribute(e);return l===s?null:l===i?o:o=r(i=l,n)}}function vy(e,r,n){var i,s=n+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===s?null:l===i?o:o=r(i=l,n)}}function my(e,r,n){var i,s,o;return function(){var l,a=n(this),c;return a==null?void this.removeAttribute(e):(l=this.getAttribute(e),c=a+"",l===c?null:l===i&&c===s?o:(s=c,o=r(i=l,a)))}}function yy(e,r,n){var i,s,o;return function(){var l,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),c=a+"",l===c?null:l===i&&c===s?o:(s=c,o=r(i=l,a)))}}function Sy(e,r){var n=$o(e),i=n==="transform"?Z1:op;return this.attrTween(e,typeof r=="function"?(n.local?yy:my)(n,i,Kc(this,"attr."+e,r)):r==null?(n.local?py:_y)(n):(n.local?vy:gy)(n,i,r))}function wy(e,r){return function(n){this.setAttribute(e,r.call(this,n))}}function Cy(e,r){return function(n){this.setAttributeNS(e.space,e.local,r.call(this,n))}}function by(e,r){var n,i;function s(){var o=r.apply(this,arguments);return o!==i&&(n=(i=o)&&Cy(e,o)),n}return s._value=r,s}function xy(e,r){var n,i;function s(){var o=r.apply(this,arguments);return o!==i&&(n=(i=o)&&wy(e,o)),n}return s._value=r,s}function ky(e,r){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(r==null)return this.tween(n,null);if(typeof r!="function")throw new Error;var i=$o(e);return this.tween(n,(i.local?by:xy)(i,r))}function Ey(e,r){return function(){qc(this,e).delay=+r.apply(this,arguments)}}function Ry(e,r){return r=+r,function(){qc(this,e).delay=r}}function Ay(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?Ey:Ry)(r,e)):Rt(this.node(),r).delay}function Ty(e,r){return function(){Ht(this,e).duration=+r.apply(this,arguments)}}function Ly(e,r){return r=+r,function(){Ht(this,e).duration=r}}function Dy(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?Ty:Ly)(r,e)):Rt(this.node(),r).duration}function My(e,r){if(typeof r!="function")throw new Error;return function(){Ht(this,e).ease=r}}function Py(e){var r=this._id;return arguments.length?this.each(My(r,e)):Rt(this.node(),r).ease}function Oy(e,r){return function(){var n=r.apply(this,arguments);if(typeof n!="function")throw new Error;Ht(this,e).ease=n}}function Iy(e){if(typeof e!="function")throw new Error;return this.each(Oy(this._id,e))}function By(e){typeof e!="function"&&(e=H_(e));for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s)for(var o=r[s],l=o.length,a=i[s]=[],c,h=0;h<l;++h)(c=o[h])&&e.call(c,c.__data__,h,o)&&a.push(c);return new nr(i,this._parents,this._name,this._id)}function Ny(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,n=e._groups,i=r.length,s=n.length,o=Math.min(i,s),l=new Array(i),a=0;a<o;++a)for(var c=r[a],h=n[a],g=c.length,u=l[a]=new Array(g),v,y=0;y<g;++y)(v=c[y]||h[y])&&(u[y]=v);for(;a<i;++a)l[a]=r[a];return new nr(l,this._parents,this._name,this._id)}function zy(e){return(e+"").trim().split(/^|\s+/).every(function(r){var n=r.indexOf(".");return n>=0&&(r=r.slice(0,n)),!r||r==="start"})}function Hy(e,r,n){var i,s,o=zy(r)?qc:Ht;return function(){var l=o(this,e),a=l.on;a!==i&&(s=(i=a).copy()).on(r,n),l.on=s}}function Fy(e,r){var n=this._id;return arguments.length<2?Rt(this.node(),n).on.on(e):this.each(Hy(n,e,r))}function $y(e){return function(){var r=this.parentNode;for(var n in this.__transition)if(+n!==e)return;r&&r.removeChild(this)}}function jy(){return this.on("end.remove",$y(this._id))}function Uy(e){var r=this._name,n=this._id;typeof e!="function"&&(e=$c(e));for(var i=this._groups,s=i.length,o=new Array(s),l=0;l<s;++l)for(var a=i[l],c=a.length,h=o[l]=new Array(c),g,u,v=0;v<c;++v)(g=a[v])&&(u=e.call(g,g.__data__,v,a))&&("__data__"in g&&(u.__data__=g.__data__),h[v]=u,Uo(h[v],r,n,v,h,Rt(g,n)));return new nr(o,this._parents,r,n)}function Wy(e){var r=this._name,n=this._id;typeof e!="function"&&(e=z_(e));for(var i=this._groups,s=i.length,o=[],l=[],a=0;a<s;++a)for(var c=i[a],h=c.length,g,u=0;u<h;++u)if(g=c[u]){for(var v=e.call(g,g.__data__,u,c),y,C=Rt(g,n),w=0,_=v.length;w<_;++w)(y=v[w])&&Uo(y,r,n,w,v,C);o.push(v),l.push(g)}return new nr(o,l,r,n)}var Vy=Yi.prototype.constructor;function qy(){return new Vy(this._groups,this._parents)}function Ky(e,r){var n,i,s;return function(){var o=Tn(this,e),l=(this.style.removeProperty(e),Tn(this,e));return o===l?null:o===n&&l===i?s:s=r(n=o,i=l)}}function ap(e){return function(){this.style.removeProperty(e)}}function Gy(e,r,n){var i,s=n+"",o;return function(){var l=Tn(this,e);return l===s?null:l===i?o:o=r(i=l,n)}}function Xy(e,r,n){var i,s,o;return function(){var l=Tn(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),Tn(this,e))),l===c?null:l===i&&c===s?o:(s=c,o=r(i=l,a))}}function Yy(e,r){var n,i,s,o="style."+r,l="end."+o,a;return function(){var c=Ht(this,e),h=c.on,g=c.value[o]==null?a||(a=ap(r)):void 0;(h!==n||s!==g)&&(i=(n=h).copy()).on(l,s=g),c.on=i}}function Qy(e,r,n){var i=(e+="")=="transform"?Q1:op;return r==null?this.styleTween(e,Ky(e,i)).on("end.style."+e,ap(e)):typeof r=="function"?this.styleTween(e,Xy(e,i,Kc(this,"style."+e,r))).each(Yy(this._id,e)):this.styleTween(e,Gy(e,i,r),n).on("end.style."+e,null)}function Zy(e,r,n){return function(i){this.style.setProperty(e,r.call(this,i),n)}}function Jy(e,r,n){var i,s;function o(){var l=r.apply(this,arguments);return l!==s&&(i=(s=l)&&Zy(e,l,n)),i}return o._value=r,o}function eS(e,r,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,Jy(e,r,n??""))}function tS(e){return function(){this.textContent=e}}function rS(e){return function(){var r=e(this);this.textContent=r??""}}function nS(e){return this.tween("text",typeof e=="function"?rS(Kc(this,"text",e)):tS(e==null?"":e+""))}function iS(e){return function(r){this.textContent=e.call(this,r)}}function sS(e){var r,n;function i(){var s=e.apply(this,arguments);return s!==n&&(r=(n=s)&&iS(s)),r}return i._value=e,i}function oS(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,sS(e))}function aS(){for(var e=this._name,r=this._id,n=lp(),i=this._groups,s=i.length,o=0;o<s;++o)for(var l=i[o],a=l.length,c,h=0;h<a;++h)if(c=l[h]){var g=Rt(c,r);Uo(c,e,n,h,l,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new nr(i,this._parents,e,n)}function lS(){var e,r,n=this,i=n._id,s=n.size();return new Promise(function(o,l){var a={value:l},c={value:function(){--s===0&&o()}};n.each(function(){var h=Ht(this,i),g=h.on;g!==e&&(r=(e=g).copy(),r._.cancel.push(a),r._.interrupt.push(a),r._.end.push(c)),h.on=r}),s===0&&o()})}var cS=0;function nr(e,r,n,i){this._groups=e,this._parents=r,this._name=n,this._id=i}function lp(){return++cS}var Ft=Yi.prototype;nr.prototype={constructor:nr,select:Uy,selectAll:Wy,selectChild:Ft.selectChild,selectChildren:Ft.selectChildren,filter:By,merge:Ny,selection:qy,transition:aS,call:Ft.call,nodes:Ft.nodes,node:Ft.node,size:Ft.size,empty:Ft.empty,each:Ft.each,on:Fy,attr:Sy,attrTween:ky,style:Qy,styleTween:eS,text:nS,textTween:oS,remove:jy,tween:dy,delay:Ay,duration:Dy,ease:Py,easeVarying:Iy,end:lS,[Symbol.iterator]:Ft[Symbol.iterator]};function uS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var hS={time:null,delay:0,duration:250,ease:uS};function fS(e,r){for(var n;!(n=e.__transition)||!(n=n[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return n}function dS(e){var r,n;e instanceof nr?(r=e._id,e=e._name):(r=lp(),(n=hS).time=Wc(),e=e==null?null:e+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var l=i[o],a=l.length,c,h=0;h<a;++h)(c=l[h])&&Uo(c,e,r,h,l,n||fS(c,r));return new nr(i,this._parents,e,r)}Yi.prototype.interrupt=uy;Yi.prototype.transition=dS;const Cs=e=>()=>e;function _S(e,{sourceEvent:r,target:n,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Xt(e,r,n){this.k=e,this.x=r,this.y=n}Xt.prototype={constructor:Xt,scale:function(e){return e===1?this:new Xt(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new Xt(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gc=new Xt(1,0,0);Dt.prototype=Xt.prototype;function Dt(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Gc;return e.__zoom}function Aa(e){e.stopImmediatePropagation()}function Gn(e){e.preventDefault(),e.stopImmediatePropagation()}function pS(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function gS(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Oh(){return this.__zoom||Gc}function vS(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function mS(){return navigator.maxTouchPoints||"ontouchstart"in this}function yS(e,r,n){var i=e.invertX(r[0][0])-n[0][0],s=e.invertX(r[1][0])-n[1][0],o=e.invertY(r[0][1])-n[0][1],l=e.invertY(r[1][1])-n[1][1];return e.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function SS(){var e=pS,r=gS,n=yS,i=vS,s=mS,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],a=250,c=ry,h=Qi("start","zoom","end"),g,u,v,y=500,C=150,w=0,_=10;function f(O){O.property("__zoom",Oh).on("wheel.zoom",b,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",A).filter(s).on("touchstart.zoom",P).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.transform=function(O,H,N,F){var R=O.selection?O.selection():O;R.property("__zoom",Oh),O!==R?S(O,H,N,F):R.interrupt().each(function(){x(this,arguments).event(F).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},f.scaleBy=function(O,H,N,F){f.scaleTo(O,function(){var R=this.__zoom.k,L=typeof H=="function"?H.apply(this,arguments):H;return R*L},N,F)},f.scaleTo=function(O,H,N,F){f.transform(O,function(){var R=r.apply(this,arguments),L=this.__zoom,M=N==null?m(R):typeof N=="function"?N.apply(this,arguments):N,B=L.invert(M),j=typeof H=="function"?H.apply(this,arguments):H;return n(p(d(L,j),M,B),R,l)},N,F)},f.translateBy=function(O,H,N,F){f.transform(O,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof N=="function"?N.apply(this,arguments):N),r.apply(this,arguments),l)},null,F)},f.translateTo=function(O,H,N,F,R){f.transform(O,function(){var L=r.apply(this,arguments),M=this.__zoom,B=F==null?m(L):typeof F=="function"?F.apply(this,arguments):F;return n(Gc.translate(B[0],B[1]).scale(M.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof N=="function"?-N.apply(this,arguments):-N),L,l)},F,R)};function d(O,H){return H=Math.max(o[0],Math.min(o[1],H)),H===O.k?O:new Xt(H,O.x,O.y)}function p(O,H,N){var F=H[0]-N[0]*O.k,R=H[1]-N[1]*O.k;return F===O.x&&R===O.y?O:new Xt(O.k,F,R)}function m(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function S(O,H,N,F){O.on("start.zoom",function(){x(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(F).end()}).tween("zoom",function(){var R=this,L=arguments,M=x(R,L).event(F),B=r.apply(R,L),j=N==null?m(B):typeof N=="function"?N.apply(R,L):N,V=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),G=R.__zoom,X=typeof H=="function"?H.apply(R,L):H,J=c(G.invert(j).concat(V/G.k),X.invert(j).concat(V/X.k));return function(T){if(T===1)T=X;else{var $=J(T),U=V/$[2];T=new Xt(U,j[0]-$[0]*U,j[1]-$[1]*U)}M.zoom(null,T)}})}function x(O,H,N){return!N&&O.__zooming||new k(O,H)}function k(O,H){this.that=O,this.args=H,this.active=0,this.sourceEvent=null,this.extent=r.apply(O,H),this.taps=0}k.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,H){return this.mouse&&O!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var H=ht(this.that).datum();h.call(O,this.that,new _S(O,{sourceEvent:this.sourceEvent,target:f,type:O,transform:this.that.__zoom,dispatch:h}),H)}};function b(O,...H){if(!e.apply(this,arguments))return;var N=x(this,H).event(O),F=this.__zoom,R=Math.max(o[0],Math.min(o[1],F.k*Math.pow(2,i.apply(this,arguments)))),L=Mt(O);if(N.wheel)(N.mouse[0][0]!==L[0]||N.mouse[0][1]!==L[1])&&(N.mouse[1]=F.invert(N.mouse[0]=L)),clearTimeout(N.wheel);else{if(F.k===R)return;N.mouse=[L,F.invert(L)],Fs(this),N.start()}Gn(O),N.wheel=setTimeout(M,C),N.zoom("mouse",n(p(d(F,R),N.mouse[0],N.mouse[1]),N.extent,l));function M(){N.wheel=null,N.end()}}function E(O,...H){if(v||!e.apply(this,arguments))return;var N=O.currentTarget,F=x(this,H,!0).event(O),R=ht(O.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",V,!0),L=Mt(O,N),M=O.clientX,B=O.clientY;X_(O.view),Aa(O),F.mouse=[L,this.__zoom.invert(L)],Fs(this),F.start();function j(G){if(Gn(G),!F.moved){var X=G.clientX-M,J=G.clientY-B;F.moved=X*X+J*J>w}F.event(G).zoom("mouse",n(p(F.that.__zoom,F.mouse[0]=Mt(G,N),F.mouse[1]),F.extent,l))}function V(G){R.on("mousemove.zoom mouseup.zoom",null),Y_(G.view,F.moved),Gn(G),F.event(G).end()}}function A(O,...H){if(e.apply(this,arguments)){var N=this.__zoom,F=Mt(O.changedTouches?O.changedTouches[0]:O,this),R=N.invert(F),L=N.k*(O.shiftKey?.5:2),M=n(p(d(N,L),F,R),r.apply(this,H),l);Gn(O),a>0?ht(this).transition().duration(a).call(S,M,F,O):ht(this).call(f.transform,M,F,O)}}function P(O,...H){if(e.apply(this,arguments)){var N=O.touches,F=N.length,R=x(this,H,O.changedTouches.length===F).event(O),L,M,B,j;for(Aa(O),M=0;M<F;++M)B=N[M],j=Mt(B,this),j=[j,this.__zoom.invert(j),B.identifier],R.touch0?!R.touch1&&R.touch0[2]!==j[2]&&(R.touch1=j,R.taps=0):(R.touch0=j,L=!0,R.taps=1+!!g);g&&(g=clearTimeout(g)),L&&(R.taps<2&&(u=j[0],g=setTimeout(function(){g=null},y)),Fs(this),R.start())}}function D(O,...H){if(this.__zooming){var N=x(this,H).event(O),F=O.changedTouches,R=F.length,L,M,B,j;for(Gn(O),L=0;L<R;++L)M=F[L],B=Mt(M,this),N.touch0&&N.touch0[2]===M.identifier?N.touch0[0]=B:N.touch1&&N.touch1[2]===M.identifier&&(N.touch1[0]=B);if(M=N.that.__zoom,N.touch1){var V=N.touch0[0],G=N.touch0[1],X=N.touch1[0],J=N.touch1[1],T=(T=X[0]-V[0])*T+(T=X[1]-V[1])*T,$=($=J[0]-G[0])*$+($=J[1]-G[1])*$;M=d(M,Math.sqrt(T/$)),B=[(V[0]+X[0])/2,(V[1]+X[1])/2],j=[(G[0]+J[0])/2,(G[1]+J[1])/2]}else if(N.touch0)B=N.touch0[0],j=N.touch0[1];else return;N.zoom("touch",n(p(M,B,j),N.extent,l))}}function I(O,...H){if(this.__zooming){var N=x(this,H).event(O),F=O.changedTouches,R=F.length,L,M;for(Aa(O),v&&clearTimeout(v),v=setTimeout(function(){v=null},y),L=0;L<R;++L)M=F[L],N.touch0&&N.touch0[2]===M.identifier?delete N.touch0:N.touch1&&N.touch1[2]===M.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(M=Mt(M,this),Math.hypot(u[0]-M[0],u[1]-M[1])<_)){var B=ht(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return f.wheelDelta=function(O){return arguments.length?(i=typeof O=="function"?O:Cs(+O),f):i},f.filter=function(O){return arguments.length?(e=typeof O=="function"?O:Cs(!!O),f):e},f.touchable=function(O){return arguments.length?(s=typeof O=="function"?O:Cs(!!O),f):s},f.extent=function(O){return arguments.length?(r=typeof O=="function"?O:Cs([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),f):r},f.scaleExtent=function(O){return arguments.length?(o[0]=+O[0],o[1]=+O[1],f):[o[0],o[1]]},f.translateExtent=function(O){return arguments.length?(l[0][0]=+O[0][0],l[1][0]=+O[1][0],l[0][1]=+O[0][1],l[1][1]=+O[1][1],f):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},f.constrain=function(O){return arguments.length?(n=O,f):n},f.duration=function(O){return arguments.length?(a=+O,f):a},f.interpolate=function(O){return arguments.length?(c=O,f):c},f.on=function(){var O=h.on.apply(h,arguments);return O===h?f:O},f.clickDistance=function(O){return arguments.length?(w=(O=+O)*O,f):Math.sqrt(w)},f.tapDistance=function(O){return arguments.length?(_=+O,f):_},f}class Ih extends Map{constructor(r,n=bS){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[i,s]of r)this.set(i,s)}get(r){return super.get(Bh(this,r))}has(r){return super.has(Bh(this,r))}set(r,n){return super.set(wS(this,r),n)}delete(r){return super.delete(CS(this,r))}}function Bh({_intern:e,_key:r},n){const i=r(n);return e.has(i)?e.get(i):n}function wS({_intern:e,_key:r},n){const i=r(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function CS({_intern:e,_key:r},n){const i=r(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function bS(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Nh(e,r){let n;if(r===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of e)(s=r(s,++i,e))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function zh(e,r){let n;if(r===void 0)for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of e)(s=r(s,++i,e))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function xS(e,r){let n=0;if(r===void 0)for(let i of e)(i=+i)&&(n+=i);else{let i=-1;for(let s of e)(s=+r(s,++i,e))&&(n+=s)}return n}var kS=typeof global=="object"&&global&&global.Object===Object&&global;const ES=kS;var RS=typeof self=="object"&&self&&self.Object===Object&&self,AS=ES||RS||Function("return this")();const cp=AS;var TS=cp.Symbol;const yo=TS;var up=Object.prototype,LS=up.hasOwnProperty,DS=up.toString,Xn=yo?yo.toStringTag:void 0;function MS(e){var r=LS.call(e,Xn),n=e[Xn];try{e[Xn]=void 0;var i=!0}catch{}var s=DS.call(e);return i&&(r?e[Xn]=n:delete e[Xn]),s}var PS=Object.prototype,OS=PS.toString;function IS(e){return OS.call(e)}var BS="[object Null]",NS="[object Undefined]",Hh=yo?yo.toStringTag:void 0;function zS(e){return e==null?e===void 0?NS:BS:Hh&&Hh in Object(e)?MS(e):IS(e)}function HS(e){return e!=null&&typeof e=="object"}var FS="[object Symbol]";function $S(e){return typeof e=="symbol"||HS(e)&&zS(e)==FS}var jS=/\s/;function US(e){for(var r=e.length;r--&&jS.test(e.charAt(r)););return r}var WS=/^\s+/;function VS(e){return e&&e.slice(0,US(e)+1).replace(WS,"")}function So(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Fh=0/0,qS=/^[-+]0x[0-9a-f]+$/i,KS=/^0b[01]+$/i,GS=/^0o[0-7]+$/i,XS=parseInt;function $h(e){if(typeof e=="number")return e;if($S(e))return Fh;if(So(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=So(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=VS(e);var n=KS.test(e);return n||GS.test(e)?XS(e.slice(2),n?2:8):qS.test(e)?Fh:+e}var YS=function(){return cp.Date.now()};const Ta=YS;var QS="Expected a function",ZS=Math.max,JS=Math.min;function hp(e,r,n){var i,s,o,l,a,c,h=0,g=!1,u=!1,v=!0;if(typeof e!="function")throw new TypeError(QS);r=$h(r)||0,So(n)&&(g=!!n.leading,u="maxWait"in n,o=u?ZS($h(n.maxWait)||0,r):o,v="trailing"in n?!!n.trailing:v);function y(x){var k=i,b=s;return i=s=void 0,h=x,l=e.apply(b,k),l}function C(x){return h=x,a=setTimeout(f,r),g?y(x):l}function w(x){var k=x-c,b=x-h,E=r-k;return u?JS(E,o-b):E}function _(x){var k=x-c,b=x-h;return c===void 0||k>=r||k<0||u&&b>=o}function f(){var x=Ta();if(_(x))return d(x);a=setTimeout(f,w(x))}function d(x){return a=void 0,v&&i?y(x):(i=s=void 0,l)}function p(){a!==void 0&&clearTimeout(a),h=0,i=c=s=a=void 0}function m(){return a===void 0?l:d(Ta())}function S(){var x=Ta(),k=_(x);if(i=arguments,s=this,c=x,k){if(a===void 0)return C(c);if(u)return clearTimeout(a),a=setTimeout(f,r),y(c)}return a===void 0&&(a=setTimeout(f,r)),l}return S.cancel=p,S.flush=m,S}var ew="Expected a function";function tw(e,r,n){var i=!0,s=!0;if(typeof e!="function")throw new TypeError(ew);return So(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),hp(e,r,{leading:i,maxWait:r,trailing:s})}var $r=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var r=1.70158;return e===1?1:e*e*((r+1)*e-r)},Out:function(e){var r=1.70158;return e===0?0:--e*e*((r+1)*e+r)+1},InOut:function(e){var r=2.5949095;return(e*=2)<1?.5*(e*e*((r+1)*e-r)):.5*((e-=2)*e*((r+1)*e+r)+2)}}),Bounce:Object.freeze({In:function(e){return 1-$r.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?$r.Bounce.In(e*2)*.5:$r.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(r){return Math.pow(r,e)},Out:function(r){return 1-Math.pow(1-r,e)},InOut:function(r){return r<.5?Math.pow(r*2,e)/2:(1-Math.pow(2-r*2,e))/2+.5}}}}),ai=function(){return performance.now()},fp=function(){function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,r)}return e.prototype.getAll=function(){var r=this;return Object.keys(this._tweens).map(function(n){return r._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var s=0,o=n;s<o.length;s++){var l=o[s];(r=l._group)===null||r===void 0||r.remove(l),l._group=this,this._tweens[l.getId()]=l,this._tweensAddedDuringUpdate[l.getId()]=l}},e.prototype.remove=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var i=0,s=r;i<s.length;i++){var o=s[i];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(r){return!r.isPlaying()})},e.prototype.update=function(r,n){r===void 0&&(r=ai()),n===void 0&&(n=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<i.length;s++){var o=this._tweens[i[s]],l=!n;o&&o.update(r,l)===!1&&!n&&this.remove(o)}i=Object.keys(this._tweensAddedDuringUpdate)}},e}(),dn={Linear:function(e,r){var n=e.length-1,i=n*r,s=Math.floor(i),o=dn.Utils.Linear;return r<0?o(e[0],e[1],i):r>1?o(e[n],e[n-1],n-i):o(e[s],e[s+1>n?n:s+1],i-s)},Bezier:function(e,r){for(var n=0,i=e.length-1,s=Math.pow,o=dn.Utils.Bernstein,l=0;l<=i;l++)n+=s(1-r,i-l)*s(r,l)*e[l]*o(i,l);return n},CatmullRom:function(e,r){var n=e.length-1,i=n*r,s=Math.floor(i),o=dn.Utils.CatmullRom;return e[0]===e[n]?(r<0&&(s=Math.floor(i=n*(1+r))),o(e[(s-1+n)%n],e[s],e[(s+1)%n],e[(s+2)%n],i-s)):r<0?e[0]-(o(e[0],e[0],e[1],e[1],-i)-e[0]):r>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):o(e[s?s-1:0],e[s],e[n<s+1?n:s+1],e[n<s+2?n:s+2],i-s)},Utils:{Linear:function(e,r,n){return(r-e)*n+e},Bernstein:function(e,r){var n=dn.Utils.Factorial;return n(e)/n(r)/n(e-r)},Factorial:function(){var e=[1];return function(r){var n=1;if(e[r])return e[r];for(var i=r;i>1;i--)n*=i;return e[r]=n,n}}(),CatmullRom:function(e,r,n,i,s){var o=(n-e)*.5,l=(i-r)*.5,a=s*s,c=s*a;return(2*r-2*n+o+l)*c+(-3*r+3*n-2*o-l)*a+o*s+r}}},rw=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Nl=new fp,jh=function(){function e(r,n){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=$r.Linear.None,this._interpolationFunction=dn.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=rw.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=r,typeof n=="object"?(this._group=n,n.add(this)):n===!0&&(this._group=Nl,Nl.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(r,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=r,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},e.prototype.duration=function(r){return r===void 0&&(r=1e3),this._duration=r<0?0:r,this},e.prototype.dynamic=function(r){return r===void 0&&(r=!1),this._isDynamic=r,this},e.prototype.start=function(r,n){if(r===void 0&&(r=ai()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=r,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var o in this._valuesEnd)s[o]=this._valuesEnd[o];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},e.prototype.startFromCurrentValues=function(r){return this.start(r,!0)},e.prototype._setupProperties=function(r,n,i,s,o){for(var l in i){var a=r[l],c=Array.isArray(a),h=c?"array":typeof a,g=!c&&Array.isArray(i[l]);if(!(h==="undefined"||h==="function")){if(g){var u=i[l];if(u.length===0)continue;for(var v=[a],y=0,C=u.length;y<C;y+=1){var w=this._handleRelativeValue(a,u[y]);if(isNaN(w)){g=!1,console.warn("Found invalid interpolation list. Skipping.");break}v.push(w)}g&&(i[l]=v)}if((h==="object"||c)&&a&&!g){n[l]=c?[]:{};var _=a;for(var f in _)n[l][f]=_[f];s[l]=c?[]:{};var u=i[l];if(!this._isDynamic){var d={};for(var f in u)d[f]=u[f];i[l]=u=d}this._setupProperties(_,n[l],u,s[l],o)}else(typeof n[l]>"u"||o)&&(n[l]=a),c||(n[l]*=1),g?s[l]=i[l].slice().reverse():s[l]=n[l]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(r){return r===void 0&&(r=ai()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=r,this)},e.prototype.resume=function(r){return r===void 0&&(r=ai()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=r-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var r=0,n=this._chainedTweens.length;r<n;r++)this._chainedTweens[r].stop();return this},e.prototype.group=function(r){return r?(r.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var r;return(r=this._group)===null||r===void 0||r.remove(this),this},e.prototype.delay=function(r){return r===void 0&&(r=0),this._delayTime=r,this},e.prototype.repeat=function(r){return r===void 0&&(r=0),this._initialRepeat=r,this._repeat=r,this},e.prototype.repeatDelay=function(r){return this._repeatDelayTime=r,this},e.prototype.yoyo=function(r){return r===void 0&&(r=!1),this._yoyo=r,this},e.prototype.easing=function(r){return r===void 0&&(r=$r.Linear.None),this._easingFunction=r,this},e.prototype.interpolation=function(r){return r===void 0&&(r=dn.Linear),this._interpolationFunction=r,this},e.prototype.chain=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return this._chainedTweens=r,this},e.prototype.onStart=function(r){return this._onStartCallback=r,this},e.prototype.onEveryStart=function(r){return this._onEveryStartCallback=r,this},e.prototype.onUpdate=function(r){return this._onUpdateCallback=r,this},e.prototype.onRepeat=function(r){return this._onRepeatCallback=r,this},e.prototype.onComplete=function(r){return this._onCompleteCallback=r,this},e.prototype.onStop=function(r){return this._onStopCallback=r,this},e.prototype.update=function(r,n){var i=this,s;if(r===void 0&&(r=ai()),n===void 0&&(n=e.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(n)this.start(r,!0);else return!1;if(this._goToEnd=!1,r<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var l=r-this._startTime,a=this._duration+((s=this._repeatDelayTime)!==null&&s!==void 0?s:this._delayTime),c=this._duration+this._repeat*a,h=function(){if(i._duration===0||l>c)return 1;var w=Math.trunc(l/a),_=l-w*a,f=Math.min(_/i._duration,1);return f===0&&l===i._duration?1:f},g=h(),u=this._easingFunction(g);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,u),this._onUpdateCallback&&this._onUpdateCallback(this._object,g),this._duration===0||l>=this._duration)if(this._repeat>0){var v=Math.min(Math.trunc((l-this._duration)/a)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=v);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=a*v,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var y=0,C=this._chainedTweens.length;y<C;y++)this._chainedTweens[y].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(r,n,i,s){for(var o in i)if(n[o]!==void 0){var l=n[o]||0,a=i[o],c=Array.isArray(r[o]),h=Array.isArray(a),g=!c&&h;g?r[o]=this._interpolationFunction(a,s):typeof a=="object"&&a?this._updateProperties(r[o],l,a,s):(a=this._handleRelativeValue(l,a),typeof a=="number"&&(r[o]=l+(a-l)*s))}},e.prototype._handleRelativeValue=function(r,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?r+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(r){var n=this._valuesStartRepeat[r],i=this._valuesEnd[r];typeof i=="string"?this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(i):this._valuesStartRepeat[r]=this._valuesEnd[r],this._valuesEnd[r]=n},e.autoStartOnUpdate=!1,e}(),zt=Nl;zt.getAll.bind(zt);zt.removeAll.bind(zt);zt.add.bind(zt);zt.remove.bind(zt);zt.update.bind(zt);function Uh(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=Array(r);n<r;n++)i[n]=e[n];return i}function nw(e){if(Array.isArray(e))return e}function iw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sw(e,r,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function ow(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,o,l,a=[],c=!0,h=!1;try{if(o=(n=n.call(e)).next,r!==0)for(;!(c=(i=o.call(n)).done)&&(a.push(i.value),a.length!==r);c=!0);}catch(g){h=!0,s=g}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return a}}function aw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lw(e,r){return nw(e)||ow(e,r)||cw(e,r)||aw()}function cw(e,r){if(e){if(typeof e=="string")return Uh(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uh(e,r):void 0}}var uw=sw(function e(r,n){var i=n.default,s=i===void 0?null:i,o=n.triggerUpdate,l=o===void 0?!0:o,a=n.onChange,c=a===void 0?function(h,g){}:a;iw(this,e),this.name=r,this.defaultVal=s,this.triggerUpdate=l,this.onChange=c});function Xc(e){var r=e.stateInit,n=r===void 0?function(){return{}}:r,i=e.props,s=i===void 0?{}:i,o=e.methods,l=o===void 0?{}:o,a=e.aliases,c=a===void 0?{}:a,h=e.init,g=h===void 0?function(){}:h,u=e.update,v=u===void 0?function(){}:u,y=Object.keys(s).map(function(C){return new uw(C,s[C])});return function C(){for(var w=arguments.length,_=new Array(w),f=0;f<w;f++)_[f]=arguments[f];var d=!!(this instanceof C&&this.constructor),p=d?_.shift():void 0,m=_[0],S=m===void 0?{}:m,x=Object.assign({},n instanceof Function?n(S):n,{initialised:!1}),k={};function b(P){return E(P,S),A(),b}var E=function(D,I){g.call(b,D,x,I),x.initialised=!0},A=hp(function(){x.initialised&&(v.call(b,x,k),k={})},1);return y.forEach(function(P){b[P.name]=D(P);function D(I){var O=I.name,H=I.triggerUpdate,N=H===void 0?!1:H,F=I.onChange,R=F===void 0?function(B,j){}:F,L=I.defaultVal,M=L===void 0?null:L;return function(B){var j=x[O];if(!arguments.length)return j;var V=B===void 0?M:B;return x[O]=V,R.call(b,V,x,j),!k.hasOwnProperty(O)&&(k[O]=j),N&&A(),b}}}),Object.keys(l).forEach(function(P){b[P]=function(){for(var D,I=arguments.length,O=new Array(I),H=0;H<I;H++)O[H]=arguments[H];return(D=l[P]).call.apply(D,[b,x].concat(O))}}),Object.entries(c).forEach(function(P){var D=lw(P,2),I=D[0],O=D[1];return b[I]=b[O]}),b.resetProps=function(){return y.forEach(function(P){b[P.name](P.defaultVal)}),b},b.resetProps(),x._rerender=A,d&&p&&b(p),b}}var se=function(e){return typeof e=="function"?e:typeof e=="string"?function(r){return r[e]}:function(r){return e}};function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wo(e)}var hw=/^\s+/,fw=/\s+$/;function Z(e,r){if(e=e||"",r=r||{},e instanceof Z)return e;if(!(this instanceof Z))return new Z(e,r);var n=dw(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||n.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Z.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var r=this.toRgb();return(r.r*299+r.g*587+r.b*114)/1e3},getLuminance:function(){var r=this.toRgb(),n,i,s,o,l,a;return n=r.r/255,i=r.g/255,s=r.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),s<=.03928?a=s/12.92:a=Math.pow((s+.055)/1.055,2.4),.2126*o+.7152*l+.0722*a},setAlpha:function(r){return this._a=dp(r),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var r=Vh(this._r,this._g,this._b);return{h:r.h*360,s:r.s,v:r.v,a:this._a}},toHsvString:function(){var r=Vh(this._r,this._g,this._b),n=Math.round(r.h*360),i=Math.round(r.s*100),s=Math.round(r.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+s+"%)":"hsva("+n+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var r=Wh(this._r,this._g,this._b);return{h:r.h*360,s:r.s,l:r.l,a:this._a}},toHslString:function(){var r=Wh(this._r,this._g,this._b),n=Math.round(r.h*360),i=Math.round(r.s*100),s=Math.round(r.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+s+"%)":"hsla("+n+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(r){return qh(this._r,this._g,this._b,r)},toHexString:function(r){return"#"+this.toHex(r)},toHex8:function(r){return vw(this._r,this._g,this._b,this._a,r)},toHex8String:function(r){return"#"+this.toHex8(r)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(de(this._r,255)*100)+"%",g:Math.round(de(this._g,255)*100)+"%",b:Math.round(de(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(de(this._r,255)*100)+"%, "+Math.round(de(this._g,255)*100)+"%, "+Math.round(de(this._b,255)*100)+"%)":"rgba("+Math.round(de(this._r,255)*100)+"%, "+Math.round(de(this._g,255)*100)+"%, "+Math.round(de(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Tw[qh(this._r,this._g,this._b,!0)]||!1},toFilter:function(r){var n="#"+Kh(this._r,this._g,this._b,this._a),i=n,s=this._gradientType?"GradientType = 1, ":"";if(r){var o=Z(r);i="#"+Kh(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+n+",endColorstr="+i+")"},toString:function(r){var n=!!r;r=r||this._format;var i=!1,s=this._a<1&&this._a>=0,o=!n&&s&&(r==="hex"||r==="hex6"||r==="hex3"||r==="hex4"||r==="hex8"||r==="name");return o?r==="name"&&this._a===0?this.toName():this.toRgbString():(r==="rgb"&&(i=this.toRgbString()),r==="prgb"&&(i=this.toPercentageRgbString()),(r==="hex"||r==="hex6")&&(i=this.toHexString()),r==="hex3"&&(i=this.toHexString(!0)),r==="hex4"&&(i=this.toHex8String(!0)),r==="hex8"&&(i=this.toHex8String()),r==="name"&&(i=this.toName()),r==="hsl"&&(i=this.toHslString()),r==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Z(this.toString())},_applyModification:function(r,n){var i=r.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(ww,arguments)},brighten:function(){return this._applyModification(Cw,arguments)},darken:function(){return this._applyModification(bw,arguments)},desaturate:function(){return this._applyModification(mw,arguments)},saturate:function(){return this._applyModification(yw,arguments)},greyscale:function(){return this._applyModification(Sw,arguments)},spin:function(){return this._applyModification(xw,arguments)},_applyCombination:function(r,n){return r.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Rw,arguments)},complement:function(){return this._applyCombination(kw,arguments)},monochromatic:function(){return this._applyCombination(Aw,arguments)},splitcomplement:function(){return this._applyCombination(Ew,arguments)},triad:function(){return this._applyCombination(Gh,[3])},tetrad:function(){return this._applyCombination(Gh,[4])}};Z.fromRatio=function(e,r){if(wo(e)=="object"){var n={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?n[i]=e[i]:n[i]=li(e[i]));e=n}return Z(e,r)};function dw(e){var r={r:0,g:0,b:0},n=1,i=null,s=null,o=null,l=!1,a=!1;return typeof e=="string"&&(e=Pw(e)),wo(e)=="object"&&($t(e.r)&&$t(e.g)&&$t(e.b)?(r=_w(e.r,e.g,e.b),l=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):$t(e.h)&&$t(e.s)&&$t(e.v)?(i=li(e.s),s=li(e.v),r=gw(e.h,i,s),l=!0,a="hsv"):$t(e.h)&&$t(e.s)&&$t(e.l)&&(i=li(e.s),o=li(e.l),r=pw(e.h,i,o),l=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=dp(n),{ok:l,format:e.format||a,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:n}}function _w(e,r,n){return{r:de(e,255)*255,g:de(r,255)*255,b:de(n,255)*255}}function Wh(e,r,n){e=de(e,255),r=de(r,255),n=de(n,255);var i=Math.max(e,r,n),s=Math.min(e,r,n),o,l,a=(i+s)/2;if(i==s)o=l=0;else{var c=i-s;switch(l=a>.5?c/(2-i-s):c/(i+s),i){case e:o=(r-n)/c+(r<n?6:0);break;case r:o=(n-e)/c+2;break;case n:o=(e-r)/c+4;break}o/=6}return{h:o,s:l,l:a}}function pw(e,r,n){var i,s,o;e=de(e,360),r=de(r,100),n=de(n,100);function l(h,g,u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?h+(g-h)*6*u:u<1/2?g:u<2/3?h+(g-h)*(2/3-u)*6:h}if(r===0)i=s=o=n;else{var a=n<.5?n*(1+r):n+r-n*r,c=2*n-a;i=l(c,a,e+1/3),s=l(c,a,e),o=l(c,a,e-1/3)}return{r:i*255,g:s*255,b:o*255}}function Vh(e,r,n){e=de(e,255),r=de(r,255),n=de(n,255);var i=Math.max(e,r,n),s=Math.min(e,r,n),o,l,a=i,c=i-s;if(l=i===0?0:c/i,i==s)o=0;else{switch(i){case e:o=(r-n)/c+(r<n?6:0);break;case r:o=(n-e)/c+2;break;case n:o=(e-r)/c+4;break}o/=6}return{h:o,s:l,v:a}}function gw(e,r,n){e=de(e,360)*6,r=de(r,100),n=de(n,100);var i=Math.floor(e),s=e-i,o=n*(1-r),l=n*(1-s*r),a=n*(1-(1-s)*r),c=i%6,h=[n,l,o,o,a,n][c],g=[a,n,n,l,o,o][c],u=[o,o,a,n,n,l][c];return{r:h*255,g:g*255,b:u*255}}function qh(e,r,n,i){var s=[bt(Math.round(e).toString(16)),bt(Math.round(r).toString(16)),bt(Math.round(n).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function vw(e,r,n,i,s){var o=[bt(Math.round(e).toString(16)),bt(Math.round(r).toString(16)),bt(Math.round(n).toString(16)),bt(_p(i))];return s&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Kh(e,r,n,i){var s=[bt(_p(i)),bt(Math.round(e).toString(16)),bt(Math.round(r).toString(16)),bt(Math.round(n).toString(16))];return s.join("")}Z.equals=function(e,r){return!e||!r?!1:Z(e).toRgbString()==Z(r).toRgbString()};Z.random=function(){return Z.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function mw(e,r){r=r===0?0:r||10;var n=Z(e).toHsl();return n.s-=r/100,n.s=Wo(n.s),Z(n)}function yw(e,r){r=r===0?0:r||10;var n=Z(e).toHsl();return n.s+=r/100,n.s=Wo(n.s),Z(n)}function Sw(e){return Z(e).desaturate(100)}function ww(e,r){r=r===0?0:r||10;var n=Z(e).toHsl();return n.l+=r/100,n.l=Wo(n.l),Z(n)}function Cw(e,r){r=r===0?0:r||10;var n=Z(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(r/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(r/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(r/100)))),Z(n)}function bw(e,r){r=r===0?0:r||10;var n=Z(e).toHsl();return n.l-=r/100,n.l=Wo(n.l),Z(n)}function xw(e,r){var n=Z(e).toHsl(),i=(n.h+r)%360;return n.h=i<0?360+i:i,Z(n)}function kw(e){var r=Z(e).toHsl();return r.h=(r.h+180)%360,Z(r)}function Gh(e,r){if(isNaN(r)||r<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Z(e).toHsl(),i=[Z(e)],s=360/r,o=1;o<r;o++)i.push(Z({h:(n.h+o*s)%360,s:n.s,l:n.l}));return i}function Ew(e){var r=Z(e).toHsl(),n=r.h;return[Z(e),Z({h:(n+72)%360,s:r.s,l:r.l}),Z({h:(n+216)%360,s:r.s,l:r.l})]}function Rw(e,r,n){r=r||6,n=n||30;var i=Z(e).toHsl(),s=360/n,o=[Z(e)];for(i.h=(i.h-(s*r>>1)+720)%360;--r;)i.h=(i.h+s)%360,o.push(Z(i));return o}function Aw(e,r){r=r||6;for(var n=Z(e).toHsv(),i=n.h,s=n.s,o=n.v,l=[],a=1/r;r--;)l.push(Z({h:i,s,v:o})),o=(o+a)%1;return l}Z.mix=function(e,r,n){n=n===0?0:n||50;var i=Z(e).toRgb(),s=Z(r).toRgb(),o=n/100,l={r:(s.r-i.r)*o+i.r,g:(s.g-i.g)*o+i.g,b:(s.b-i.b)*o+i.b,a:(s.a-i.a)*o+i.a};return Z(l)};Z.readability=function(e,r){var n=Z(e),i=Z(r);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};Z.isReadable=function(e,r,n){var i=Z.readability(e,r),s,o;switch(o=!1,s=Ow(n),s.level+s.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o};Z.mostReadable=function(e,r,n){var i=null,s=0,o,l,a,c;n=n||{},l=n.includeFallbackColors,a=n.level,c=n.size;for(var h=0;h<r.length;h++)o=Z.readability(e,r[h]),o>s&&(s=o,i=Z(r[h]));return Z.isReadable(e,i,{level:a,size:c})||!l?i:(n.includeFallbackColors=!1,Z.mostReadable(e,["#fff","#000"],n))};var zl=Z.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Tw=Z.hexNames=Lw(zl);function Lw(e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[e[n]]=n);return r}function dp(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function de(e,r){Dw(e)&&(e="100%");var n=Mw(e);return e=Math.min(r,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*r,10)/100),Math.abs(e-r)<1e-6?1:e%r/parseFloat(r)}function Wo(e){return Math.min(1,Math.max(0,e))}function Ze(e){return parseInt(e,16)}function Dw(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Mw(e){return typeof e=="string"&&e.indexOf("%")!=-1}function bt(e){return e.length==1?"0"+e:""+e}function li(e){return e<=1&&(e=e*100+"%"),e}function _p(e){return Math.round(parseFloat(e)*255).toString(16)}function Xh(e){return Ze(e)/255}var mt=function(){var e="[-\\+]?\\d+%?",r="[-\\+]?\\d*\\.\\d+%?",n="(?:"+r+")|(?:"+e+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",s="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function $t(e){return!!mt.CSS_UNIT.exec(e)}function Pw(e){e=e.replace(hw,"").replace(fw,"").toLowerCase();var r=!1;if(zl[e])e=zl[e],r=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=mt.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=mt.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=mt.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=mt.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=mt.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=mt.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=mt.hex8.exec(e))?{r:Ze(n[1]),g:Ze(n[2]),b:Ze(n[3]),a:Xh(n[4]),format:r?"name":"hex8"}:(n=mt.hex6.exec(e))?{r:Ze(n[1]),g:Ze(n[2]),b:Ze(n[3]),format:r?"name":"hex"}:(n=mt.hex4.exec(e))?{r:Ze(n[1]+""+n[1]),g:Ze(n[2]+""+n[2]),b:Ze(n[3]+""+n[3]),a:Xh(n[4]+""+n[4]),format:r?"name":"hex8"}:(n=mt.hex3.exec(e))?{r:Ze(n[1]+""+n[1]),g:Ze(n[2]+""+n[2]),b:Ze(n[3]+""+n[3]),format:r?"name":"hex"}:!1}function Ow(e){var r,n;return e=e||{level:"AA",size:"small"},r=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),r!=="AA"&&r!=="AAA"&&(r="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:r,size:n}}function Hl(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=Array(r);n<r;n++)i[n]=e[n];return i}function Iw(e){if(Array.isArray(e))return Hl(e)}function pp(e,r,n){if(typeof e=="function"?e===r:e.has(r))return arguments.length<3?r:n;throw new TypeError("Private element is not present on this object")}function Bw(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Nw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function at(e,r){return e.get(pp(e,r))}function Yh(e,r,n){Bw(e,r),r.set(e,n)}function Qh(e,r,n){return e.set(pp(e,r),n),n}function zw(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ww(i.key),i)}}function Hw(e,r,n){return r&&zw(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fw(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jw(e){return Iw(e)||Fw(e)||Vw(e)||$w()}function Uw(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ww(e){var r=Uw(e,"string");return typeof r=="symbol"?r:r+""}function Vw(e,r){if(e){if(typeof e=="string")return Hl(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hl(e,r):void 0}}var qw=123,Kw=function(r){return"#".concat(Math.min(r,Math.pow(2,24)).toString(16).padStart(6,"0"))},gp=function(r,n,i){return(r<<16)+(n<<8)+i},Gw=function(r){var n=Z(r).toRgb(),i=n.r,s=n.g,o=n.b;return gp(i,s,o)},Zh=function(r,n){return r*qw%Math.pow(2,n)},Lr=new WeakMap,jt=new WeakMap,Xw=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;Nw(this,e),Yh(this,Lr,void 0),Yh(this,jt,void 0),Qh(jt,this,r),this.reset()}return Hw(e,[{key:"reset",value:function(){Qh(Lr,this,["__reserved for background__"])}},{key:"register",value:function(n){if(at(Lr,this).length>=Math.pow(2,24-at(jt,this)))return null;var i=at(Lr,this).length,s=Zh(i,at(jt,this)),o=Kw(i+(s<<24-at(jt,this)));return at(Lr,this).push(n),o}},{key:"lookup",value:function(n){if(!n)return null;var i=typeof n=="string"?Gw(n):gp.apply(void 0,jw(n));if(!i)return null;var s=i&Math.pow(2,24-at(jt,this))-1,o=i>>24-at(jt,this)&Math.pow(2,at(jt,this))-1;return Zh(s,at(jt,this))!==o||s>=at(Lr,this).length?null:at(Lr,this)[s]}}])}(),Ji,pe,vp,mp,Pr,Jh,yp,Sp,wp,Yc,Fl,$l,Ui={},Cp=[],Yw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Vo=Array.isArray;function Ot(e,r){for(var n in r)e[n]=r[n];return e}function Qc(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Qw(e,r,n){var i,s,o,l={};for(o in r)o=="key"?i=r[o]:o=="ref"?s=r[o]:l[o]=r[o];if(arguments.length>2&&(l.children=arguments.length>3?Ji.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)l[o]===void 0&&(l[o]=e.defaultProps[o]);return mi(e,l,i,s,null)}function mi(e,r,n,i,s){var o={type:e,props:r,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++vp,__i:-1,__u:0};return s==null&&pe.vnode!=null&&pe.vnode(o),o}function qo(e){return e.children}function $s(e,r){this.props=e,this.context=r}function Dn(e,r){if(r==null)return e.__?Dn(e.__,e.__i+1):null;for(var n;r<e.__k.length;r++)if((n=e.__k[r])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Dn(e):null}function bp(e){var r,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,r=0;r<e.__k.length;r++)if((n=e.__k[r])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return bp(e)}}function ef(e){(!e.__d&&(e.__d=!0)&&Pr.push(e)&&!Co.__r++||Jh!=pe.debounceRendering)&&((Jh=pe.debounceRendering)||yp)(Co)}function Co(){for(var e,r,n,i,s,o,l,a=1;Pr.length;)Pr.length>a&&Pr.sort(Sp),e=Pr.shift(),a=Pr.length,e.__d&&(n=void 0,i=void 0,s=(i=(r=e).__v).__e,o=[],l=[],r.__P&&((n=Ot({},i)).__v=i.__v+1,pe.vnode&&pe.vnode(n),Zc(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[s]:null,o,s??Dn(i),!!(32&i.__u),l),n.__v=i.__v,n.__.__k[n.__i]=n,Ep(o,n,l),i.__e=i.__=null,n.__e!=s&&bp(n)));Co.__r=0}function xp(e,r,n,i,s,o,l,a,c,h,g){var u,v,y,C,w,_,f,d=i&&i.__k||Cp,p=r.length;for(c=Zw(n,r,d,c,p),u=0;u<p;u++)(y=n.__k[u])!=null&&(v=y.__i==-1?Ui:d[y.__i]||Ui,y.__i=u,_=Zc(e,y,v,s,o,l,a,c,h,g),C=y.__e,y.ref&&v.ref!=y.ref&&(v.ref&&Jc(v.ref,null,y),g.push(y.ref,y.__c||C,y)),w==null&&C!=null&&(w=C),(f=!!(4&y.__u))||v.__k===y.__k?c=kp(y,c,e,f):typeof y.type=="function"&&_!==void 0?c=_:C&&(c=C.nextSibling),y.__u&=-7);return n.__e=w,c}function Zw(e,r,n,i,s){var o,l,a,c,h,g=n.length,u=g,v=0;for(e.__k=new Array(s),o=0;o<s;o++)(l=r[o])!=null&&typeof l!="boolean"&&typeof l!="function"?(typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?l=e.__k[o]=mi(null,l,null,null,null):Vo(l)?l=e.__k[o]=mi(qo,{children:l},null,null,null):l.constructor===void 0&&l.__b>0?l=e.__k[o]=mi(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):e.__k[o]=l,c=o+v,l.__=e,l.__b=e.__b+1,a=null,(h=l.__i=Jw(l,n,c,u))!=-1&&(u--,(a=n[h])&&(a.__u|=2)),a==null||a.__v==null?(h==-1&&(s>g?v--:s<g&&v++),typeof l.type!="function"&&(l.__u|=4)):h!=c&&(h==c-1?v--:h==c+1?v++:(h>c?v--:v++,l.__u|=4))):e.__k[o]=null;if(u)for(o=0;o<g;o++)(a=n[o])!=null&&!(2&a.__u)&&(a.__e==i&&(i=Dn(a)),Ap(a,a));return i}function kp(e,r,n,i){var s,o;if(typeof e.type=="function"){for(s=e.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=e,r=kp(s[o],r,n,i));return r}e.__e!=r&&(i&&(r&&e.type&&!r.parentNode&&(r=Dn(e)),n.insertBefore(e.__e,r||null)),r=e.__e);do r=r&&r.nextSibling;while(r!=null&&r.nodeType==8);return r}function Jw(e,r,n,i){var s,o,l,a=e.key,c=e.type,h=r[n],g=h!=null&&(2&h.__u)==0;if(h===null&&a==null||g&&a==h.key&&c==h.type)return n;if(i>(g?1:0)){for(s=n-1,o=n+1;s>=0||o<r.length;)if((h=r[l=s>=0?s--:o++])!=null&&!(2&h.__u)&&a==h.key&&c==h.type)return l}return-1}function tf(e,r,n){r[0]=="-"?e.setProperty(r,n??""):e[r]=n==null?"":typeof n!="number"||Yw.test(r)?n:n+"px"}function bs(e,r,n,i,s){var o,l;e:if(r=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(r in i)n&&r in n||tf(e.style,r,"");if(n)for(r in n)i&&n[r]==i[r]||tf(e.style,r,n[r])}else if(r[0]=="o"&&r[1]=="n")o=r!=(r=r.replace(wp,"$1")),l=r.toLowerCase(),r=l in e||r=="onFocusOut"||r=="onFocusIn"?l.slice(2):r.slice(2),e.l||(e.l={}),e.l[r+o]=n,n?i?n.u=i.u:(n.u=Yc,e.addEventListener(r,o?$l:Fl,o)):e.removeEventListener(r,o?$l:Fl,o);else{if(s=="http://www.w3.org/2000/svg")r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!="width"&&r!="height"&&r!="href"&&r!="list"&&r!="form"&&r!="tabIndex"&&r!="download"&&r!="rowSpan"&&r!="colSpan"&&r!="role"&&r!="popover"&&r in e)try{e[r]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&r[4]!="-"?e.removeAttribute(r):e.setAttribute(r,r=="popover"&&n==1?"":n))}}function rf(e){return function(r){if(this.l){var n=this.l[r.type+e];if(r.t==null)r.t=Yc++;else if(r.t<n.u)return;return n(pe.event?pe.event(r):r)}}}function Zc(e,r,n,i,s,o,l,a,c,h){var g,u,v,y,C,w,_,f,d,p,m,S,x,k,b,E,A,P=r.type;if(r.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[a=r.__e=n.__e]),(g=pe.__b)&&g(r);e:if(typeof P=="function")try{if(f=r.props,d="prototype"in P&&P.prototype.render,p=(g=P.contextType)&&i[g.__c],m=g?p?p.props.value:g.__:i,n.__c?_=(u=r.__c=n.__c).__=u.__E:(d?r.__c=u=new P(f,m):(r.__c=u=new $s(f,m),u.constructor=P,u.render=tC),p&&p.sub(u),u.state||(u.state={}),u.__n=i,v=u.__d=!0,u.__h=[],u._sb=[]),d&&u.__s==null&&(u.__s=u.state),d&&P.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Ot({},u.__s)),Ot(u.__s,P.getDerivedStateFromProps(f,u.__s))),y=u.props,C=u.state,u.__v=r,v)d&&P.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),d&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(d&&P.getDerivedStateFromProps==null&&f!==y&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(f,m),r.__v==n.__v||!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(f,u.__s,m)===!1){for(r.__v!=n.__v&&(u.props=f,u.state=u.__s,u.__d=!1),r.__e=n.__e,r.__k=n.__k,r.__k.some(function(D){D&&(D.__=r)}),S=0;S<u._sb.length;S++)u.__h.push(u._sb[S]);u._sb=[],u.__h.length&&l.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(f,u.__s,m),d&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(y,C,w)})}if(u.context=m,u.props=f,u.__P=e,u.__e=!1,x=pe.__r,k=0,d){for(u.state=u.__s,u.__d=!1,x&&x(r),g=u.render(u.props,u.state,u.context),b=0;b<u._sb.length;b++)u.__h.push(u._sb[b]);u._sb=[]}else do u.__d=!1,x&&x(r),g=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++k<25);u.state=u.__s,u.getChildContext!=null&&(i=Ot(Ot({},i),u.getChildContext())),d&&!v&&u.getSnapshotBeforeUpdate!=null&&(w=u.getSnapshotBeforeUpdate(y,C)),E=g,g!=null&&g.type===qo&&g.key==null&&(E=Rp(g.props.children)),a=xp(e,Vo(E)?E:[E],r,n,i,s,o,l,a,c,h),u.base=r.__e,r.__u&=-161,u.__h.length&&l.push(u),_&&(u.__E=u.__=null)}catch(D){if(r.__v=null,c||o!=null)if(D.then){for(r.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,r.__e=a}else{for(A=o.length;A--;)Qc(o[A]);jl(r)}else r.__e=n.__e,r.__k=n.__k,D.then||jl(r);pe.__e(D,r,n)}else o==null&&r.__v==n.__v?(r.__k=n.__k,r.__e=n.__e):a=r.__e=eC(n.__e,r,n,i,s,o,l,c,h);return(g=pe.diffed)&&g(r),128&r.__u?void 0:a}function jl(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(jl)}function Ep(e,r,n){for(var i=0;i<n.length;i++)Jc(n[i],n[++i],n[++i]);pe.__c&&pe.__c(r,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){pe.__e(o,s.__v)}})}function Rp(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Vo(e)?e.map(Rp):Ot({},e)}function eC(e,r,n,i,s,o,l,a,c){var h,g,u,v,y,C,w,_=n.props||Ui,f=r.props,d=r.type;if(d=="svg"?s="http://www.w3.org/2000/svg":d=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(h=0;h<o.length;h++)if((y=o[h])&&"setAttribute"in y==!!d&&(d?y.localName==d:y.nodeType==3)){e=y,o[h]=null;break}}if(e==null){if(d==null)return document.createTextNode(f);e=document.createElementNS(s,d,f.is&&f),a&&(pe.__m&&pe.__m(r,o),a=!1),o=null}if(d==null)_===f||a&&e.data==f||(e.data=f);else{if(o=o&&Ji.call(e.childNodes),!a&&o!=null)for(_={},h=0;h<e.attributes.length;h++)_[(y=e.attributes[h]).name]=y.value;for(h in _)if(y=_[h],h!="children"){if(h=="dangerouslySetInnerHTML")u=y;else if(!(h in f)){if(h=="value"&&"defaultValue"in f||h=="checked"&&"defaultChecked"in f)continue;bs(e,h,null,y,s)}}for(h in f)y=f[h],h=="children"?v=y:h=="dangerouslySetInnerHTML"?g=y:h=="value"?C=y:h=="checked"?w=y:a&&typeof y!="function"||_[h]===y||bs(e,h,y,_[h],s);if(g)a||u&&(g.__html==u.__html||g.__html==e.innerHTML)||(e.innerHTML=g.__html),r.__k=[];else if(u&&(e.innerHTML=""),xp(r.type=="template"?e.content:e,Vo(v)?v:[v],r,n,i,d=="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,l,o?o[0]:n.__k&&Dn(n,0),a,c),o!=null)for(h=o.length;h--;)Qc(o[h]);a||(h="value",d=="progress"&&C==null?e.removeAttribute("value"):C!=null&&(C!==e[h]||d=="progress"&&!C||d=="option"&&C!=_[h])&&bs(e,h,C,_[h],s),h="checked",w!=null&&w!=e[h]&&bs(e,h,w,_[h],s))}return e}function Jc(e,r,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&r==null||(e.__u=e(r))}else e.current=r}catch(s){pe.__e(s,n)}}function Ap(e,r,n){var i,s;if(pe.unmount&&pe.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||Jc(i,null,r)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){pe.__e(o,r)}i.base=i.__P=null}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&Ap(i[s],r,n||typeof e.type!="function");n||Qc(e.__e),e.__c=e.__=e.__e=void 0}function tC(e,r,n){return this.constructor(e,n)}function rC(e,r,n){var i,s,o,l;r==document&&(r=document.documentElement),pe.__&&pe.__(e,r),s=(i=typeof n=="function")?null:n&&n.__k||r.__k,o=[],l=[],Zc(r,e=(!i&&n||r).__k=Qw(qo,null,[e]),s||Ui,Ui,r.namespaceURI,!i&&n?[n]:s?null:r.firstChild?Ji.call(r.childNodes):null,o,!i&&n?n:s?s.__e:r.firstChild,i,l),Ep(o,e,l)}function Tp(e,r,n){var i,s,o,l,a=Ot({},e.props);for(o in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),r)o=="key"?i=r[o]:o=="ref"?s=r[o]:a[o]=r[o]===void 0&&l!=null?l[o]:r[o];return arguments.length>2&&(a.children=arguments.length>3?Ji.call(arguments,2):n),mi(e.type,a,i||e.key,s||e.ref,null)}Ji=Cp.slice,pe={__e:function(e,r,n,i){for(var s,o,l;r=r.__;)if((s=r.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),l=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,i||{}),l=s.__d),l)return s.__E=s}catch(a){e=a}throw e}},vp=0,mp=function(e){return e!=null&&e.constructor===void 0},$s.prototype.setState=function(e,r){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Ot({},this.state),typeof e=="function"&&(e=e(Ot({},n),this.props)),e&&Ot(n,e),e!=null&&this.__v&&(r&&this._sb.push(r),ef(this))},$s.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ef(this))},$s.prototype.render=qo,Pr=[],yp=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Sp=function(e,r){return e.__v.__b-r.__v.__b},Co.__r=0,wp=/(PointerCapture)$|Capture$/i,Yc=0,Fl=rf(!1),$l=rf(!0);function nf(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=Array(r);n<r;n++)i[n]=e[n];return i}function nC(e){if(Array.isArray(e))return e}function iC(e,r,n){return(r=uC(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function sC(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,o,l,a=[],c=!0,h=!1;try{if(o=(n=n.call(e)).next,r!==0)for(;!(c=(i=o.call(n)).done)&&(a.push(i.value),a.length!==r);c=!0);}catch(g){h=!0,s=g}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return a}}function oC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sf(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function aC(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?sf(Object(n),!0).forEach(function(i){iC(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sf(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function lC(e,r){return nC(e)||sC(e,r)||hC(e,r)||oC()}function cC(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function uC(e){var r=cC(e,"string");return typeof r=="symbol"?r:r+""}function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bo(e)}function hC(e,r){if(e){if(typeof e=="string")return nf(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nf(e,r):void 0}}var Ul=function(r){if(bo(r)!=="object")return r;var n=Tp(r);if(n.props){var i;n.props=aC({},n.props),n!=null&&(i=n.props)!==null&&i!==void 0&&i.children&&(n.props.children=Array.isArray(n.props.children)?n.props.children.map(Ul):Ul(n.props.children))}return n},fC=function(r){return mp(Tp(r))},dC=function(r,n){delete n.__k,rC(Ul(r),n)};function _C(e,r){r===void 0&&(r={});var n=r.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var pC=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;_C(pC);var gC=Xc({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.style,o=s===void 0?{}:s,l=!!r&&bo(r)==="object"&&!!r.node&&typeof r.node=="function",a=ht(l?r.node():r);a.style("position")==="static"&&a.style("position","relative"),n.tooltipEl=a.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(h){var g=lC(h,2),u=g[0],v=g[1];return n.tooltipEl.style(u,v)}),n.tooltipEl.style("left","-10000px").style("display","none");var c="tooltip-".concat(Math.round(Math.random()*1e12));n.mouseInside=!1,a.on("mousemove.".concat(c),function(h){n.mouseInside=!0;var g=Mt(h),u=a.node(),v=u.offsetWidth,y=u.offsetHeight,C=[n.offsetX===null||n.offsetX===void 0?"-".concat(g[0]/v*100,"%"):typeof n.offsetX=="number"?"calc(-50% + ".concat(n.offsetX,"px)"):n.offsetX,n.offsetY===null||n.offsetY===void 0?y>130&&y-g[1]<100?"calc(-100% - 6px)":"21px":typeof n.offsetY=="number"?n.offsetY<0?"calc(-100% - ".concat(Math.abs(n.offsetY),"px)"):"".concat(n.offsetY,"px"):n.offsetY];n.tooltipEl.style("left",g[0]+"px").style("top",g[1]+"px").style("transform","translate(".concat(C.join(","),")")),n.content&&n.tooltipEl.style("display","inline")}),a.on("mouseover.".concat(c),function(){n.mouseInside=!0,n.content&&n.tooltipEl.style("display","inline")}),a.on("mouseout.".concat(c),function(){n.mouseInside=!1,n.tooltipEl.style("display","none")})},update:function(r){r.tooltipEl.style("display",r.content&&r.mouseInside?"inline":"none"),r.content?r.content instanceof HTMLElement?(r.tooltipEl.text(""),r.tooltipEl.append(function(){return r.content})):typeof r.content=="string"?r.tooltipEl.html(r.content):fC(r.content)?(r.tooltipEl.text(""),dC(r.content,r.tooltipEl.node())):(r.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",r.content,r.content.toString())):r.tooltipEl.text("")}});function vC(e,r,n){var i,s=1;e==null&&(e=0),r==null&&(r=0),n==null&&(n=0);function o(){var l,a=i.length,c,h=0,g=0,u=0;for(l=0;l<a;++l)c=i[l],h+=c.x||0,g+=c.y||0,u+=c.z||0;for(h=(h/a-e)*s,g=(g/a-r)*s,u=(u/a-n)*s,l=0;l<a;++l)c=i[l],h&&(c.x-=h),g&&(c.y-=g),u&&(c.z-=u)}return o.initialize=function(l){i=l},o.x=function(l){return arguments.length?(e=+l,o):e},o.y=function(l){return arguments.length?(r=+l,o):r},o.z=function(l){return arguments.length?(n=+l,o):n},o.strength=function(l){return arguments.length?(s=+l,o):s},o}function mC(e){const r=+this._x.call(null,e);return Lp(this.cover(r),r,e)}function Lp(e,r,n){if(isNaN(r))return e;var i,s=e._root,o={data:n},l=e._x0,a=e._x1,c,h,g,u,v;if(!s)return e._root=o,e;for(;s.length;)if((g=r>=(c=(l+a)/2))?l=c:a=c,i=s,!(s=s[u=+g]))return i[u]=o,e;if(h=+e._x.call(null,s.data),r===h)return o.next=s,i?i[u]=o:e._root=o,e;do i=i?i[u]=new Array(2):e._root=new Array(2),(g=r>=(c=(l+a)/2))?l=c:a=c;while((u=+g)==(v=+(h>=c)));return i[v]=s,i[u]=o,e}function yC(e){Array.isArray(e)||(e=Array.from(e));const r=e.length,n=new Float64Array(r);let i=1/0,s=-1/0;for(let o=0,l;o<r;++o)isNaN(l=+this._x.call(null,e[o]))||(n[o]=l,l<i&&(i=l),l>s&&(s=l));if(i>s)return this;this.cover(i).cover(s);for(let o=0;o<r;++o)Lp(this,n[o],e[o]);return this}function SC(e){if(isNaN(e=+e))return this;var r=this._x0,n=this._x1;if(isNaN(r))n=(r=Math.floor(e))+1;else{for(var i=n-r||1,s=this._root,o,l;r>e||e>=n;)switch(l=+(e<r),o=new Array(2),o[l]=s,s=o,i*=2,l){case 0:n=r+i;break;case 1:r=n-i;break}this._root&&this._root.length&&(this._root=s)}return this._x0=r,this._x1=n,this}function wC(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function CC(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Zt(e,r,n){this.node=e,this.x0=r,this.x1=n}function bC(e,r){var n,i=this._x0,s,o,l=this._x1,a=[],c=this._root,h,g;for(c&&a.push(new Zt(c,i,l)),r==null?r=1/0:(i=e-r,l=e+r);h=a.pop();)if(!(!(c=h.node)||(s=h.x0)>l||(o=h.x1)<i))if(c.length){var u=(s+o)/2;a.push(new Zt(c[1],u,o),new Zt(c[0],s,u)),(g=+(e>=u))&&(h=a[a.length-1],a[a.length-1]=a[a.length-1-g],a[a.length-1-g]=h)}else{var v=Math.abs(e-+this._x.call(null,c.data));v<r&&(r=v,i=e-v,l=e+v,n=c.data)}return n}function xC(e){if(isNaN(c=+this._x.call(null,e)))return this;var r,n=this._root,i,s,o,l=this._x0,a=this._x1,c,h,g,u,v;if(!n)return this;if(n.length)for(;;){if((g=c>=(h=(l+a)/2))?l=h:a=h,r=n,!(n=n[u=+g]))return this;if(!n.length)break;r[u+1&1]&&(i=r,v=u)}for(;n.data!==e;)if(s=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,s?(o?s.next=o:delete s.next,this):r?(o?r[u]=o:delete r[u],(n=r[0]||r[1])&&n===(r[1]||r[0])&&!n.length&&(i?i[v]=n:this._root=n),this):(this._root=o,this)}function kC(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function EC(){return this._root}function RC(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function AC(e){var r=[],n,i=this._root,s,o,l;for(i&&r.push(new Zt(i,this._x0,this._x1));n=r.pop();)if(!e(i=n.node,o=n.x0,l=n.x1)&&i.length){var a=(o+l)/2;(s=i[1])&&r.push(new Zt(s,a,l)),(s=i[0])&&r.push(new Zt(s,o,a))}return this}function TC(e){var r=[],n=[],i;for(this._root&&r.push(new Zt(this._root,this._x0,this._x1));i=r.pop();){var s=i.node;if(s.length){var o,l=i.x0,a=i.x1,c=(l+a)/2;(o=s[0])&&r.push(new Zt(o,l,c)),(o=s[1])&&r.push(new Zt(o,c,a))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.x1);return this}function LC(e){return e[0]}function DC(e){return arguments.length?(this._x=e,this):this._x}function Dp(e,r){var n=new eu(r??LC,NaN,NaN);return e==null?n:n.addAll(e)}function eu(e,r,n){this._x=e,this._x0=r,this._x1=n,this._root=void 0}function of(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var Qe=Dp.prototype=eu.prototype;Qe.copy=function(){var e=new eu(this._x,this._x0,this._x1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=of(r),e;for(n=[{source:r,target:e._root=new Array(2)}];r=n.pop();)for(var s=0;s<2;++s)(i=r.source[s])&&(i.length?n.push({source:i,target:r.target[s]=new Array(2)}):r.target[s]=of(i));return e};Qe.add=mC;Qe.addAll=yC;Qe.cover=SC;Qe.data=wC;Qe.extent=CC;Qe.find=bC;Qe.remove=xC;Qe.removeAll=kC;Qe.root=EC;Qe.size=RC;Qe.visit=AC;Qe.visitAfter=TC;Qe.x=DC;function MC(e){const r=+this._x.call(null,e),n=+this._y.call(null,e);return Mp(this.cover(r,n),r,n,e)}function Mp(e,r,n,i){if(isNaN(r)||isNaN(n))return e;var s,o=e._root,l={data:i},a=e._x0,c=e._y0,h=e._x1,g=e._y1,u,v,y,C,w,_,f,d;if(!o)return e._root=l,e;for(;o.length;)if((w=r>=(u=(a+h)/2))?a=u:h=u,(_=n>=(v=(c+g)/2))?c=v:g=v,s=o,!(o=o[f=_<<1|w]))return s[f]=l,e;if(y=+e._x.call(null,o.data),C=+e._y.call(null,o.data),r===y&&n===C)return l.next=o,s?s[f]=l:e._root=l,e;do s=s?s[f]=new Array(4):e._root=new Array(4),(w=r>=(u=(a+h)/2))?a=u:h=u,(_=n>=(v=(c+g)/2))?c=v:g=v;while((f=_<<1|w)===(d=(C>=v)<<1|y>=u));return s[d]=o,s[f]=l,e}function PC(e){var r,n,i=e.length,s,o,l=new Array(i),a=new Array(i),c=1/0,h=1/0,g=-1/0,u=-1/0;for(n=0;n<i;++n)isNaN(s=+this._x.call(null,r=e[n]))||isNaN(o=+this._y.call(null,r))||(l[n]=s,a[n]=o,s<c&&(c=s),s>g&&(g=s),o<h&&(h=o),o>u&&(u=o));if(c>g||h>u)return this;for(this.cover(c,h).cover(g,u),n=0;n<i;++n)Mp(this,l[n],a[n],e[n]);return this}function OC(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var n=this._x0,i=this._y0,s=this._x1,o=this._y1;if(isNaN(n))s=(n=Math.floor(e))+1,o=(i=Math.floor(r))+1;else{for(var l=s-n||1,a=this._root,c,h;n>e||e>=s||i>r||r>=o;)switch(h=(r<i)<<1|e<n,c=new Array(4),c[h]=a,a=c,l*=2,h){case 0:s=n+l,o=i+l;break;case 1:n=s-l,o=i+l;break;case 2:s=n+l,i=o-l;break;case 3:n=s-l,i=o-l;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=i,this._x1=s,this._y1=o,this}function IC(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function BC(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function He(e,r,n,i,s){this.node=e,this.x0=r,this.y0=n,this.x1=i,this.y1=s}function NC(e,r,n){var i,s=this._x0,o=this._y0,l,a,c,h,g=this._x1,u=this._y1,v=[],y=this._root,C,w;for(y&&v.push(new He(y,s,o,g,u)),n==null?n=1/0:(s=e-n,o=r-n,g=e+n,u=r+n,n*=n);C=v.pop();)if(!(!(y=C.node)||(l=C.x0)>g||(a=C.y0)>u||(c=C.x1)<s||(h=C.y1)<o))if(y.length){var _=(l+c)/2,f=(a+h)/2;v.push(new He(y[3],_,f,c,h),new He(y[2],l,f,_,h),new He(y[1],_,a,c,f),new He(y[0],l,a,_,f)),(w=(r>=f)<<1|e>=_)&&(C=v[v.length-1],v[v.length-1]=v[v.length-1-w],v[v.length-1-w]=C)}else{var d=e-+this._x.call(null,y.data),p=r-+this._y.call(null,y.data),m=d*d+p*p;if(m<n){var S=Math.sqrt(n=m);s=e-S,o=r-S,g=e+S,u=r+S,i=y.data}}return i}function zC(e){if(isNaN(g=+this._x.call(null,e))||isNaN(u=+this._y.call(null,e)))return this;var r,n=this._root,i,s,o,l=this._x0,a=this._y0,c=this._x1,h=this._y1,g,u,v,y,C,w,_,f;if(!n)return this;if(n.length)for(;;){if((C=g>=(v=(l+c)/2))?l=v:c=v,(w=u>=(y=(a+h)/2))?a=y:h=y,r=n,!(n=n[_=w<<1|C]))return this;if(!n.length)break;(r[_+1&3]||r[_+2&3]||r[_+3&3])&&(i=r,f=_)}for(;n.data!==e;)if(s=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,s?(o?s.next=o:delete s.next,this):r?(o?r[_]=o:delete r[_],(n=r[0]||r[1]||r[2]||r[3])&&n===(r[3]||r[2]||r[1]||r[0])&&!n.length&&(i?i[f]=n:this._root=n),this):(this._root=o,this)}function HC(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function FC(){return this._root}function $C(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function jC(e){var r=[],n,i=this._root,s,o,l,a,c;for(i&&r.push(new He(i,this._x0,this._y0,this._x1,this._y1));n=r.pop();)if(!e(i=n.node,o=n.x0,l=n.y0,a=n.x1,c=n.y1)&&i.length){var h=(o+a)/2,g=(l+c)/2;(s=i[3])&&r.push(new He(s,h,g,a,c)),(s=i[2])&&r.push(new He(s,o,g,h,c)),(s=i[1])&&r.push(new He(s,h,l,a,g)),(s=i[0])&&r.push(new He(s,o,l,h,g))}return this}function UC(e){var r=[],n=[],i;for(this._root&&r.push(new He(this._root,this._x0,this._y0,this._x1,this._y1));i=r.pop();){var s=i.node;if(s.length){var o,l=i.x0,a=i.y0,c=i.x1,h=i.y1,g=(l+c)/2,u=(a+h)/2;(o=s[0])&&r.push(new He(o,l,a,g,u)),(o=s[1])&&r.push(new He(o,g,a,c,u)),(o=s[2])&&r.push(new He(o,l,u,g,h)),(o=s[3])&&r.push(new He(o,g,u,c,h))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function WC(e){return e[0]}function VC(e){return arguments.length?(this._x=e,this):this._x}function qC(e){return e[1]}function KC(e){return arguments.length?(this._y=e,this):this._y}function Pp(e,r,n){var i=new tu(r??WC,n??qC,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function tu(e,r,n,i,s,o){this._x=e,this._y=r,this._x0=n,this._y0=i,this._x1=s,this._y1=o,this._root=void 0}function af(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var Ue=Pp.prototype=tu.prototype;Ue.copy=function(){var e=new tu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=af(r),e;for(n=[{source:r,target:e._root=new Array(4)}];r=n.pop();)for(var s=0;s<4;++s)(i=r.source[s])&&(i.length?n.push({source:i,target:r.target[s]=new Array(4)}):r.target[s]=af(i));return e};Ue.add=MC;Ue.addAll=PC;Ue.cover=OC;Ue.data=IC;Ue.extent=BC;Ue.find=NC;Ue.remove=zC;Ue.removeAll=HC;Ue.root=FC;Ue.size=$C;Ue.visit=jC;Ue.visitAfter=UC;Ue.x=VC;Ue.y=KC;function GC(e){const r=+this._x.call(null,e),n=+this._y.call(null,e),i=+this._z.call(null,e);return Op(this.cover(r,n,i),r,n,i,e)}function Op(e,r,n,i,s){if(isNaN(r)||isNaN(n)||isNaN(i))return e;var o,l=e._root,a={data:s},c=e._x0,h=e._y0,g=e._z0,u=e._x1,v=e._y1,y=e._z1,C,w,_,f,d,p,m,S,x,k,b;if(!l)return e._root=a,e;for(;l.length;)if((m=r>=(C=(c+u)/2))?c=C:u=C,(S=n>=(w=(h+v)/2))?h=w:v=w,(x=i>=(_=(g+y)/2))?g=_:y=_,o=l,!(l=l[k=x<<2|S<<1|m]))return o[k]=a,e;if(f=+e._x.call(null,l.data),d=+e._y.call(null,l.data),p=+e._z.call(null,l.data),r===f&&n===d&&i===p)return a.next=l,o?o[k]=a:e._root=a,e;do o=o?o[k]=new Array(8):e._root=new Array(8),(m=r>=(C=(c+u)/2))?c=C:u=C,(S=n>=(w=(h+v)/2))?h=w:v=w,(x=i>=(_=(g+y)/2))?g=_:y=_;while((k=x<<2|S<<1|m)===(b=(p>=_)<<2|(d>=w)<<1|f>=C));return o[b]=l,o[k]=a,e}function XC(e){Array.isArray(e)||(e=Array.from(e));const r=e.length,n=new Float64Array(r),i=new Float64Array(r),s=new Float64Array(r);let o=1/0,l=1/0,a=1/0,c=-1/0,h=-1/0,g=-1/0;for(let u=0,v,y,C,w;u<r;++u)isNaN(y=+this._x.call(null,v=e[u]))||isNaN(C=+this._y.call(null,v))||isNaN(w=+this._z.call(null,v))||(n[u]=y,i[u]=C,s[u]=w,y<o&&(o=y),y>c&&(c=y),C<l&&(l=C),C>h&&(h=C),w<a&&(a=w),w>g&&(g=w));if(o>c||l>h||a>g)return this;this.cover(o,l,a).cover(c,h,g);for(let u=0;u<r;++u)Op(this,n[u],i[u],s[u],e[u]);return this}function YC(e,r,n){if(isNaN(e=+e)||isNaN(r=+r)||isNaN(n=+n))return this;var i=this._x0,s=this._y0,o=this._z0,l=this._x1,a=this._y1,c=this._z1;if(isNaN(i))l=(i=Math.floor(e))+1,a=(s=Math.floor(r))+1,c=(o=Math.floor(n))+1;else{for(var h=l-i||1,g=this._root,u,v;i>e||e>=l||s>r||r>=a||o>n||n>=c;)switch(v=(n<o)<<2|(r<s)<<1|e<i,u=new Array(8),u[v]=g,g=u,h*=2,v){case 0:l=i+h,a=s+h,c=o+h;break;case 1:i=l-h,a=s+h,c=o+h;break;case 2:l=i+h,s=a-h,c=o+h;break;case 3:i=l-h,s=a-h,c=o+h;break;case 4:l=i+h,a=s+h,o=c-h;break;case 5:i=l-h,a=s+h,o=c-h;break;case 6:l=i+h,s=a-h,o=c-h;break;case 7:i=l-h,s=a-h,o=c-h;break}this._root&&this._root.length&&(this._root=g)}return this._x0=i,this._y0=s,this._z0=o,this._x1=l,this._y1=a,this._z1=c,this}function QC(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function ZC(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function le(e,r,n,i,s,o,l){this.node=e,this.x0=r,this.y0=n,this.z0=i,this.x1=s,this.y1=o,this.z1=l}function JC(e,r,n,i){var s,o=this._x0,l=this._y0,a=this._z0,c,h,g,u,v,y,C=this._x1,w=this._y1,_=this._z1,f=[],d=this._root,p,m;for(d&&f.push(new le(d,o,l,a,C,w,_)),i==null?i=1/0:(o=e-i,l=r-i,a=n-i,C=e+i,w=r+i,_=n+i,i*=i);p=f.pop();)if(!(!(d=p.node)||(c=p.x0)>C||(h=p.y0)>w||(g=p.z0)>_||(u=p.x1)<o||(v=p.y1)<l||(y=p.z1)<a))if(d.length){var S=(c+u)/2,x=(h+v)/2,k=(g+y)/2;f.push(new le(d[7],S,x,k,u,v,y),new le(d[6],c,x,k,S,v,y),new le(d[5],S,h,k,u,x,y),new le(d[4],c,h,k,S,x,y),new le(d[3],S,x,g,u,v,k),new le(d[2],c,x,g,S,v,k),new le(d[1],S,h,g,u,x,k),new le(d[0],c,h,g,S,x,k)),(m=(n>=k)<<2|(r>=x)<<1|e>=S)&&(p=f[f.length-1],f[f.length-1]=f[f.length-1-m],f[f.length-1-m]=p)}else{var b=e-+this._x.call(null,d.data),E=r-+this._y.call(null,d.data),A=n-+this._z.call(null,d.data),P=b*b+E*E+A*A;if(P<i){var D=Math.sqrt(i=P);o=e-D,l=r-D,a=n-D,C=e+D,w=r+D,_=n+D,s=d.data}}return s}const e2=(e,r,n,i,s,o)=>Math.sqrt((e-i)**2+(r-s)**2+(n-o)**2);function t2(e,r,n,i){const s=[],o=e-i,l=r-i,a=n-i,c=e+i,h=r+i,g=n+i;return this.visit((u,v,y,C,w,_,f)=>{if(!u.length)do{const d=u.data;e2(e,r,n,this._x(d),this._y(d),this._z(d))<=i&&s.push(d)}while(u=u.next);return v>c||y>h||C>g||w<o||_<l||f<a}),s}function r2(e){if(isNaN(v=+this._x.call(null,e))||isNaN(y=+this._y.call(null,e))||isNaN(C=+this._z.call(null,e)))return this;var r,n=this._root,i,s,o,l=this._x0,a=this._y0,c=this._z0,h=this._x1,g=this._y1,u=this._z1,v,y,C,w,_,f,d,p,m,S,x;if(!n)return this;if(n.length)for(;;){if((d=v>=(w=(l+h)/2))?l=w:h=w,(p=y>=(_=(a+g)/2))?a=_:g=_,(m=C>=(f=(c+u)/2))?c=f:u=f,r=n,!(n=n[S=m<<2|p<<1|d]))return this;if(!n.length)break;(r[S+1&7]||r[S+2&7]||r[S+3&7]||r[S+4&7]||r[S+5&7]||r[S+6&7]||r[S+7&7])&&(i=r,x=S)}for(;n.data!==e;)if(s=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,s?(o?s.next=o:delete s.next,this):r?(o?r[S]=o:delete r[S],(n=r[0]||r[1]||r[2]||r[3]||r[4]||r[5]||r[6]||r[7])&&n===(r[7]||r[6]||r[5]||r[4]||r[3]||r[2]||r[1]||r[0])&&!n.length&&(i?i[x]=n:this._root=n),this):(this._root=o,this)}function n2(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function i2(){return this._root}function s2(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function o2(e){var r=[],n,i=this._root,s,o,l,a,c,h,g;for(i&&r.push(new le(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=r.pop();)if(!e(i=n.node,o=n.x0,l=n.y0,a=n.z0,c=n.x1,h=n.y1,g=n.z1)&&i.length){var u=(o+c)/2,v=(l+h)/2,y=(a+g)/2;(s=i[7])&&r.push(new le(s,u,v,y,c,h,g)),(s=i[6])&&r.push(new le(s,o,v,y,u,h,g)),(s=i[5])&&r.push(new le(s,u,l,y,c,v,g)),(s=i[4])&&r.push(new le(s,o,l,y,u,v,g)),(s=i[3])&&r.push(new le(s,u,v,a,c,h,y)),(s=i[2])&&r.push(new le(s,o,v,a,u,h,y)),(s=i[1])&&r.push(new le(s,u,l,a,c,v,y)),(s=i[0])&&r.push(new le(s,o,l,a,u,v,y))}return this}function a2(e){var r=[],n=[],i;for(this._root&&r.push(new le(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=r.pop();){var s=i.node;if(s.length){var o,l=i.x0,a=i.y0,c=i.z0,h=i.x1,g=i.y1,u=i.z1,v=(l+h)/2,y=(a+g)/2,C=(c+u)/2;(o=s[0])&&r.push(new le(o,l,a,c,v,y,C)),(o=s[1])&&r.push(new le(o,v,a,c,h,y,C)),(o=s[2])&&r.push(new le(o,l,y,c,v,g,C)),(o=s[3])&&r.push(new le(o,v,y,c,h,g,C)),(o=s[4])&&r.push(new le(o,l,a,C,v,y,u)),(o=s[5])&&r.push(new le(o,v,a,C,h,y,u)),(o=s[6])&&r.push(new le(o,l,y,C,v,g,u)),(o=s[7])&&r.push(new le(o,v,y,C,h,g,u))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function l2(e){return e[0]}function c2(e){return arguments.length?(this._x=e,this):this._x}function u2(e){return e[1]}function h2(e){return arguments.length?(this._y=e,this):this._y}function f2(e){return e[2]}function d2(e){return arguments.length?(this._z=e,this):this._z}function Ip(e,r,n,i){var s=new ru(r??l2,n??u2,i??f2,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?s:s.addAll(e)}function ru(e,r,n,i,s,o,l,a,c){this._x=e,this._y=r,this._z=n,this._x0=i,this._y0=s,this._z0=o,this._x1=l,this._y1=a,this._z1=c,this._root=void 0}function lf(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var De=Ip.prototype=ru.prototype;De.copy=function(){var e=new ru(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=lf(r),e;for(n=[{source:r,target:e._root=new Array(8)}];r=n.pop();)for(var s=0;s<8;++s)(i=r.source[s])&&(i.length?n.push({source:i,target:r.target[s]=new Array(8)}):r.target[s]=lf(i));return e};De.add=GC;De.addAll=XC;De.cover=YC;De.data=QC;De.extent=ZC;De.find=JC;De.findAllWithinRadius=t2;De.remove=r2;De.removeAll=n2;De.root=i2;De.size=s2;De.visit=o2;De.visitAfter=a2;De.x=c2;De.y=h2;De.z=d2;function Yt(e){return function(){return e}}function qt(e){return(e()-.5)*1e-6}function _2(e){return e.index}function cf(e,r){var n=e.get(r);if(!n)throw new Error("node not found: "+r);return n}function p2(e){var r=_2,n=v,i,s=Yt(30),o,l,a,c,h,g,u=1;e==null&&(e=[]);function v(f){return 1/Math.min(c[f.source.index],c[f.target.index])}function y(f){for(var d=0,p=e.length;d<u;++d)for(var m=0,S,x,k,b=0,E=0,A=0,P,D;m<p;++m)S=e[m],x=S.source,k=S.target,b=k.x+k.vx-x.x-x.vx||qt(g),a>1&&(E=k.y+k.vy-x.y-x.vy||qt(g)),a>2&&(A=k.z+k.vz-x.z-x.vz||qt(g)),P=Math.sqrt(b*b+E*E+A*A),P=(P-o[m])/P*f*i[m],b*=P,E*=P,A*=P,k.vx-=b*(D=h[m]),a>1&&(k.vy-=E*D),a>2&&(k.vz-=A*D),x.vx+=b*(D=1-D),a>1&&(x.vy+=E*D),a>2&&(x.vz+=A*D)}function C(){if(l){var f,d=l.length,p=e.length,m=new Map(l.map((x,k)=>[r(x,k,l),x])),S;for(f=0,c=new Array(d);f<p;++f)S=e[f],S.index=f,typeof S.source!="object"&&(S.source=cf(m,S.source)),typeof S.target!="object"&&(S.target=cf(m,S.target)),c[S.source.index]=(c[S.source.index]||0)+1,c[S.target.index]=(c[S.target.index]||0)+1;for(f=0,h=new Array(p);f<p;++f)S=e[f],h[f]=c[S.source.index]/(c[S.source.index]+c[S.target.index]);i=new Array(p),w(),o=new Array(p),_()}}function w(){if(l)for(var f=0,d=e.length;f<d;++f)i[f]=+n(e[f],f,e)}function _(){if(l)for(var f=0,d=e.length;f<d;++f)o[f]=+s(e[f],f,e)}return y.initialize=function(f,...d){l=f,g=d.find(p=>typeof p=="function")||Math.random,a=d.find(p=>[1,2,3].includes(p))||2,C()},y.links=function(f){return arguments.length?(e=f,C(),y):e},y.id=function(f){return arguments.length?(r=f,y):r},y.iterations=function(f){return arguments.length?(u=+f,y):u},y.strength=function(f){return arguments.length?(n=typeof f=="function"?f:Yt(+f),w(),y):n},y.distance=function(f){return arguments.length?(s=typeof f=="function"?f:Yt(+f),_(),y):s},y}const g2=1664525,v2=1013904223,uf=4294967296;function m2(){let e=1;return()=>(e=(g2*e+v2)%uf)/uf}var hf=3;function La(e){return e.x}function ff(e){return e.y}function y2(e){return e.z}var S2=10,w2=Math.PI*(3-Math.sqrt(5)),C2=Math.PI*20/(9+Math.sqrt(221));function b2(e,r){r=r||2;var n=Math.min(hf,Math.max(1,Math.round(r))),i,s=1,o=.001,l=1-Math.pow(o,1/300),a=0,c=.6,h=new Map,g=Vc(y),u=Qi("tick","end"),v=m2();e==null&&(e=[]);function y(){C(),u.call("tick",i),s<o&&(g.stop(),u.call("end",i))}function C(f){var d,p=e.length,m;f===void 0&&(f=1);for(var S=0;S<f;++S)for(s+=(a-s)*l,h.forEach(function(x){x(s)}),d=0;d<p;++d)m=e[d],m.fx==null?m.x+=m.vx*=c:(m.x=m.fx,m.vx=0),n>1&&(m.fy==null?m.y+=m.vy*=c:(m.y=m.fy,m.vy=0)),n>2&&(m.fz==null?m.z+=m.vz*=c:(m.z=m.fz,m.vz=0));return i}function w(){for(var f=0,d=e.length,p;f<d;++f){if(p=e[f],p.index=f,p.fx!=null&&(p.x=p.fx),p.fy!=null&&(p.y=p.fy),p.fz!=null&&(p.z=p.fz),isNaN(p.x)||n>1&&isNaN(p.y)||n>2&&isNaN(p.z)){var m=S2*(n>2?Math.cbrt(.5+f):n>1?Math.sqrt(.5+f):f),S=f*w2,x=f*C2;n===1?p.x=m:n===2?(p.x=m*Math.cos(S),p.y=m*Math.sin(S)):(p.x=m*Math.sin(S)*Math.cos(x),p.y=m*Math.cos(S),p.z=m*Math.sin(S)*Math.sin(x))}(isNaN(p.vx)||n>1&&isNaN(p.vy)||n>2&&isNaN(p.vz))&&(p.vx=0,n>1&&(p.vy=0),n>2&&(p.vz=0))}}function _(f){return f.initialize&&f.initialize(e,v,n),f}return w(),i={tick:C,restart:function(){return g.restart(y),i},stop:function(){return g.stop(),i},numDimensions:function(f){return arguments.length?(n=Math.min(hf,Math.max(1,Math.round(f))),h.forEach(_),i):n},nodes:function(f){return arguments.length?(e=f,w(),h.forEach(_),i):e},alpha:function(f){return arguments.length?(s=+f,i):s},alphaMin:function(f){return arguments.length?(o=+f,i):o},alphaDecay:function(f){return arguments.length?(l=+f,i):+l},alphaTarget:function(f){return arguments.length?(a=+f,i):a},velocityDecay:function(f){return arguments.length?(c=1-f,i):1-c},randomSource:function(f){return arguments.length?(v=f,h.forEach(_),i):v},force:function(f,d){return arguments.length>1?(d==null?h.delete(f):h.set(f,_(d)),i):h.get(f)},find:function(){var f=Array.prototype.slice.call(arguments),d=f.shift()||0,p=(n>1?f.shift():null)||0,m=(n>2?f.shift():null)||0,S=f.shift()||1/0,x=0,k=e.length,b,E,A,P,D,I;for(S*=S,x=0;x<k;++x)D=e[x],b=d-D.x,E=p-(D.y||0),A=m-(D.z||0),P=b*b+E*E+A*A,P<S&&(I=D,S=P);return I},on:function(f,d){return arguments.length>1?(u.on(f,d),i):u.on(f)}}}function x2(){var e,r,n,i,s,o=Yt(-30),l,a=1,c=1/0,h=.81;function g(C){var w,_=e.length,f=(r===1?Dp(e,La):r===2?Pp(e,La,ff):r===3?Ip(e,La,ff,y2):null).visitAfter(v);for(s=C,w=0;w<_;++w)n=e[w],f.visit(y)}function u(){if(e){var C,w=e.length,_;for(l=new Array(w),C=0;C<w;++C)_=e[C],l[_.index]=+o(_,C,e)}}function v(C){var w=0,_,f,d=0,p,m,S,x,k=C.length;if(k){for(p=m=S=x=0;x<k;++x)(_=C[x])&&(f=Math.abs(_.value))&&(w+=_.value,d+=f,p+=f*(_.x||0),m+=f*(_.y||0),S+=f*(_.z||0));w*=Math.sqrt(4/k),C.x=p/d,r>1&&(C.y=m/d),r>2&&(C.z=S/d)}else{_=C,_.x=_.data.x,r>1&&(_.y=_.data.y),r>2&&(_.z=_.data.z);do w+=l[_.data.index];while(_=_.next)}C.value=w}function y(C,w,_,f,d){if(!C.value)return!0;var p=[_,f,d][r-1],m=C.x-n.x,S=r>1?C.y-n.y:0,x=r>2?C.z-n.z:0,k=p-w,b=m*m+S*S+x*x;if(k*k/h<b)return b<c&&(m===0&&(m=qt(i),b+=m*m),r>1&&S===0&&(S=qt(i),b+=S*S),r>2&&x===0&&(x=qt(i),b+=x*x),b<a&&(b=Math.sqrt(a*b)),n.vx+=m*C.value*s/b,r>1&&(n.vy+=S*C.value*s/b),r>2&&(n.vz+=x*C.value*s/b)),!0;if(C.length||b>=c)return;(C.data!==n||C.next)&&(m===0&&(m=qt(i),b+=m*m),r>1&&S===0&&(S=qt(i),b+=S*S),r>2&&x===0&&(x=qt(i),b+=x*x),b<a&&(b=Math.sqrt(a*b)));do C.data!==n&&(k=l[C.data.index]*s/b,n.vx+=m*k,r>1&&(n.vy+=S*k),r>2&&(n.vz+=x*k));while(C=C.next)}return g.initialize=function(C,...w){e=C,i=w.find(_=>typeof _=="function")||Math.random,r=w.find(_=>[1,2,3].includes(_))||2,u()},g.strength=function(C){return arguments.length?(o=typeof C=="function"?C:Yt(+C),u(),g):o},g.distanceMin=function(C){return arguments.length?(a=C*C,g):Math.sqrt(a)},g.distanceMax=function(C){return arguments.length?(c=C*C,g):Math.sqrt(c)},g.theta=function(C){return arguments.length?(h=C*C,g):Math.sqrt(h)},g}function k2(e,r,n,i){var s,o,l=Yt(.1),a,c;typeof e!="function"&&(e=Yt(+e)),r==null&&(r=0),n==null&&(n=0),i==null&&(i=0);function h(u){for(var v=0,y=s.length;v<y;++v){var C=s[v],w=C.x-r||1e-6,_=(C.y||0)-n||1e-6,f=(C.z||0)-i||1e-6,d=Math.sqrt(w*w+_*_+f*f),p=(c[v]-d)*a[v]*u/d;C.vx+=w*p,o>1&&(C.vy+=_*p),o>2&&(C.vz+=f*p)}}function g(){if(s){var u,v=s.length;for(a=new Array(v),c=new Array(v),u=0;u<v;++u)c[u]=+e(s[u],u,s),a[u]=isNaN(c[u])?0:+l(s[u],u,s)}}return h.initialize=function(u,...v){s=u,o=v.find(y=>[1,2,3].includes(y))||2,g()},h.strength=function(u){return arguments.length?(l=typeof u=="function"?u:Yt(+u),g(),h):l},h.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Yt(+u),g(),h):e},h.x=function(u){return arguments.length?(r=+u,h):r},h.y=function(u){return arguments.length?(n=+u,h):n},h.z=function(u){return arguments.length?(i=+u,h):i},h}const{abs:Yn,cos:Ut,sin:Zr,acos:E2,atan2:Qn,sqrt:lr,pow:lt}=Math;function Zn(e){return e<0?-lt(-e,1/3):lt(e,1/3)}const Bp=Math.PI,xs=2*Bp,cr=Bp/2,R2=1e-6,Da=Number.MAX_SAFE_INTEGER||9007199254740991,Ma=Number.MIN_SAFE_INTEGER||-9007199254740991,A2={x:0,y:0,z:0},K={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,r){const n=r(e);let i=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(i+=n.z*n.z),lr(i)},compute:function(e,r,n){if(e===0)return r[0].t=0,r[0];const i=r.length-1;if(e===1)return r[i].t=1,r[i];const s=1-e;let o=r;if(i===0)return r[0].t=e,r[0];if(i===1){const a={x:s*o[0].x+e*o[1].x,y:s*o[0].y+e*o[1].y,t:e};return n&&(a.z=s*o[0].z+e*o[1].z),a}if(i<4){let a=s*s,c=e*e,h,g,u,v=0;i===2?(o=[o[0],o[1],o[2],A2],h=a,g=s*e*2,u=c):i===3&&(h=a*s,g=a*e*3,u=s*c*3,v=e*c);const y={x:h*o[0].x+g*o[1].x+u*o[2].x+v*o[3].x,y:h*o[0].y+g*o[1].y+u*o[2].y+v*o[3].y,t:e};return n&&(y.z=h*o[0].z+g*o[1].z+u*o[2].z+v*o[3].z),y}const l=JSON.parse(JSON.stringify(r));for(;l.length>1;){for(let a=0;a<l.length-1;a++)l[a]={x:l[a].x+(l[a+1].x-l[a].x)*e,y:l[a].y+(l[a+1].y-l[a].y)*e},typeof l[a].z<"u"&&(l[a].z=l[a].z+(l[a+1].z-l[a].z)*e);l.splice(l.length-1,1)}return l[0].t=e,l[0]},computeWithRatios:function(e,r,n,i){const s=1-e,o=n,l=r;let a=o[0],c=o[1],h=o[2],g=o[3],u;if(a*=s,c*=e,l.length===2)return u=a+c,{x:(a*l[0].x+c*l[1].x)/u,y:(a*l[0].y+c*l[1].y)/u,z:i?(a*l[0].z+c*l[1].z)/u:!1,t:e};if(a*=s,c*=2*s,h*=e*e,l.length===3)return u=a+c+h,{x:(a*l[0].x+c*l[1].x+h*l[2].x)/u,y:(a*l[0].y+c*l[1].y+h*l[2].y)/u,z:i?(a*l[0].z+c*l[1].z+h*l[2].z)/u:!1,t:e};if(a*=s,c*=1.5*s,h*=3*s,g*=e*e*e,l.length===4)return u=a+c+h+g,{x:(a*l[0].x+c*l[1].x+h*l[2].x+g*l[3].x)/u,y:(a*l[0].y+c*l[1].y+h*l[2].y+g*l[3].y)/u,z:i?(a*l[0].z+c*l[1].z+h*l[2].z+g*l[3].z)/u:!1,t:e}},derive:function(e,r){const n=[];for(let i=e,s=i.length,o=s-1;s>1;s--,o--){const l=[];for(let a=0,c;a<o;a++)c={x:o*(i[a+1].x-i[a].x),y:o*(i[a+1].y-i[a].y)},r&&(c.z=o*(i[a+1].z-i[a].z)),l.push(c);n.push(l),i=l}return n},between:function(e,r,n){return r<=e&&e<=n||K.approximately(e,r)||K.approximately(e,n)},approximately:function(e,r,n){return Yn(e-r)<=(n||R2)},length:function(e){const n=K.Tvalues.length;let i=0;for(let s=0,o;s<n;s++)o=.5*K.Tvalues[s]+.5,i+=K.Cvalues[s]*K.arcfn(o,e);return .5*i},map:function(e,r,n,i,s){const o=n-r,l=s-i,a=e-r,c=a/o;return i+l*c},lerp:function(e,r,n){const i={x:r.x+e*(n.x-r.x),y:r.y+e*(n.y-r.y)};return r.z!==void 0&&n.z!==void 0&&(i.z=r.z+e*(n.z-r.z)),i},pointToString:function(e){let r=e.x+"/"+e.y;return typeof e.z<"u"&&(r+="/"+e.z),r},pointsToString:function(e){return"["+e.map(K.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,r,n){const i=r.x-e.x,s=r.y-e.y,o=n.x-e.x,l=n.y-e.y,a=i*l-s*o,c=i*o+s*l;return Qn(a,c)},round:function(e,r){const n=""+e,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+r))},dist:function(e,r){const n=e.x-r.x,i=e.y-r.y;return lr(n*n+i*i)},closest:function(e,r){let n=lt(2,63),i,s;return e.forEach(function(o,l){s=K.dist(r,o),s<n&&(n=s,i=l)}),{mdist:n,mpos:i}},abcratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const n=lt(e,r)+lt(1-e,r),i=n-1;return Yn(i/n)},projectionratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const n=lt(1-e,r),i=lt(e,r)+n;return n/i},lli8:function(e,r,n,i,s,o,l,a){const c=(e*i-r*n)*(s-l)-(e-n)*(s*a-o*l),h=(e*i-r*n)*(o-a)-(r-i)*(s*a-o*l),g=(e-n)*(o-a)-(r-i)*(s-l);return g==0?!1:{x:c/g,y:h/g}},lli4:function(e,r,n,i){const s=e.x,o=e.y,l=r.x,a=r.y,c=n.x,h=n.y,g=i.x,u=i.y;return K.lli8(s,o,l,a,c,h,g,u)},lli:function(e,r){return K.lli4(e,e.c,r,r.c)},makeline:function(e,r){return new he(e.x,e.y,(e.x+r.x)/2,(e.y+r.y)/2,r.x,r.y)},findbbox:function(e){let r=Da,n=Da,i=Ma,s=Ma;return e.forEach(function(o){const l=o.bbox();r>l.x.min&&(r=l.x.min),n>l.y.min&&(n=l.y.min),i<l.x.max&&(i=l.x.max),s<l.y.max&&(s=l.y.max)}),{x:{min:r,mid:(r+i)/2,max:i,size:i-r},y:{min:n,mid:(n+s)/2,max:s,size:s-n}}},shapeintersections:function(e,r,n,i,s){if(!K.bboxoverlap(r,i))return[];const o=[],l=[e.startcap,e.forward,e.back,e.endcap],a=[n.startcap,n.forward,n.back,n.endcap];return l.forEach(function(c){c.virtual||a.forEach(function(h){if(h.virtual)return;const g=c.intersects(h,s);g.length>0&&(g.c1=c,g.c2=h,g.s1=e,g.s2=n,o.push(g))})}),o},makeshape:function(e,r,n){const i=r.points.length,s=e.points.length,o=K.makeline(r.points[i-1],e.points[0]),l=K.makeline(e.points[s-1],r.points[0]),a={startcap:o,forward:e,back:r,endcap:l,bbox:K.findbbox([o,e,r,l])};return a.intersections=function(c){return K.shapeintersections(a,a.bbox,c,c.bbox,n)},a},getminmax:function(e,r,n){if(!n)return{min:0,max:0};let i=Da,s=Ma,o,l;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let a=0,c=n.length;a<c;a++)o=n[a],l=e.get(o),l[r]<i&&(i=l[r]),l[r]>s&&(s=l[r]);return{min:i,mid:(i+s)/2,max:s,size:s-i}},align:function(e,r){const n=r.p1.x,i=r.p1.y,s=-Qn(r.p2.y-i,r.p2.x-n),o=function(l){return{x:(l.x-n)*Ut(s)-(l.y-i)*Zr(s),y:(l.x-n)*Zr(s)+(l.y-i)*Ut(s)}};return e.map(o)},roots:function(e,r){r=r||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=e.length-1,i=K.align(e,r),s=function(k){return 0<=k&&k<=1};if(n===2){const k=i[0].y,b=i[1].y,E=i[2].y,A=k-2*b+E;if(A!==0){const P=-lr(b*b-k*E),D=-k+b,I=-(P+D)/A,O=-(-P+D)/A;return[I,O].filter(s)}else if(b!==E&&A===0)return[(2*b-E)/(2*b-2*E)].filter(s);return[]}const o=i[0].y,l=i[1].y,a=i[2].y,c=i[3].y;let h=-o+3*l-3*a+c,g=3*o-6*l+3*a,u=-3*o+3*l,v=o;if(K.approximately(h,0)){if(K.approximately(g,0))return K.approximately(u,0)?[]:[-v/u].filter(s);const k=lr(u*u-4*g*v),b=2*g;return[(k-u)/b,(-u-k)/b].filter(s)}g/=h,u/=h,v/=h;const y=(3*u-g*g)/3,C=y/3,w=(2*g*g*g-9*g*u+27*v)/27,_=w/2,f=_*_+C*C*C;let d,p,m,S,x;if(f<0){const k=-y/3,b=k*k*k,E=lr(b),A=-w/(2*E),P=A<-1?-1:A>1?1:A,D=E2(P),I=Zn(E),O=2*I;return m=O*Ut(D/3)-g/3,S=O*Ut((D+xs)/3)-g/3,x=O*Ut((D+2*xs)/3)-g/3,[m,S,x].filter(s)}else{if(f===0)return d=_<0?Zn(-_):-Zn(_),m=2*d-g/3,S=-d-g/3,[m,S].filter(s);{const k=lr(f);return d=Zn(-_+k),p=Zn(_+k),[d-p-g/3].filter(s)}}},droots:function(e){if(e.length===3){const r=e[0],n=e[1],i=e[2],s=r-2*n+i;if(s!==0){const o=-lr(n*n-r*i),l=-r+n,a=-(o+l)/s,c=-(-o+l)/s;return[a,c]}else if(n!==i&&s===0)return[(2*n-i)/(2*(n-i))];return[]}if(e.length===2){const r=e[0],n=e[1];return r!==n?[r/(r-n)]:[]}return[]},curvature:function(e,r,n,i,s){let o,l,a,c,h=0,g=0;const u=K.compute(e,r),v=K.compute(e,n),y=u.x*u.x+u.y*u.y;if(i?(o=lr(lt(u.y*v.z-v.y*u.z,2)+lt(u.z*v.x-v.z*u.x,2)+lt(u.x*v.y-v.x*u.y,2)),l=lt(y+u.z*u.z,3/2)):(o=u.x*v.y-u.y*v.x,l=lt(y,3/2)),o===0||l===0)return{k:0,r:0};if(h=o/l,g=l/o,!s){const C=K.curvature(e-.001,r,n,i,!0).k,w=K.curvature(e+.001,r,n,i,!0).k;c=(w-h+(h-C))/2,a=(Yn(w-h)+Yn(h-C))/2}return{k:h,r:g,dk:c,adk:a}},inflections:function(e){if(e.length<4)return[];const r=K.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=r[2].x*r[1].y,i=r[3].x*r[1].y,s=r[1].x*r[2].y,o=r[3].x*r[2].y,l=18*(-3*n+2*i+3*s-o),a=18*(3*n-i-3*s),c=18*(s-n);if(K.approximately(l,0)){if(!K.approximately(a,0)){let v=-c/a;if(0<=v&&v<=1)return[v]}return[]}const h=2*l;if(K.approximately(h,0))return[];const g=a*a-4*l*c;if(g<0)return[];const u=Math.sqrt(g);return[(u-a)/h,-(a+u)/h].filter(function(v){return 0<=v&&v<=1})},bboxoverlap:function(e,r){const n=["x","y"],i=n.length;for(let s=0,o,l,a,c;s<i;s++)if(o=n[s],l=e[o].mid,a=r[o].mid,c=(e[o].size+r[o].size)/2,Yn(l-a)>=c)return!1;return!0},expandbox:function(e,r){r.x.min<e.x.min&&(e.x.min=r.x.min),r.y.min<e.y.min&&(e.y.min=r.y.min),r.z&&r.z.min<e.z.min&&(e.z.min=r.z.min),r.x.max>e.x.max&&(e.x.max=r.x.max),r.y.max>e.y.max&&(e.y.max=r.y.max),r.z&&r.z.max>e.z.max&&(e.z.max=r.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,r,n){const i=e.bbox(),s=r.bbox(),o=1e5,l=n||.5;if(i.x.size+i.y.size<l&&s.x.size+s.y.size<l)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(r._t1+r._t2)/2|0)/o];let a=e.split(.5),c=r.split(.5),h=[{left:a.left,right:c.left},{left:a.left,right:c.right},{left:a.right,right:c.right},{left:a.right,right:c.left}];h=h.filter(function(u){return K.bboxoverlap(u.left.bbox(),u.right.bbox())});let g=[];return h.length===0||(h.forEach(function(u){g=g.concat(K.pairiteration(u.left,u.right,l))}),g=g.filter(function(u,v){return g.indexOf(u)===v})),g},getccenter:function(e,r,n){const i=r.x-e.x,s=r.y-e.y,o=n.x-r.x,l=n.y-r.y,a=i*Ut(cr)-s*Zr(cr),c=i*Zr(cr)+s*Ut(cr),h=o*Ut(cr)-l*Zr(cr),g=o*Zr(cr)+l*Ut(cr),u=(e.x+r.x)/2,v=(e.y+r.y)/2,y=(r.x+n.x)/2,C=(r.y+n.y)/2,w=u+a,_=v+c,f=y+h,d=C+g,p=K.lli8(u,v,w,_,y,C,f,d),m=K.dist(p,e);let S=Qn(e.y-p.y,e.x-p.x),x=Qn(r.y-p.y,r.x-p.x),k=Qn(n.y-p.y,n.x-p.x),b;return S<k?((S>x||x>k)&&(S+=xs),S>k&&(b=k,k=S,S=b)):k<x&&x<S?(b=k,k=S,S=b):k+=xs,p.s=S,p.e=k,p.r=m,p},numberSort:function(e,r){return e-r}};class yi{constructor(r){this.curves=[],this._3d=!1,r&&(this.curves=r,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(r){return K.pointsToString(r.points)}).join(", ")+"]"}addCurve(r){this.curves.push(r),this._3d=this._3d||r._3d}length(){return this.curves.map(function(r){return r.length()}).reduce(function(r,n){return r+n})}curve(r){return this.curves[r]}bbox(){const r=this.curves;for(var n=r[0].bbox(),i=1;i<r.length;i++)K.expandbox(n,r[i].bbox());return n}offset(r){const n=[];return this.curves.forEach(function(i){n.push(...i.offset(r))}),new yi(n)}}const{abs:Jn,min:df,max:_f,cos:T2,sin:L2,acos:D2,sqrt:ei}=Math,M2=Math.PI;class he{constructor(r){let n=r&&r.forEach?r:Array.from(arguments).slice(),i=!1;if(typeof n[0]=="object"){i=n.length;const y=[];n.forEach(function(C){["x","y","z"].forEach(function(w){typeof C[w]<"u"&&y.push(C[w])})}),n=y}let s=!1;const o=n.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const l=this._3d=!s&&(o===9||o===12)||r&&r[0]&&typeof r[0].z<"u",a=this.points=[];for(let y=0,C=l?3:2;y<o;y+=C){var c={x:n[y],y:n[y+1]};l&&(c.z=n[y+2]),a.push(c)}const h=this.order=a.length-1,g=this.dims=["x","y"];l&&g.push("z"),this.dimlen=g.length;const u=K.align(a,{p1:a[0],p2:a[h]}),v=K.dist(a[0],a[h]);this._linear=u.reduce((y,C)=>y+Jn(C.y),0)<v/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(r,n,i,s){if(typeof s>"u"&&(s=.5),s===0)return new he(n,n,i);if(s===1)return new he(r,n,n);const o=he.getABC(2,r,n,i,s);return new he(r,o.A,i)}static cubicFromPoints(r,n,i,s,o){typeof s>"u"&&(s=.5);const l=he.getABC(3,r,n,i,s);typeof o>"u"&&(o=K.dist(n,l.C));const a=o*(1-s)/s,c=K.dist(r,i),h=(i.x-r.x)/c,g=(i.y-r.y)/c,u=o*h,v=o*g,y=a*h,C=a*g,w={x:n.x-u,y:n.y-v},_={x:n.x+y,y:n.y+C},f=l.A,d={x:f.x+(w.x-f.x)/(1-s),y:f.y+(w.y-f.y)/(1-s)},p={x:f.x+(_.x-f.x)/s,y:f.y+(_.y-f.y)/s},m={x:r.x+(d.x-r.x)/s,y:r.y+(d.y-r.y)/s},S={x:i.x+(p.x-i.x)/(1-s),y:i.y+(p.y-i.y)/(1-s)};return new he(r,m,S,i)}static getUtils(){return K}getUtils(){return he.getUtils()}static get PolyBezier(){return yi}valueOf(){return this.toString()}toString(){return K.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const r=this.points,n=r[0].x,i=r[0].y,s=["M",n,i,this.order===2?"Q":"C"];for(let o=1,l=r.length;o<l;o++)s.push(r[o].x),s.push(r[o].y);return s.join(" ")}setRatios(r){if(r.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=r,this._lut=[]}verify(){const r=this.coordDigest();r!==this._print&&(this._print=r,this.update())}coordDigest(){return this.points.map(function(r,n){return""+n+r.x+r.y+(r.z?r.z:0)}).join("")}update(){this._lut=[],this.dpoints=K.derive(this.points,this._3d),this.computedirection()}computedirection(){const r=this.points,n=K.angle(r[0],r[this.order],r[1]);this.clockwise=n>0}length(){return K.length(this.derivative.bind(this))}static getABC(r=2,n,i,s,o=.5){const l=K.projectionratio(o,r),a=1-l,c={x:l*n.x+a*s.x,y:l*n.y+a*s.y},h=K.abcratio(o,r);return{A:{x:i.x+(i.x-c.x)/h,y:i.y+(i.y-c.y)/h},B:i,C:c,S:n,E:s}}getABC(r,n){n=n||this.get(r);let i=this.points[0],s=this.points[this.order];return he.getABC(this.order,i,n,s,r)}getLUT(r){if(this.verify(),r=r||100,this._lut.length===r+1)return this._lut;this._lut=[],r++,this._lut=[];for(let n=0,i,s;n<r;n++)s=n/(r-1),i=this.compute(s),i.t=s,this._lut.push(i);return this._lut}on(r,n){n=n||5;const i=this.getLUT(),s=[];for(let o=0,l,a=0;o<i.length;o++)l=i[o],K.dist(l,r)<n&&(s.push(l),a+=o/i.length);return s.length?t/=s.length:!1}project(r){const n=this.getLUT(),i=n.length-1,s=K.closest(n,r),o=s.mpos,l=(o-1)/i,a=(o+1)/i,c=.1/i;let h=s.mdist,g=l,u=g,v;h+=1;for(let y;g<a+c;g+=c)v=this.compute(g),y=K.dist(r,v),y<h&&(h=y,u=g);return u=u<0?0:u>1?1:u,v=this.compute(u),v.t=u,v.d=h,v}get(r){return this.compute(r)}point(r){return this.points[r]}compute(r){return this.ratios?K.computeWithRatios(r,this.points,this.ratios,this._3d):K.compute(r,this.points,this._3d,this.ratios)}raise(){const r=this.points,n=[r[0]],i=r.length;for(let s=1,o,l;s<i;s++)o=r[s],l=r[s-1],n[s]={x:(i-s)/i*o.x+s/i*l.x,y:(i-s)/i*o.y+s/i*l.y};return n[i]=r[i-1],new he(n)}derivative(r){return K.compute(r,this.dpoints[0],this._3d)}dderivative(r){return K.compute(r,this.dpoints[1],this._3d)}align(){let r=this.points;return new he(K.align(r,{p1:r[0],p2:r[r.length-1]}))}curvature(r){return K.curvature(r,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return K.inflections(this.points)}normal(r){return this._3d?this.__normal3(r):this.__normal2(r)}__normal2(r){const n=this.derivative(r),i=ei(n.x*n.x+n.y*n.y);return{t:r,x:-n.y/i,y:n.x/i}}__normal3(r){const n=this.derivative(r),i=this.derivative(r+.01),s=ei(n.x*n.x+n.y*n.y+n.z*n.z),o=ei(i.x*i.x+i.y*i.y+i.z*i.z);n.x/=s,n.y/=s,n.z/=s,i.x/=o,i.y/=o,i.z/=o;const l={x:i.y*n.z-i.z*n.y,y:i.z*n.x-i.x*n.z,z:i.x*n.y-i.y*n.x},a=ei(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=a,l.y/=a,l.z/=a;const c=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:r,x:c[0]*n.x+c[1]*n.y+c[2]*n.z,y:c[3]*n.x+c[4]*n.y+c[5]*n.z,z:c[6]*n.x+c[7]*n.y+c[8]*n.z}}hull(r){let n=this.points,i=[],s=[],o=0;for(s[o++]=n[0],s[o++]=n[1],s[o++]=n[2],this.order===3&&(s[o++]=n[3]);n.length>1;){i=[];for(let l=0,a,c=n.length-1;l<c;l++)a=K.lerp(r,n[l],n[l+1]),s[o++]=a,i.push(a);n=i}return s}split(r,n){if(r===0&&n)return this.split(n).left;if(n===1)return this.split(r).right;const i=this.hull(r),s={left:this.order===2?new he([i[0],i[3],i[5]]):new he([i[0],i[4],i[7],i[9]]),right:this.order===2?new he([i[5],i[4],i[2]]):new he([i[9],i[8],i[6],i[3]]),span:i};return s.left._t1=K.map(0,0,1,this._t1,this._t2),s.left._t2=K.map(r,0,1,this._t1,this._t2),s.right._t1=K.map(r,0,1,this._t1,this._t2),s.right._t2=K.map(1,0,1,this._t1,this._t2),n?(n=K.map(n,r,1,0,1),s.right.split(n).left):s}extrema(){const r={};let n=[];return this.dims.forEach((function(i){let s=function(l){return l[i]},o=this.dpoints[0].map(s);r[i]=K.droots(o),this.order===3&&(o=this.dpoints[1].map(s),r[i]=r[i].concat(K.droots(o))),r[i]=r[i].filter(function(l){return l>=0&&l<=1}),n=n.concat(r[i].sort(K.numberSort))}).bind(this)),r.values=n.sort(K.numberSort).filter(function(i,s){return n.indexOf(i)===s}),r}bbox(){const r=this.extrema(),n={};return this.dims.forEach((function(i){n[i]=K.getminmax(this,i,r[i])}).bind(this)),n}overlaps(r){const n=this.bbox(),i=r.bbox();return K.bboxoverlap(n,i)}offset(r,n){if(typeof n<"u"){const i=this.get(r),s=this.normal(r),o={c:i,n:s,x:i.x+s.x*n,y:i.y+s.y*n};return this._3d&&(o.z=i.z+s.z*n),o}if(this._linear){const i=this.normal(0),s=this.points.map(function(o){const l={x:o.x+r*i.x,y:o.y+r*i.y};return o.z&&i.z&&(l.z=o.z+r*i.z),l});return[new he(s)]}return this.reduce().map(function(i){return i._linear?i.offset(r)[0]:i.scale(r)})}simple(){if(this.order===3){const s=K.angle(this.points[0],this.points[3],this.points[1]),o=K.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&o<0||s<0&&o>0)return!1}const r=this.normal(0),n=this.normal(1);let i=r.x*n.x+r.y*n.y;return this._3d&&(i+=r.z*n.z),Jn(D2(i))<M2/3}reduce(){let r,n=0,i=0,s=.01,o,l=[],a=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),n=c[0],r=1;r<c.length;r++)i=c[r],o=this.split(n,i),o._t1=n,o._t2=i,l.push(o),n=i;return l.forEach(function(h){for(n=0,i=0;i<=1;)for(i=n+s;i<=1+s;i+=s)if(o=h.split(n,i),!o.simple()){if(i-=s,Jn(n-i)<s)return[];o=h.split(n,i),o._t1=K.map(n,0,1,h._t1,h._t2),o._t2=K.map(i,0,1,h._t1,h._t2),a.push(o),n=i;break}n<1&&(o=h.split(n,1),o._t1=K.map(n,0,1,h._t1,h._t2),o._t2=h._t2,a.push(o))}),a}translate(r,n,i){i=typeof i=="number"?i:n;const s=this.order;let o=this.points.map((l,a)=>(1-a/s)*n+a/s*i);return new he(this.points.map((l,a)=>({x:l.x+r.x*o[a],y:l.y+r.y*o[a]})))}scale(r){const n=this.order;let i=!1;if(typeof r=="function"&&(i=r),i&&n===2)return this.raise().scale(i);const s=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):r,i?i(1):r);const l=i?i(0):r,a=i?i(1):r,c=[this.offset(0,10),this.offset(1,10)],h=[],g=K.lli4(c[0],c[0].c,c[1],c[1].c);if(!g)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(u){const v=h[u*n]=K.copy(o[u*n]);v.x+=(u?a:l)*c[u].n.x,v.y+=(u?a:l)*c[u].n.y}),i?([0,1].forEach(function(u){if(!(n===2&&u)){var v=o[u+1],y={x:v.x-g.x,y:v.y-g.y},C=i?i((u+1)/n):r;i&&!s&&(C=-C);var w=ei(y.x*y.x+y.y*y.y);y.x/=w,y.y/=w,h[u+1]={x:v.x+C*y.x,y:v.y+C*y.y}}}),new he(h)):([0,1].forEach(u=>{if(n===2&&u)return;const v=h[u*n],y=this.derivative(u),C={x:v.x+y.x,y:v.y+y.y};h[u+1]=K.lli4(v,C,g,o[u+1])}),new he(h))}outline(r,n,i,s){if(n=n===void 0?r:n,this._linear){const S=this.normal(0),x=this.points[0],k=this.points[this.points.length-1];let b,E,A;i===void 0&&(i=r,s=n),b={x:x.x+S.x*r,y:x.y+S.y*r},A={x:k.x+S.x*i,y:k.y+S.y*i},E={x:(b.x+A.x)/2,y:(b.y+A.y)/2};const P=[b,E,A];b={x:x.x-S.x*n,y:x.y-S.y*n},A={x:k.x-S.x*s,y:k.y-S.y*s},E={x:(b.x+A.x)/2,y:(b.y+A.y)/2};const D=[A,E,b],I=K.makeline(D[2],P[0]),O=K.makeline(P[2],D[0]),H=[I,new he(P),O,new he(D)];return new yi(H)}const o=this.reduce(),l=o.length,a=[];let c=[],h,g=0,u=this.length();const v=typeof i<"u"&&typeof s<"u";function y(S,x,k,b,E){return function(A){const P=b/k,D=(b+E)/k,I=x-S;return K.map(A,0,1,S+P*I,S+D*I)}}o.forEach(function(S){const x=S.length();v?(a.push(S.scale(y(r,i,u,g,x))),c.push(S.scale(y(-n,-s,u,g,x)))):(a.push(S.scale(r)),c.push(S.scale(-n))),g+=x}),c=c.map(function(S){return h=S.points,h[3]?S.points=[h[3],h[2],h[1],h[0]]:S.points=[h[2],h[1],h[0]],S}).reverse();const C=a[0].points[0],w=a[l-1].points[a[l-1].points.length-1],_=c[l-1].points[c[l-1].points.length-1],f=c[0].points[0],d=K.makeline(_,C),p=K.makeline(w,f),m=[d].concat(a).concat([p]).concat(c);return new yi(m)}outlineshapes(r,n,i){n=n||r;const s=this.outline(r,n).curves,o=[];for(let l=1,a=s.length;l<a/2;l++){const c=K.makeshape(s[l],s[a-l],i);c.startcap.virtual=l>1,c.endcap.virtual=l<a/2-1,o.push(c)}return o}intersects(r,n){return r?r.p1&&r.p2?this.lineIntersects(r):(r instanceof he&&(r=r.reduce()),this.curveintersects(this.reduce(),r,n)):this.selfintersects(n)}lineIntersects(r){const n=df(r.p1.x,r.p2.x),i=df(r.p1.y,r.p2.y),s=_f(r.p1.x,r.p2.x),o=_f(r.p1.y,r.p2.y);return K.roots(this.points,r).filter(l=>{var a=this.get(l);return K.between(a.x,n,s)&&K.between(a.y,i,o)})}selfintersects(r){const n=this.reduce(),i=n.length-2,s=[];for(let o=0,l,a,c;o<i;o++)a=n.slice(o,o+1),c=n.slice(o+2),l=this.curveintersects(a,c,r),s.push(...l);return s}curveintersects(r,n,i){const s=[];r.forEach(function(l){n.forEach(function(a){l.overlaps(a)&&s.push({left:l,right:a})})});let o=[];return s.forEach(function(l){const a=K.pairiteration(l.left,l.right,i);a.length>0&&(o=o.concat(a))}),o}arcs(r){return r=r||.5,this._iterate(r,[])}_error(r,n,i,s){const o=(s-i)/4,l=this.get(i+o),a=this.get(s-o),c=K.dist(r,n),h=K.dist(r,l),g=K.dist(r,a);return Jn(h-c)+Jn(g-c)}_iterate(r,n){let i=0,s=1,o;do{o=0,s=1;let l=this.get(i),a,c,h,g,u=!1,v=!1,y,C=s,w=1;do if(v=u,g=h,C=(i+s)/2,a=this.get(C),c=this.get(s),h=K.getccenter(l,a,c),h.interval={start:i,end:s},u=this._error(h,l,i,s)<=r,y=v&&!u,y||(w=s),u){if(s>=1){if(h.interval.end=w=1,g=h,s>1){let f={x:h.x+h.r*T2(h.e),y:h.y+h.r*L2(h.e)};h.e+=K.angle({x:h.x,y:h.y},f,this.get(1))}break}s=s+(s-i)/2}else s=C;while(!y&&o++<100);if(o>=100)break;g=g||h,n.push(g),i=w}while(s<1);return n}}function Wl(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=Array(r);n<r;n++)i[n]=e[n];return i}function P2(e){if(Array.isArray(e))return e}function O2(e){if(Array.isArray(e))return Wl(e)}function I2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B2(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,o,l,a=[],c=!0,h=!1;try{if(o=(n=n.call(e)).next,r!==0)for(;!(c=(i=o.call(n)).done)&&(a.push(i.value),a.length!==r);c=!0);}catch(g){h=!0,s=g}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return a}}function N2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H2(e,r){if(e==null)return{};var n,i,s=F2(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function F2(e,r){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(r.includes(i))continue;n[i]=e[i]}return n}function $2(e,r){return P2(e)||B2(e,r)||Np(e,r)||N2()}function j2(e){return O2(e)||I2(e)||Np(e)||z2()}function U2(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function W2(e){var r=U2(e,"string");return typeof r=="symbol"?r:r+""}function Np(e,r){if(e){if(typeof e=="string")return Wl(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wl(e,r):void 0}}var V2=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(r instanceof Array?r.length?r:[void 0]:[r]).map(function(a){return{keyAccessor:a,isProp:!(a instanceof Function)}}),o=e.reduce(function(a,c){var h=a,g=c;return s.forEach(function(u,v){var y=u.keyAccessor,C=u.isProp,w;if(C){var _=g,f=_[y],d=H2(_,[y].map(W2));w=f,g=d}else w=y(g,v);v+1<s.length?(h.hasOwnProperty(w)||(h[w]={}),h=h[w]):n?(h.hasOwnProperty(w)||(h[w]=[]),h[w].push(g)):h[w]=g}),a},{});n instanceof Function&&function a(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;h===s.length?Object.keys(c).forEach(function(g){return c[g]=n(c[g])}):Object.values(c).forEach(function(g){return a(g,h+1)})}(o);var l=o;return i&&(l=[],function a(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];h.length===s.length?l.push({keys:h,vals:c}):Object.entries(c).forEach(function(g){var u=$2(g,2),v=u[0],y=u[1];return a(y,[].concat(j2(h),[v]))})}(o),r instanceof Array&&r.length===0&&l.length===1&&(l[0].keys=[])),l};function q2(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}const pf=Symbol("implicit");function zp(){var e=new Ih,r=[],n=[],i=pf;function s(o){let l=e.get(o);if(l===void 0){if(i!==pf)return i;e.set(o,l=r.push(o)-1)}return n[l%n.length]}return s.domain=function(o){if(!arguments.length)return r.slice();r=[],e=new Ih;for(const l of o)e.has(l)||e.set(l,r.push(l)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.copy=function(){return zp(r,n).unknown(i)},q2.apply(s,arguments),s}function K2(e){for(var r=e.length/6|0,n=new Array(r),i=0;i<r;)n[i]="#"+e.slice(i*6,++i*6);return n}const G2=K2("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function X2(e,r){r===void 0&&(r={});var n=r.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var Y2=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;X2(Y2);function Vl(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=Array(r);n<r;n++)i[n]=e[n];return i}function Q2(e){if(Array.isArray(e))return e}function Z2(e){if(Array.isArray(e))return Vl(e)}function gf(e,r,n){if(Hp())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,r);var s=new(e.bind.apply(e,i));return s}function Wi(e,r,n){return(r=ib(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Hp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hp=function(){return!!e})()}function J2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eb(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,o,l,a=[],c=!0,h=!1;try{if(o=(n=n.call(e)).next,r!==0)for(;!(c=(i=o.call(n)).done)&&(a.push(i.value),a.length!==r);c=!0);}catch(g){h=!0,s=g}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return a}}function tb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vf(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Jr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?vf(Object(n),!0).forEach(function(i){Wi(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Si(e,r){return Q2(e)||eb(e,r)||Fp(e,r)||tb()}function ft(e){return Z2(e)||J2(e)||Fp(e)||rb()}function nb(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ib(e){var r=nb(e,"string");return typeof r=="symbol"?r:r+""}function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ql(e)}function Fp(e,r){if(e){if(typeof e=="string")return Vl(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vl(e,r):void 0}}var sb=zp(G2);function mf(e,r,n){!r||typeof n!="string"||e.filter(function(i){return!i[n]}).forEach(function(i){i[n]=sb(r(i))})}function ob(e,r){var n=e.nodes,i=e.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=s.nodeFilter,l=o===void 0?function(){return!0}:o,a=s.onLoopError,c=a===void 0?function(y){throw"Invalid DAG structure! Found cycle in node path: ".concat(y.join(" -> "),".")}:a,h={};n.forEach(function(y){return h[r(y)]={data:y,out:[],depth:-1,skip:!l(y)}}),i.forEach(function(y){var C=y.source,w=y.target,_=m(C),f=m(w);if(!h.hasOwnProperty(_))throw"Missing source node with id: ".concat(_);if(!h.hasOwnProperty(f))throw"Missing target node with id: ".concat(f);var d=h[_],p=h[f];d.out.push(p);function m(S){return ql(S)==="object"?r(S):S}});var g=[];v(Object.values(h));var u=Object.assign.apply(Object,[{}].concat(ft(Object.entries(h).filter(function(y){var C=Si(y,2),w=C[1];return!w.skip}).map(function(y){var C=Si(y,2),w=C[0],_=C[1];return Wi({},w,_.depth)}))));return u;function v(y){for(var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,_=function(){var m=y[f];if(C.indexOf(m)!==-1){var S=[].concat(ft(C.slice(C.indexOf(m))),[m]).map(function(x){return r(x.data)});return g.some(function(x){return x.length===S.length&&x.every(function(k,b){return k===S[b]})})||(g.push(S),c(S)),1}w>m.depth&&(m.depth=w,v(m.out,[].concat(ft(C),[m]),w+(m.skip?0:1)))},f=0,d=y.length;f<d;f++)_()}}var ab=2,Oe=function(r,n){return n.onNeedsRedraw&&n.onNeedsRedraw()},yf=function(r,n){if(!n.isShadow){var i=se(n.linkDirectionalParticles);n.graphData.links.forEach(function(s){var o=Math.round(Math.abs(i(s)));o?s.__photons=ft(Array(o)).map(function(){return{}}):delete s.__photons})}},xo=Xc({props:{graphData:{default:{nodes:[],links:[]},onChange:function(r,n){n.engineRunning=!1,yf(r,n)}},dagMode:{onChange:function(r,n){!r&&(n.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(r){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Oe},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Oe},nodeColor:{default:"color",triggerUpdate:!1,onChange:Oe},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Oe},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Oe},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Oe},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Oe},linkColor:{default:"color",triggerUpdate:!1,onChange:Oe},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Oe},linkWidth:{default:1,triggerUpdate:!1,onChange:Oe},linkCurvature:{default:0,triggerUpdate:!1,onChange:Oe},linkCanvasObject:{triggerUpdate:!1,onChange:Oe},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Oe},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Oe},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Oe},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Oe},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:yf},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaDecay(r)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaTarget(r)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.velocityDecay(r)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(r,n,i){return i===void 0?r.forceLayout.force(n):(r.forceLayout.force(n,i),this)},d3ReheatSimulation:function(r){return r.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(r){return r.cntTicks=0,r.startTickTime=new Date,r.engineRunning=!0,this},isEngineRunning:function(r){return!!r.engineRunning},tickFrame:function(r){return!r.isShadow&&n(),s(),!r.isShadow&&o(),!r.isShadow&&l(),i(),this;function n(){r.engineRunning&&(++r.cntTicks>r.cooldownTicks||new Date-r.startTickTime>r.cooldownTime||r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin?(r.engineRunning=!1,r.onEngineStop()):(r.forceLayout.tick(),r.onEngineTick()))}function i(){var a=se(r.nodeVisibility),c=se(r.nodeVal),h=se(r.nodeColor),g=se(r.nodeCanvasObjectMode),u=r.ctx,v=r.isShadow/r.globalScale,y=r.graphData.nodes.filter(a);u.save(),y.forEach(function(C){var w=g(C);if(r.nodeCanvasObject&&(w==="before"||w==="replace")&&(r.nodeCanvasObject(C,u,r.globalScale),w==="replace")){u.restore();return}var _=Math.sqrt(Math.max(0,c(C)||1))*r.nodeRelSize+v;u.beginPath(),u.arc(C.x,C.y,_,0,2*Math.PI,!1),u.fillStyle=h(C)||"rgba(31, 120, 180, 0.92)",u.fill(),r.nodeCanvasObject&&w==="after"&&r.nodeCanvasObject(C,r.ctx,r.globalScale)}),u.restore()}function s(){var a=se(r.linkVisibility),c=se(r.linkColor),h=se(r.linkWidth),g=se(r.linkLineDash),u=se(r.linkCurvature),v=se(r.linkCanvasObjectMode),y=r.ctx,C=r.isShadow*2,w=r.graphData.links.filter(a);w.forEach(x);var _=[],f=[],d=w;if(r.linkCanvasObject){var p=[],m=[];w.forEach(function(k){return({before:_,after:f,replace:p}[v(k)]||m).push(k)}),d=[].concat(ft(_),f,m),_=_.concat(p)}y.save(),_.forEach(function(k){return r.linkCanvasObject(k,y,r.globalScale)}),y.restore();var S=V2(d,[c,h,g]);y.save(),Object.entries(S).forEach(function(k){var b=Si(k,2),E=b[0],A=b[1],P=!E||E==="undefined"?"rgba(0,0,0,0.15)":E;Object.entries(A).forEach(function(D){var I=Si(D,2),O=I[0],H=I[1],N=(O||1)/r.globalScale+C;Object.entries(H).forEach(function(F){var R=Si(F,2);R[0];var L=R[1],M=g(L[0]);y.beginPath(),L.forEach(function(B){var j=B.source,V=B.target;if(!(!j||!V||!j.hasOwnProperty("x")||!V.hasOwnProperty("x"))){y.moveTo(j.x,j.y);var G=B.__controlPoints;G?y[G.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(y,ft(G).concat([V.x,V.y])):y.lineTo(V.x,V.y)}}),y.strokeStyle=P,y.lineWidth=N,y.setLineDash(M||[]),y.stroke()})})}),y.restore(),y.save(),f.forEach(function(k){return r.linkCanvasObject(k,y,r.globalScale)}),y.restore();function x(k){var b=u(k);if(!b){k.__controlPoints=null;return}var E=k.source,A=k.target;if(!(!E||!A||!E.hasOwnProperty("x")||!A.hasOwnProperty("x"))){var P=Math.sqrt(Math.pow(A.x-E.x,2)+Math.pow(A.y-E.y,2));if(P>0){var D=Math.atan2(A.y-E.y,A.x-E.x),I=P*b,O={x:(E.x+A.x)/2+I*Math.cos(D-Math.PI/2),y:(E.y+A.y)/2+I*Math.sin(D-Math.PI/2)};k.__controlPoints=[O.x,O.y]}else{var H=b*70;k.__controlPoints=[A.x,A.y-H,A.x+H,A.y]}}}}function o(){var a=1.6,c=.2,h=se(r.linkDirectionalArrowLength),g=se(r.linkDirectionalArrowRelPos),u=se(r.linkVisibility),v=se(r.linkDirectionalArrowColor||r.linkColor),y=se(r.nodeVal),C=r.ctx;C.save(),r.graphData.links.filter(u).forEach(function(w){var _=h(w);if(!(!_||_<0)){var f=w.source,d=w.target;if(!(!f||!d||!f.hasOwnProperty("x")||!d.hasOwnProperty("x"))){var p=Math.sqrt(Math.max(0,y(f)||1))*r.nodeRelSize,m=Math.sqrt(Math.max(0,y(d)||1))*r.nodeRelSize,S=Math.min(1,Math.max(0,g(w))),x=v(w)||"rgba(0,0,0,0.28)",k=_/a/2,b=w.__controlPoints&&gf(he,[f.x,f.y].concat(ft(w.__controlPoints),[d.x,d.y])),E=b?function(N){return b.get(N)}:function(N){return{x:f.x+(d.x-f.x)*N||0,y:f.y+(d.y-f.y)*N||0}},A=b?b.length():Math.sqrt(Math.pow(d.x-f.x,2)+Math.pow(d.y-f.y,2)),P=p+_+(A-p-m-_)*S,D=E(P/A),I=E((P-_)/A),O=E((P-_*(1-c))/A),H=Math.atan2(D.y-I.y,D.x-I.x)-Math.PI/2;C.beginPath(),C.moveTo(D.x,D.y),C.lineTo(I.x+k*Math.cos(H),I.y+k*Math.sin(H)),C.lineTo(O.x,O.y),C.lineTo(I.x-k*Math.cos(H),I.y-k*Math.sin(H)),C.fillStyle=x,C.fill()}}}),C.restore()}function l(){var a=se(r.linkDirectionalParticles),c=se(r.linkDirectionalParticleSpeed),h=se(r.linkDirectionalParticleOffset),g=se(r.linkDirectionalParticleWidth),u=se(r.linkVisibility),v=se(r.linkDirectionalParticleColor||r.linkColor),y=r.ctx;y.save(),r.graphData.links.filter(u).forEach(function(C){var w=a(C);if(!(!C.hasOwnProperty("__photons")||!C.__photons.length)){var _=C.source,f=C.target;if(!(!_||!f||!_.hasOwnProperty("x")||!f.hasOwnProperty("x"))){var d=c(C),p=Math.abs(h(C)),m=C.__photons||[],S=Math.max(0,g(C)/2)/Math.sqrt(r.globalScale),x=v(C)||"rgba(0,0,0,0.28)";y.fillStyle=x;var k=C.__controlPoints?gf(he,[_.x,_.y].concat(ft(C.__controlPoints),[f.x,f.y])):null,b=0,E=!1;m.forEach(function(A){var P=!!A.__singleHop;if(A.hasOwnProperty("__progressRatio")||(A.__progressRatio=P?0:(b+p)/w),!P&&b++,A.__progressRatio+=d,A.__progressRatio>=1)if(!P)A.__progressRatio=A.__progressRatio%1;else{E=!0;return}var D=A.__progressRatio,I=k?k.get(D):{x:_.x+(f.x-_.x)*D||0,y:_.y+(f.y-_.y)*D||0};r.linkDirectionalParticleCanvasObject?r.linkDirectionalParticleCanvasObject(I.x,I.y,C,y,r.globalScale):(y.beginPath(),y.arc(I.x,I.y,S,0,2*Math.PI,!1),y.fill())}),E&&(C.__photons=C.__photons.filter(function(A){return!A.__singleHop||A.__progressRatio<=1}))}}}),y.restore()}},emitParticle:function(r,n){return n&&(!n.__photons&&(n.__photons=[]),n.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:b2().force("link",p2()).force("charge",x2()).force("center",vC()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(r,n){n.ctx=r},update:function(r,n){r.engineRunning=!1,r.onUpdate(),r.nodeAutoColorBy!==null&&mf(r.graphData.nodes,se(r.nodeAutoColorBy),r.nodeColor),r.linkAutoColorBy!==null&&mf(r.graphData.links,se(r.linkAutoColorBy),r.linkColor),r.graphData.links.forEach(function(v){v.source=v[r.linkSource],v.target=v[r.linkTarget]}),r.forceLayout.stop().alpha(1).nodes(r.graphData.nodes);var i=r.forceLayout.force("link");i&&i.id(function(v){return v[r.nodeId]}).links(r.graphData.links);var s=r.dagMode&&ob(r.graphData,function(v){return v[r.nodeId]},{nodeFilter:r.dagNodeFilter,onLoopError:r.onDagError||void 0}),o=Math.max.apply(Math,ft(Object.values(s||[]))),l=r.dagLevelDistance||r.graphData.nodes.length/(o||1)*ab*(["radialin","radialout"].indexOf(r.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(n.dagMode)){var a=["lr","rl"].includes(n.dagMode)?"fx":"fy";r.graphData.nodes.filter(r.dagNodeFilter).forEach(function(v){return delete v[a]})}if(["lr","rl","td","bu"].includes(r.dagMode)){var c=["rl","bu"].includes(r.dagMode),h=function(y){return(s[y[r.nodeId]]-o/2)*l*(c?-1:1)},g=["lr","rl"].includes(r.dagMode)?"fx":"fy";r.graphData.nodes.filter(r.dagNodeFilter).forEach(function(v){return v[g]=h(v)})}r.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(r.dagMode)!==-1?k2(function(v){var y=s[v[r.nodeId]]||-1;return(r.dagMode==="radialin"?o-y:y)*l}).strength(function(v){return r.dagNodeFilter(v)?1:0}):null);for(var u=0;u<r.warmupTicks&&!(r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin);u++)r.forceLayout.tick();this.resetCountdown(),r.onFinishUpdate()}});function $p(e,r){var n=e instanceof Array?e:[e],i=new r;return i._destructor&&i._destructor(),{linkProp:function(o){return{default:i[o](),onChange:function(a,c){n.forEach(function(h){return c[h][o](a)})},triggerUpdate:!1}},linkMethod:function(o){return function(l){for(var a=arguments.length,c=new Array(a>1?a-1:0),h=1;h<a;h++)c[h-1]=arguments[h];var g=[];return n.forEach(function(u){var v=l[u],y=v[o].apply(v,c);y!==v&&g.push(y)}),g.length?g[0]:this}}}}var lb=800,cb=4,ub=5,jp=$p("forceGraph",xo),hb=$p(["forceGraph","shadowGraph"],xo),fb=Object.assign.apply(Object,ft(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return Wi({},e,jp.linkProp(e))})).concat(ft(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return Wi({},e,hb.linkProp(e))})))),db=Object.assign.apply(Object,ft(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return Wi({},e,jp.linkMethod(e))})));function Pa(e){if(e.canvas){var r=e.canvas.width,n=e.canvas.height;r===300&&n===150&&(r=n=0);var i=window.devicePixelRatio;r/=i,n/=i,[e.canvas,e.shadowCanvas].forEach(function(o){o.style.width="".concat(e.width,"px"),o.style.height="".concat(e.height,"px"),o.width=e.width*i,o.height=e.height*i,!r&&!n&&o.getContext("2d").scale(i,i)});var s=Dt(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-r)/2/s,(e.height-n)/2/s),e.needsRedraw=!0}}function Up(e){var r=window.devicePixelRatio;e.setTransform(r,0,0,r,0,0)}function Sf(e,r,n){e.save(),Up(e),e.clearRect(0,0,r,n),e.restore()}var _b=Xc({props:Jr({width:{default:window.innerWidth,onChange:function(r,n){return Pa(n)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(r,n){return Pa(n)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(r,n){[r.nodes,r.links].every(function(s){return(s||[]).every(function(o){return!o.hasOwnProperty("__indexColor")})})&&n.colorTracker.reset(),[{type:"Node",objs:r.nodes},{type:"Link",objs:r.links}].forEach(i),n.forceGraph.graphData(r),n.shadowGraph.graphData(r);function i(s){var o=s.type,l=s.objs;l.filter(function(a){if(!a.hasOwnProperty("__indexColor"))return!0;var c=n.colorTracker.lookup(a.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==a}).forEach(function(a){a.__indexColor=n.colorTracker.register({type:o,d:a})})}},triggerUpdate:!1},backgroundColor:{onChange:function(r,n){n.canvas&&r&&(n.canvas.style.background=r)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(r,n){n.shadowGraph.nodeCanvasObject(r?function(i,s,o){return r(i,i.__indexColor,s,o)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(r,n){n.shadowGraph.linkCanvasObject(r?function(i,s,o){return r(i,i.__indexColor,s,o)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(r,n){n.zoom.scaleExtent([r,n.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(r,n){n.zoom.scaleExtent([n.zoom.scaleExtent()[0],r])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(r,n){n.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},fb),aliases:{stopAnimation:"pauseAnimation"},methods:Jr({graph2ScreenCoords:function(r,n,i){var s=Dt(r.canvas);return{x:n*s.k+s.x,y:i*s.k+s.y}},screen2GraphCoords:function(r,n,i){var s=Dt(r.canvas);return{x:(n-s.x)/s.k,y:(i-s.y)/s.k}},centerAt:function(r,n,i,s){if(!r.canvas)return null;if(n!==void 0||i!==void 0){var o=Object.assign({},n!==void 0?{x:n}:{},i!==void 0?{y:i}:{});return s?r.tweenGroup.add(new jh(l()).to(o,s).easing($r.Quadratic.Out).onUpdate(a).start()):a(o),this}return l();function l(){var c=Dt(r.canvas);return{x:(r.width/2-c.x)/c.k,y:(r.height/2-c.y)/c.k}}function a(c){var h=c.x,g=c.y;r.zoom.translateTo(r.zoom.__baseElem,h===void 0?l().x:h,g===void 0?l().y:g),r.needsRedraw=!0}},zoom:function(r,n,i){if(!r.canvas)return null;if(n!==void 0)return i?r.tweenGroup.add(new jh({k:s()}).to({k:n},i).easing($r.Quadratic.Out).onUpdate(function(l){var a=l.k;return o(a)}).start()):o(n),this;return s();function s(){return Dt(r.canvas).k}function o(l){r.zoom.scaleTo(r.zoom.__baseElem,l),r.needsRedraw=!0}},zoomToFit:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];var a=this.getGraphBbox.apply(this,o);if(a){var c={x:(a.x[0]+a.x[1])/2,y:(a.y[0]+a.y[1])/2},h=Math.max(1e-12,Math.min(1e12,(r.width-i*2)/(a.x[1]-a.x[0]),(r.height-i*2)/(a.y[1]-a.y[0])));this.centerAt(c.x,c.y,n),this.zoom(h,n)}return this},getGraphBbox:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=se(r.nodeVal),s=function(a){return Math.sqrt(Math.max(0,i(a)||1))*r.nodeRelSize},o=r.graphData.nodes.filter(n).map(function(l){return{x:l.x,y:l.y,r:s(l)}});return o.length?{x:[zh(o,function(l){return l.x-l.r}),Nh(o,function(l){return l.x+l.r})],y:[zh(o,function(l){return l.y-l.r}),Nh(o,function(l){return l.y+l.r})]}:null},pauseAnimation:function(r){return r.animationFrameRequestId&&(cancelAnimationFrame(r.animationFrameRequestId),r.animationFrameRequestId=null),this},resumeAnimation:function(r){return r.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},db),stateInit:function(){return{lastSetZoom:1,zoom:SS(),forceGraph:new xo,shadowGraph:new xo().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new Xw,tweenGroup:new fp}},init:function(r,n){var i=this;r.innerHTML="";var s=document.createElement("div");s.classList.add("force-graph-container"),s.style.position="relative",r.appendChild(s),n.canvas=document.createElement("canvas"),n.backgroundColor&&(n.canvas.style.background=n.backgroundColor),s.appendChild(n.canvas),n.shadowCanvas=document.createElement("canvas");var o=n.canvas.getContext("2d"),l=n.shadowCanvas.getContext("2d",{willReadFrequently:!0}),a={x:-1e12,y:-1e12},c=function(){var u=null,v=window.devicePixelRatio,y=a.x>0&&a.y>0?l.getImageData(a.x*v,a.y*v,1,1):null;return y&&(u=n.colorTracker.lookup(y.data)),u};ht(n.canvas).call(L1().subject(function(){if(!n.enableNodeDrag)return null;var g=c();return g&&g.type==="Node"?g.d:null}).on("start",function(g){var u=g.subject;u.__initialDragPos={x:u.x,y:u.y,fx:u.fx,fy:u.fy},g.active||(u.fx=u.x,u.fy=u.y),n.canvas.classList.add("grabbable")}).on("drag",function(g){var u=g.subject,v=u.__initialDragPos,y=g,C=Dt(n.canvas).k,w={x:v.x+(y.x-v.x)/C-u.x,y:v.y+(y.y-v.y)/C-u.y};["x","y"].forEach(function(_){return u["f".concat(_)]=u[_]=v[_]+(y[_]-v[_])/C}),!(!u.__dragged&&ub>=Math.sqrt(xS(["x","y"].map(function(_){return Math.pow(g[_]-v[_],2)}))))&&(n.forceGraph.d3AlphaTarget(.3).resetCountdown(),n.isPointerDragging=!0,u.__dragged=!0,n.onNodeDrag(u,w))}).on("end",function(g){var u=g.subject,v=u.__initialDragPos,y={x:u.x-v.x,y:u.y-v.y};v.fx===void 0&&(u.fx=void 0),v.fy===void 0&&(u.fy=void 0),delete u.__initialDragPos,n.forceGraph.d3AlphaTarget()&&n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.canvas.classList.remove("grabbable"),n.isPointerDragging=!1,u.__dragged&&(delete u.__dragged,n.onNodeDragEnd(u,y))})),n.zoom(n.zoom.__baseElem=ht(n.canvas)),n.zoom.__baseElem.on("dblclick.zoom",null),n.zoom.filter(function(g){return!g.button&&n.enableZoomPanInteraction&&(g.type!=="wheel"||se(n.enableZoomInteraction)(g))&&(g.type==="wheel"||se(n.enablePanInteraction)(g))}).on("zoom",function(g){var u=g.transform;[o,l].forEach(function(v){Up(v),v.translate(u.x,u.y),v.scale(u.k,u.k)}),n.isPointerDragging=!0,n.onZoom&&n.onZoom(Jr(Jr({},u),i.centerAt())),n.needsRedraw=!0}).on("end",function(g){n.isPointerDragging=!1,n.onZoomEnd&&n.onZoomEnd(Jr(Jr({},g.transform),i.centerAt()))}),Pa(n),n.forceGraph.onNeedsRedraw(function(){return n.needsRedraw=!0}).onFinishUpdate(function(){Dt(n.canvas).k===n.lastSetZoom&&n.graphData.nodes.length&&(n.zoom.scaleTo(n.zoom.__baseElem,n.lastSetZoom=cb/Math.cbrt(n.graphData.nodes.length)),n.needsRedraw=!0)}),n.tooltip=new gC(s),["pointermove","pointerdown"].forEach(function(g){return s.addEventListener(g,function(u){g==="pointerdown"&&(n.isPointerPressed=!0,n.pointerDownEvent=u),!n.isPointerDragging&&u.type==="pointermove"&&n.onBackgroundClick&&(u.pressure>0||n.isPointerPressed)&&(u.pointerType==="mouse"||u.movementX===void 0||[u.movementX,u.movementY].some(function(C){return Math.abs(C)>1}))&&(n.isPointerDragging=!0);var v=y(s);a.x=u.pageX-v.left,a.y=u.pageY-v.top;function y(C){var w=C.getBoundingClientRect(),_=window.pageXOffset||document.documentElement.scrollLeft,f=window.pageYOffset||document.documentElement.scrollTop;return{top:w.top+f,left:w.left+_}}},{passive:!0})}),s.addEventListener("pointerup",function(g){if(n.isPointerPressed){if(n.isPointerPressed=!1,n.isPointerDragging){n.isPointerDragging=!1;return}var u=[g,n.pointerDownEvent];requestAnimationFrame(function(){if(g.button===0)if(n.hoverObj){var v=n["on".concat(n.hoverObj.type,"Click")];v&&v.apply(void 0,[n.hoverObj.d].concat(u))}else n.onBackgroundClick&&n.onBackgroundClick.apply(n,u);if(g.button===2)if(n.hoverObj){var y=n["on".concat(n.hoverObj.type,"RightClick")];y&&y.apply(void 0,[n.hoverObj.d].concat(u))}else n.onBackgroundRightClick&&n.onBackgroundRightClick.apply(n,u)})}},{passive:!0}),s.addEventListener("contextmenu",function(g){return!n.onBackgroundRightClick&&!n.onNodeRightClick&&!n.onLinkRightClick?!0:(g.preventDefault(),!1)}),n.forceGraph(o),n.shadowGraph(l);var h=tw(function(){Sf(l,n.width,n.height),n.shadowGraph.linkWidth(function(u){return se(n.linkWidth)(u)+n.linkHoverPrecision});var g=Dt(n.canvas);n.shadowGraph.globalScale(g.k).tickFrame()},lb);n.flushShadowCanvas=h.flush,(this._animationCycle=function g(){var u=!n.autoPauseRedraw||!!n.needsRedraw||n.forceGraph.isEngineRunning()||n.graphData.links.some(function(p){return p.__photons&&p.__photons.length});if(n.needsRedraw=!1,n.enablePointerInteraction){var v=n.isPointerDragging?null:c();if(v!==n.hoverObj){var y=n.hoverObj,C=y?y.type:null,w=v?v.type:null;if(C&&C!==w){var _=n["on".concat(C,"Hover")];_&&_(null,y.d)}if(w){var f=n["on".concat(w,"Hover")];f&&f(v.d,C===w?y.d:null)}n.tooltip.content(v&&se(n["".concat(v.type.toLowerCase(),"Label")])(v.d)||null),n.canvas.classList[(v&&n["on".concat(w,"Click")]||!v&&n.onBackgroundClick)&&se(n.showPointerCursor)(v==null?void 0:v.d)?"add":"remove"]("clickable"),n.hoverObj=v}u&&h()}if(u){Sf(o,n.width,n.height);var d=Dt(n.canvas).k;n.onRenderFramePre&&n.onRenderFramePre(o,d),n.forceGraph.globalScale(d).tickFrame(),n.onRenderFramePost&&n.onRenderFramePost(o,d)}n.tweenGroup.update(),n.animationFrameRequestId=requestAnimationFrame(g)})()},update:function(r){}}),Wp={exports:{}},pb="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gb=pb,vb=gb;function Vp(){}function qp(){}qp.resetWarningCache=Vp;var mb=function(){function e(i,s,o,l,a,c){if(c!==vb){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function r(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:qp,resetWarningCache:Vp};return n.PropTypes=n,n};Wp.exports=mb();var yb=Wp.exports;const z=wf(yb),Ko={width:z.number,height:z.number,graphData:z.shape({nodes:z.arrayOf(z.object).isRequired,links:z.arrayOf(z.object).isRequired}),backgroundColor:z.string,nodeRelSize:z.number,nodeId:z.string,nodeLabel:z.oneOfType([z.string,z.func]),nodeVal:z.oneOfType([z.number,z.string,z.func]),nodeVisibility:z.oneOfType([z.bool,z.string,z.func]),nodeColor:z.oneOfType([z.string,z.func]),nodeAutoColorBy:z.oneOfType([z.string,z.func]),onNodeHover:z.func,onNodeClick:z.func,linkSource:z.string,linkTarget:z.string,linkLabel:z.oneOfType([z.string,z.func]),linkVisibility:z.oneOfType([z.bool,z.string,z.func]),linkColor:z.oneOfType([z.string,z.func]),linkAutoColorBy:z.oneOfType([z.string,z.func]),linkWidth:z.oneOfType([z.number,z.string,z.func]),linkCurvature:z.oneOfType([z.number,z.string,z.func]),linkDirectionalArrowLength:z.oneOfType([z.number,z.string,z.func]),linkDirectionalArrowColor:z.oneOfType([z.string,z.func]),linkDirectionalArrowRelPos:z.oneOfType([z.number,z.string,z.func]),linkDirectionalParticles:z.oneOfType([z.number,z.string,z.func]),linkDirectionalParticleSpeed:z.oneOfType([z.number,z.string,z.func]),linkDirectionalParticleOffset:z.oneOfType([z.number,z.string,z.func]),linkDirectionalParticleWidth:z.oneOfType([z.number,z.string,z.func]),linkDirectionalParticleColor:z.oneOfType([z.string,z.func]),onLinkHover:z.func,onLinkClick:z.func,dagMode:z.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:z.number,dagNodeFilter:z.func,onDagError:z.func,d3AlphaMin:z.number,d3AlphaDecay:z.number,d3VelocityDecay:z.number,warmupTicks:z.number,cooldownTicks:z.number,cooldownTime:z.number,onEngineTick:z.func,onEngineStop:z.func,getGraphBbox:z.func},Kp={zoomToFit:z.func,onNodeRightClick:z.func,onNodeDrag:z.func,onNodeDragEnd:z.func,onLinkRightClick:z.func,linkHoverPrecision:z.number,onBackgroundClick:z.func,onBackgroundRightClick:z.func,showPointerCursor:z.oneOfType([z.bool,z.func]),enablePointerInteraction:z.bool,enableNodeDrag:z.bool},nu={showNavInfo:z.bool,nodeOpacity:z.number,nodeResolution:z.number,nodeThreeObject:z.oneOfType([z.object,z.string,z.func]),nodeThreeObjectExtend:z.oneOfType([z.bool,z.string,z.func]),nodePositionUpdate:z.func,linkOpacity:z.number,linkResolution:z.number,linkCurveRotation:z.oneOfType([z.number,z.string,z.func]),linkMaterial:z.oneOfType([z.object,z.string,z.func]),linkThreeObject:z.oneOfType([z.object,z.string,z.func]),linkThreeObjectExtend:z.oneOfType([z.bool,z.string,z.func]),linkPositionUpdate:z.func,linkDirectionalArrowResolution:z.number,linkDirectionalParticleResolution:z.number,linkDirectionalParticleThreeObject:z.oneOfType([z.object,z.string,z.func]),forceEngine:z.oneOf(["d3","ngraph"]),ngraphPhysics:z.object,numDimensions:z.oneOf([1,2,3])},Sb=Object.assign({},Ko,Kp,{linkLineDash:z.oneOfType([z.arrayOf(z.number),z.string,z.func]),nodeCanvasObjectMode:z.oneOfType([z.string,z.func]),nodeCanvasObject:z.func,nodePointerAreaPaint:z.func,linkCanvasObjectMode:z.oneOfType([z.string,z.func]),linkCanvasObject:z.func,linkPointerAreaPaint:z.func,linkDirectionalParticleCanvasObject:z.func,autoPauseRedraw:z.bool,minZoom:z.number,maxZoom:z.number,enableZoomInteraction:z.oneOfType([z.bool,z.func]),enablePanInteraction:z.oneOfType([z.bool,z.func]),onZoom:z.func,onZoomEnd:z.func,onRenderFramePre:z.func,onRenderFramePost:z.func});Object.assign({},Ko,Kp,nu,{enableNavigationControls:z.bool,controlType:z.oneOf(["trackball","orbit","fly"]),rendererConfig:z.object,extraRenderers:z.arrayOf(z.shape({render:z.func.isRequired}))});Object.assign({},Ko,nu,{nodeDesc:z.oneOfType([z.string,z.func]),linkDesc:z.oneOfType([z.string,z.func])});Object.assign({},Ko,nu,{markerAttrs:z.object,yOffset:z.number,glScale:z.number});const iu=jv(_b,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});iu.displayName="ForceGraph2D";iu.propTypes=Sb;var Gp={exports:{}};(function(e,r){(function(n,i){e.exports=i()})(self,()=>(()=>{var n={4567:function(l,a,c){var h=this&&this.__decorate||function(p,m,S,x){var k,b=arguments.length,E=b<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,S):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(p,m,S,x);else for(var A=p.length-1;A>=0;A--)(k=p[A])&&(E=(b<3?k(E):b>3?k(m,S,E):k(m,S))||E);return b>3&&E&&Object.defineProperty(m,S,E),E},g=this&&this.__param||function(p,m){return function(S,x){m(S,x,p)}};Object.defineProperty(a,"__esModule",{value:!0}),a.AccessibilityManager=void 0;const u=c(9042),v=c(6114),y=c(9924),C=c(844),w=c(5596),_=c(4725),f=c(3656);let d=a.AccessibilityManager=class extends C.Disposable{constructor(p,m){super(),this._terminal=p,this._renderService=m,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let S=0;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);if(this._topBoundaryFocusListener=S=>this._handleBoundaryFocus(S,0),this._bottomBoundaryFocusListener=S=>this._handleBoundaryFocus(S,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new y.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(S=>this._handleResize(S.rows))),this.register(this._terminal.onRender(S=>this._refreshRows(S.start,S.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(S=>this._handleChar(S))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(S=>this._handleTab(S))),this.register(this._terminal.onKey(S=>this._handleKey(S.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new w.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,C.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(p){for(let m=0;m<p;m++)this._handleChar(" ")}_handleChar(p){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==p&&(this._charsToAnnounce+=p):this._charsToAnnounce+=p,p===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=u.tooMuchOutput)),v.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,v.isMac&&this._liveRegion.remove()}_handleKey(p){this._clearLiveRegion(),/\p{Control}/u.test(p)||this._charsToConsume.push(p)}_refreshRows(p,m){this._liveRegionDebouncer.refresh(p,m,this._terminal.rows)}_renderRows(p,m){const S=this._terminal.buffer,x=S.lines.length.toString();for(let k=p;k<=m;k++){const b=S.translateBufferLineToString(S.ydisp+k,!0),E=(S.ydisp+k+1).toString(),A=this._rowElements[k];A&&(b.length===0?A.innerText="":A.textContent=b,A.setAttribute("aria-posinset",E),A.setAttribute("aria-setsize",x))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(p,m){const S=p.target,x=this._rowElements[m===0?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")===(m===0?"1":`${this._terminal.buffer.lines.length}`)||p.relatedTarget!==x)return;let k,b;if(m===0?(k=S,b=this._rowElements.pop(),this._rowContainer.removeChild(b)):(k=this._rowElements.shift(),b=S,this._rowContainer.removeChild(k)),k.removeEventListener("focus",this._topBoundaryFocusListener),b.removeEventListener("focus",this._bottomBoundaryFocusListener),m===0){const E=this._createAccessibilityTreeNode();this._rowElements.unshift(E),this._rowContainer.insertAdjacentElement("afterbegin",E)}else{const E=this._createAccessibilityTreeNode();this._rowElements.push(E),this._rowContainer.appendChild(E)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(m===0?-1:1),this._rowElements[m===0?1:this._rowElements.length-2].focus(),p.preventDefault(),p.stopImmediatePropagation()}_handleResize(p){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let m=this._rowContainer.children.length;m<this._terminal.rows;m++)this._rowElements[m]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[m]);for(;this._rowElements.length>p;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const p=document.createElement("div");return p.setAttribute("role","listitem"),p.tabIndex=-1,this._refreshRowDimensions(p),p}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let p=0;p<this._terminal.rows;p++)this._refreshRowDimensions(this._rowElements[p])}}_refreshRowDimensions(p){p.style.height=`${this._renderService.dimensions.css.cell.height}px`}};a.AccessibilityManager=d=h([g(1,_.IRenderService)],d)},3614:(l,a)=>{function c(v){return v.replace(/\r?\n/g,"\r")}function h(v,y){return y?"\x1B[200~"+v+"\x1B[201~":v}function g(v,y,C,w){v=h(v=c(v),C.decPrivateModes.bracketedPasteMode&&w.rawOptions.ignoreBracketedPasteMode!==!0),C.triggerDataEvent(v,!0),y.value=""}function u(v,y,C){const w=C.getBoundingClientRect(),_=v.clientX-w.left-10,f=v.clientY-w.top-10;y.style.width="20px",y.style.height="20px",y.style.left=`${_}px`,y.style.top=`${f}px`,y.style.zIndex="1000",y.focus()}Object.defineProperty(a,"__esModule",{value:!0}),a.rightClickHandler=a.moveTextAreaUnderMouseCursor=a.paste=a.handlePasteEvent=a.copyHandler=a.bracketTextForPaste=a.prepareTextForTerminal=void 0,a.prepareTextForTerminal=c,a.bracketTextForPaste=h,a.copyHandler=function(v,y){v.clipboardData&&v.clipboardData.setData("text/plain",y.selectionText),v.preventDefault()},a.handlePasteEvent=function(v,y,C,w){v.stopPropagation(),v.clipboardData&&g(v.clipboardData.getData("text/plain"),y,C,w)},a.paste=g,a.moveTextAreaUnderMouseCursor=u,a.rightClickHandler=function(v,y,C,w,_){u(v,y,C),_&&w.rightClickSelect(v),y.value=w.selectionText,y.select()}},7239:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorContrastCache=void 0;const h=c(1505);a.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(g,u,v){this._css.set(g,u,v)}getCss(g,u){return this._css.get(g,u)}setColor(g,u,v){this._color.set(g,u,v)}getColor(g,u){return this._color.get(g,u)}clear(){this._color.clear(),this._css.clear()}}},3656:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.addDisposableDomListener=void 0,a.addDisposableDomListener=function(c,h,g,u){c.addEventListener(h,g,u);let v=!1;return{dispose:()=>{v||(v=!0,c.removeEventListener(h,g,u))}}}},6465:function(l,a,c){var h=this&&this.__decorate||function(_,f,d,p){var m,S=arguments.length,x=S<3?f:p===null?p=Object.getOwnPropertyDescriptor(f,d):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(_,f,d,p);else for(var k=_.length-1;k>=0;k--)(m=_[k])&&(x=(S<3?m(x):S>3?m(f,d,x):m(f,d))||x);return S>3&&x&&Object.defineProperty(f,d,x),x},g=this&&this.__param||function(_,f){return function(d,p){f(d,p,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Linkifier2=void 0;const u=c(3656),v=c(8460),y=c(844),C=c(2585);let w=a.Linkifier2=class extends y.Disposable{get currentLink(){return this._currentLink}constructor(_){super(),this._bufferService=_,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new v.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new v.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,y.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,y.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(_){return this._linkProviders.push(_),{dispose:()=>{const f=this._linkProviders.indexOf(_);f!==-1&&this._linkProviders.splice(f,1)}}}attachToDom(_,f,d){this._element=_,this._mouseService=f,this._renderService=d,this.register((0,u.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,u.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(_){if(this._lastMouseEvent=_,!this._element||!this._mouseService)return;const f=this._positionFromMouseEvent(_,this._element,this._mouseService);if(!f)return;this._isMouseOut=!1;const d=_.composedPath();for(let p=0;p<d.length;p++){const m=d[p];if(m.classList.contains("xterm"))break;if(m.classList.contains("xterm-hover"))return}this._lastBufferCell&&f.x===this._lastBufferCell.x&&f.y===this._lastBufferCell.y||(this._handleHover(f),this._lastBufferCell=f)}_handleHover(_){if(this._activeLine!==_.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(_,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,_)||(this._clearCurrentLink(),this._askForLink(_,!0))}_askForLink(_,f){var d,p;this._activeProviderReplies&&f||((d=this._activeProviderReplies)===null||d===void 0||d.forEach(S=>{S==null||S.forEach(x=>{x.link.dispose&&x.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=_.y);let m=!1;for(const[S,x]of this._linkProviders.entries())f?!((p=this._activeProviderReplies)===null||p===void 0)&&p.get(S)&&(m=this._checkLinkProviderResult(S,_,m)):x.provideLinks(_.y,k=>{var b,E;if(this._isMouseOut)return;const A=k==null?void 0:k.map(P=>({link:P}));(b=this._activeProviderReplies)===null||b===void 0||b.set(S,A),m=this._checkLinkProviderResult(S,_,m),((E=this._activeProviderReplies)===null||E===void 0?void 0:E.size)===this._linkProviders.length&&this._removeIntersectingLinks(_.y,this._activeProviderReplies)})}_removeIntersectingLinks(_,f){const d=new Set;for(let p=0;p<f.size;p++){const m=f.get(p);if(m)for(let S=0;S<m.length;S++){const x=m[S],k=x.link.range.start.y<_?0:x.link.range.start.x,b=x.link.range.end.y>_?this._bufferService.cols:x.link.range.end.x;for(let E=k;E<=b;E++){if(d.has(E)){m.splice(S--,1);break}d.add(E)}}}}_checkLinkProviderResult(_,f,d){var p;if(!this._activeProviderReplies)return d;const m=this._activeProviderReplies.get(_);let S=!1;for(let x=0;x<_;x++)this._activeProviderReplies.has(x)&&!this._activeProviderReplies.get(x)||(S=!0);if(!S&&m){const x=m.find(k=>this._linkAtPosition(k.link,f));x&&(d=!0,this._handleNewLink(x))}if(this._activeProviderReplies.size===this._linkProviders.length&&!d)for(let x=0;x<this._activeProviderReplies.size;x++){const k=(p=this._activeProviderReplies.get(x))===null||p===void 0?void 0:p.find(b=>this._linkAtPosition(b.link,f));if(k){d=!0,this._handleNewLink(k);break}}return d}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(_){if(!this._element||!this._mouseService||!this._currentLink)return;const f=this._positionFromMouseEvent(_,this._element,this._mouseService);f&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,f)&&this._currentLink.link.activate(_,this._currentLink.link.text)}_clearCurrentLink(_,f){this._element&&this._currentLink&&this._lastMouseEvent&&(!_||!f||this._currentLink.link.range.start.y>=_&&this._currentLink.link.range.end.y<=f)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,y.disposeArray)(this._linkCacheDisposables))}_handleNewLink(_){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const f=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);f&&this._linkAtPosition(_.link,f)&&(this._currentLink=_,this._currentLink.state={decorations:{underline:_.link.decorations===void 0||_.link.decorations.underline,pointerCursor:_.link.decorations===void 0||_.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,_.link,this._lastMouseEvent),_.link.decorations={},Object.defineProperties(_.link.decorations,{pointerCursor:{get:()=>{var d,p;return(p=(d=this._currentLink)===null||d===void 0?void 0:d.state)===null||p===void 0?void 0:p.decorations.pointerCursor},set:d=>{var p,m;!((p=this._currentLink)===null||p===void 0)&&p.state&&this._currentLink.state.decorations.pointerCursor!==d&&(this._currentLink.state.decorations.pointerCursor=d,this._currentLink.state.isHovered&&((m=this._element)===null||m===void 0||m.classList.toggle("xterm-cursor-pointer",d)))}},underline:{get:()=>{var d,p;return(p=(d=this._currentLink)===null||d===void 0?void 0:d.state)===null||p===void 0?void 0:p.decorations.underline},set:d=>{var p,m,S;!((p=this._currentLink)===null||p===void 0)&&p.state&&((S=(m=this._currentLink)===null||m===void 0?void 0:m.state)===null||S===void 0?void 0:S.decorations.underline)!==d&&(this._currentLink.state.decorations.underline=d,this._currentLink.state.isHovered&&this._fireUnderlineEvent(_.link,d))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(d=>{if(!this._currentLink)return;const p=d.start===0?0:d.start+1+this._bufferService.buffer.ydisp,m=this._bufferService.buffer.ydisp+1+d.end;if(this._currentLink.link.range.start.y>=p&&this._currentLink.link.range.end.y<=m&&(this._clearCurrentLink(p,m),this._lastMouseEvent&&this._element)){const S=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);S&&this._askForLink(S,!1)}})))}_linkHover(_,f,d){var p;!((p=this._currentLink)===null||p===void 0)&&p.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!0),this._currentLink.state.decorations.pointerCursor&&_.classList.add("xterm-cursor-pointer")),f.hover&&f.hover(d,f.text)}_fireUnderlineEvent(_,f){const d=_.range,p=this._bufferService.buffer.ydisp,m=this._createLinkUnderlineEvent(d.start.x-1,d.start.y-p-1,d.end.x,d.end.y-p-1,void 0);(f?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(m)}_linkLeave(_,f,d){var p;!((p=this._currentLink)===null||p===void 0)&&p.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!1),this._currentLink.state.decorations.pointerCursor&&_.classList.remove("xterm-cursor-pointer")),f.leave&&f.leave(d,f.text)}_linkAtPosition(_,f){const d=_.range.start.y*this._bufferService.cols+_.range.start.x,p=_.range.end.y*this._bufferService.cols+_.range.end.x,m=f.y*this._bufferService.cols+f.x;return d<=m&&m<=p}_positionFromMouseEvent(_,f,d){const p=d.getCoords(_,f,this._bufferService.cols,this._bufferService.rows);if(p)return{x:p[0],y:p[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(_,f,d,p,m){return{x1:_,y1:f,x2:d,y2:p,cols:this._bufferService.cols,fg:m}}};a.Linkifier2=w=h([g(0,C.IBufferService)],w)},9042:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.tooMuchOutput=a.promptLabel=void 0,a.promptLabel="Terminal input",a.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(l,a,c){var h=this&&this.__decorate||function(w,_,f,d){var p,m=arguments.length,S=m<3?_:d===null?d=Object.getOwnPropertyDescriptor(_,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(w,_,f,d);else for(var x=w.length-1;x>=0;x--)(p=w[x])&&(S=(m<3?p(S):m>3?p(_,f,S):p(_,f))||S);return m>3&&S&&Object.defineProperty(_,f,S),S},g=this&&this.__param||function(w,_){return function(f,d){_(f,d,w)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkProvider=void 0;const u=c(511),v=c(2585);let y=a.OscLinkProvider=class{constructor(w,_,f){this._bufferService=w,this._optionsService=_,this._oscLinkService=f}provideLinks(w,_){var f;const d=this._bufferService.buffer.lines.get(w-1);if(!d)return void _(void 0);const p=[],m=this._optionsService.rawOptions.linkHandler,S=new u.CellData,x=d.getTrimmedLength();let k=-1,b=-1,E=!1;for(let A=0;A<x;A++)if(b!==-1||d.hasContent(A)){if(d.loadCell(A,S),S.hasExtendedAttrs()&&S.extended.urlId){if(b===-1){b=A,k=S.extended.urlId;continue}E=S.extended.urlId!==k}else b!==-1&&(E=!0);if(E||b!==-1&&A===x-1){const P=(f=this._oscLinkService.getLinkData(k))===null||f===void 0?void 0:f.uri;if(P){const D={start:{x:b+1,y:w},end:{x:A+(E||A!==x-1?0:1),y:w}};let I=!1;if(!(m!=null&&m.allowNonHttpProtocols))try{const O=new URL(P);["http:","https:"].includes(O.protocol)||(I=!0)}catch{I=!0}I||p.push({text:P,range:D,activate:(O,H)=>m?m.activate(O,H,D):C(0,H),hover:(O,H)=>{var N;return(N=m==null?void 0:m.hover)===null||N===void 0?void 0:N.call(m,O,H,D)},leave:(O,H)=>{var N;return(N=m==null?void 0:m.leave)===null||N===void 0?void 0:N.call(m,O,H,D)}})}E=!1,S.hasExtendedAttrs()&&S.extended.urlId?(b=A,k=S.extended.urlId):(b=-1,k=-1)}}_(p)}};function C(w,_){if(confirm(`Do you want to navigate to ${_}?

WARNING: This link could potentially be dangerous`)){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=_}else console.warn("Opening link blocked as opener could not be cleared")}}a.OscLinkProvider=y=h([g(0,v.IBufferService),g(1,v.IOptionsService),g(2,v.IOscLinkService)],y)},6193:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RenderDebouncer=void 0,a.RenderDebouncer=class{constructor(c,h){this._parentWindow=c,this._renderCallback=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(c){return this._refreshCallbacks.push(c),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(c,h,g){this._rowCount=g,c=c!==void 0?c:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const c=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const c of this._refreshCallbacks)c(0);this._refreshCallbacks=[]}}},5596:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ScreenDprMonitor=void 0;const h=c(844);class g extends h.Disposable{constructor(v){super(),this._parentWindow=v,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,h.toDisposable)(()=>{this.clearListener()}))}setListener(v){this._listener&&this.clearListener(),this._listener=v,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var v;this._outerListener&&((v=this._resolutionMediaMatchList)===null||v===void 0||v.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}a.ScreenDprMonitor=g},3236:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const h=c(3614),g=c(3656),u=c(6465),v=c(9042),y=c(3730),C=c(1680),w=c(3107),_=c(5744),f=c(2950),d=c(1296),p=c(428),m=c(4269),S=c(5114),x=c(8934),k=c(3230),b=c(9312),E=c(4725),A=c(6731),P=c(8055),D=c(8969),I=c(8460),O=c(844),H=c(6114),N=c(8437),F=c(2584),R=c(7399),L=c(5941),M=c(9074),B=c(2585),j=c(5435),V=c(4567),G=typeof window<"u"?window.document:null;class X extends D.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(T={}){super(T),this.browser=H,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new O.MutableDisposable),this._onCursorMove=this.register(new I.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new I.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new I.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new I.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new I.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new I.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new I.EventEmitter),this._onBlur=this.register(new I.EventEmitter),this._onA11yCharEmitter=this.register(new I.EventEmitter),this._onA11yTabEmitter=this.register(new I.EventEmitter),this._onWillOpen=this.register(new I.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(u.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(y.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(M.DecorationService),this._instantiationService.setService(B.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows(($,U)=>this.refresh($,U))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport($=>this._reportWindowsOptions($))),this.register(this._inputHandler.onColor($=>this._handleColorEvent($))),this.register((0,I.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,I.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,I.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,I.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize($=>this._afterResize($.cols,$.rows))),this.register((0,O.toDisposable)(()=>{var $,U;this._customKeyEventHandler=void 0,(U=($=this.element)===null||$===void 0?void 0:$.parentNode)===null||U===void 0||U.removeChild(this.element)}))}_handleColorEvent(T){if(this._themeService)for(const $ of T){let U,W="";switch($.index){case 256:U="foreground",W="10";break;case 257:U="background",W="11";break;case 258:U="cursor",W="12";break;default:U="ansi",W="4;"+$.index}switch($.type){case 0:const ee=P.color.toColorRGB(U==="ansi"?this._themeService.colors.ansi[$.index]:this._themeService.colors[U]);this.coreService.triggerDataEvent(`${F.C0.ESC}]${W};${(0,L.toRgbString)(ee)}${F.C1_ESCAPED.ST}`);break;case 1:if(U==="ansi")this._themeService.modifyColors(Y=>Y.ansi[$.index]=P.rgba.toColor(...$.color));else{const Y=U;this._themeService.modifyColors(oe=>oe[Y]=P.rgba.toColor(...$.color))}break;case 2:this._themeService.restoreColor($.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(T){T?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(V.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(T){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(F.C0.ESC+"[I"),this.updateCursorStyle(T),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var T;return(T=this.textarea)===null||T===void 0?void 0:T.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(F.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const T=this.buffer.ybase+this.buffer.y,$=this.buffer.lines.get(T);if(!$)return;const U=Math.min(this.buffer.x,this.cols-1),W=this._renderService.dimensions.css.cell.height,ee=$.getWidth(U),Y=this._renderService.dimensions.css.cell.width*ee,oe=this.buffer.y*this._renderService.dimensions.css.cell.height,Re=U*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Re+"px",this.textarea.style.top=oe+"px",this.textarea.style.width=Y+"px",this.textarea.style.height=W+"px",this.textarea.style.lineHeight=W+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,g.addDisposableDomListener)(this.element,"copy",$=>{this.hasSelection()&&(0,h.copyHandler)($,this._selectionService)}));const T=$=>(0,h.handlePasteEvent)($,this.textarea,this.coreService,this.optionsService);this.register((0,g.addDisposableDomListener)(this.textarea,"paste",T)),this.register((0,g.addDisposableDomListener)(this.element,"paste",T)),H.isFirefox?this.register((0,g.addDisposableDomListener)(this.element,"mousedown",$=>{$.button===2&&(0,h.rightClickHandler)($,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,g.addDisposableDomListener)(this.element,"contextmenu",$=>{(0,h.rightClickHandler)($,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),H.isLinux&&this.register((0,g.addDisposableDomListener)(this.element,"auxclick",$=>{$.button===1&&(0,h.moveTextAreaUnderMouseCursor)($,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,g.addDisposableDomListener)(this.textarea,"keyup",T=>this._keyUp(T),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keydown",T=>this._keyDown(T),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keypress",T=>this._keyPress(T),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionupdate",T=>this._compositionHelper.compositionupdate(T))),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,g.addDisposableDomListener)(this.textarea,"input",T=>this._inputEvent(T),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(T){var $;if(!T)throw new Error("Terminal requires a parent element.");T.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=T.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),T.appendChild(this.element);const U=G.createDocumentFragment();this._viewportElement=G.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),U.appendChild(this._viewportElement),this._viewportScrollArea=G.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=G.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=G.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),U.appendChild(this.screenElement),this.textarea=G.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",v.promptLabel),H.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(S.CoreBrowserService,this.textarea,($=this._document.defaultView)!==null&&$!==void 0?$:window),this._instantiationService.setService(E.ICoreBrowserService,this._coreBrowserService),this.register((0,g.addDisposableDomListener)(this.textarea,"focus",W=>this._handleTextAreaFocus(W))),this.register((0,g.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(p.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(A.ThemeService),this._instantiationService.setService(E.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(m.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(W=>this._onRender.fire(W))),this.onResize(W=>this._renderService.resize(W.cols,W.rows)),this._compositionView=G.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(f.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(U);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(x.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(C.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(W=>this.scrollLines(W.amount,W.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(b.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(W=>this.scrollLines(W.amount,W.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(W=>this._renderService.handleSelectionChanged(W.start,W.end,W.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(W=>{this.textarea.value=W,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(W=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,g.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(w.BufferDecorationRenderer,this.screenElement)),this.register((0,g.addDisposableDomListener)(this.element,"mousedown",W=>this._selectionService.handleMouseDown(W))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(V.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",W=>this._handleScreenReaderModeOptionChange(W))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(_.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",W=>{!this._overviewRulerRenderer&&W&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(_.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const T=this,$=this.element;function U(Y){const oe=T._mouseService.getMouseReportCoords(Y,T.screenElement);if(!oe)return!1;let Re,We;switch(Y.overrideType||Y.type){case"mousemove":We=32,Y.buttons===void 0?(Re=3,Y.button!==void 0&&(Re=Y.button<3?Y.button:3)):Re=1&Y.buttons?0:4&Y.buttons?1:2&Y.buttons?2:3;break;case"mouseup":We=0,Re=Y.button<3?Y.button:3;break;case"mousedown":We=1,Re=Y.button<3?Y.button:3;break;case"wheel":if(T.viewport.getLinesScrolled(Y)===0)return!1;We=Y.deltaY<0?0:1,Re=4;break;default:return!1}return!(We===void 0||Re===void 0||Re>4)&&T.coreMouseService.triggerMouseEvent({col:oe.col,row:oe.row,x:oe.x,y:oe.y,button:Re,action:We,ctrl:Y.ctrlKey,alt:Y.altKey,shift:Y.shiftKey})}const W={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ee={mouseup:Y=>(U(Y),Y.buttons||(this._document.removeEventListener("mouseup",W.mouseup),W.mousedrag&&this._document.removeEventListener("mousemove",W.mousedrag)),this.cancel(Y)),wheel:Y=>(U(Y),this.cancel(Y,!0)),mousedrag:Y=>{Y.buttons&&U(Y)},mousemove:Y=>{Y.buttons||U(Y)}};this.register(this.coreMouseService.onProtocolChange(Y=>{Y?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(Y)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&Y?W.mousemove||($.addEventListener("mousemove",ee.mousemove),W.mousemove=ee.mousemove):($.removeEventListener("mousemove",W.mousemove),W.mousemove=null),16&Y?W.wheel||($.addEventListener("wheel",ee.wheel,{passive:!1}),W.wheel=ee.wheel):($.removeEventListener("wheel",W.wheel),W.wheel=null),2&Y?W.mouseup||($.addEventListener("mouseup",ee.mouseup),W.mouseup=ee.mouseup):(this._document.removeEventListener("mouseup",W.mouseup),$.removeEventListener("mouseup",W.mouseup),W.mouseup=null),4&Y?W.mousedrag||(W.mousedrag=ee.mousedrag):(this._document.removeEventListener("mousemove",W.mousedrag),W.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,g.addDisposableDomListener)($,"mousedown",Y=>{if(Y.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(Y))return U(Y),W.mouseup&&this._document.addEventListener("mouseup",W.mouseup),W.mousedrag&&this._document.addEventListener("mousemove",W.mousedrag),this.cancel(Y)})),this.register((0,g.addDisposableDomListener)($,"wheel",Y=>{if(!W.wheel){if(!this.buffer.hasScrollback){const oe=this.viewport.getLinesScrolled(Y);if(oe===0)return;const Re=F.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Y.deltaY<0?"A":"B");let We="";for(let Yr=0;Yr<Math.abs(oe);Yr++)We+=Re;return this.coreService.triggerDataEvent(We,!0),this.cancel(Y,!0)}return this.viewport.handleWheel(Y)?this.cancel(Y):void 0}},{passive:!1})),this.register((0,g.addDisposableDomListener)($,"touchstart",Y=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(Y),this.cancel(Y)},{passive:!0})),this.register((0,g.addDisposableDomListener)($,"touchmove",Y=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(Y)?void 0:this.cancel(Y)},{passive:!1}))}refresh(T,$){var U;(U=this._renderService)===null||U===void 0||U.refreshRows(T,$)}updateCursorStyle(T){var $;!(($=this._selectionService)===null||$===void 0)&&$.shouldColumnSelect(T)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(T,$,U=0){var W;U===1?(super.scrollLines(T,$,U),this.refresh(0,this.rows-1)):(W=this.viewport)===null||W===void 0||W.scrollLines(T)}paste(T){(0,h.paste)(T,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(T){this._customKeyEventHandler=T}registerLinkProvider(T){return this.linkifier2.registerLinkProvider(T)}registerCharacterJoiner(T){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const $=this._characterJoinerService.register(T);return this.refresh(0,this.rows-1),$}deregisterCharacterJoiner(T){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(T)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(T){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+T)}registerDecoration(T){return this._decorationService.registerDecoration(T)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(T,$,U){this._selectionService.setSelection(T,$,U)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var T;(T=this._selectionService)===null||T===void 0||T.clearSelection()}selectAll(){var T;(T=this._selectionService)===null||T===void 0||T.selectAll()}selectLines(T,$){var U;(U=this._selectionService)===null||U===void 0||U.selectLines(T,$)}_keyDown(T){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(T)===!1)return!1;const $=this.browser.isMac&&this.options.macOptionIsMeta&&T.altKey;if(!$&&!this._compositionHelper.keydown(T))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;$||T.key!=="Dead"&&T.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const U=(0,R.evaluateKeyboardEvent)(T,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(T),U.type===3||U.type===2){const W=this.rows-1;return this.scrollLines(U.type===2?-W:W),this.cancel(T,!0)}return U.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,T)||(U.cancel&&this.cancel(T,!0),!U.key||!!(T.key&&!T.ctrlKey&&!T.altKey&&!T.metaKey&&T.key.length===1&&T.key.charCodeAt(0)>=65&&T.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(U.key!==F.C0.ETX&&U.key!==F.C0.CR||(this.textarea.value=""),this._onKey.fire({key:U.key,domEvent:T}),this._showCursor(),this.coreService.triggerDataEvent(U.key,!0),!this.optionsService.rawOptions.screenReaderMode||T.altKey||T.ctrlKey?this.cancel(T,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(T,$){const U=T.isMac&&!this.options.macOptionIsMeta&&$.altKey&&!$.ctrlKey&&!$.metaKey||T.isWindows&&$.altKey&&$.ctrlKey&&!$.metaKey||T.isWindows&&$.getModifierState("AltGraph");return $.type==="keypress"?U:U&&(!$.keyCode||$.keyCode>47)}_keyUp(T){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(T)===!1||(function($){return $.keyCode===16||$.keyCode===17||$.keyCode===18}(T)||this.focus(),this.updateCursorStyle(T),this._keyPressHandled=!1)}_keyPress(T){let $;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(T)===!1)return!1;if(this.cancel(T),T.charCode)$=T.charCode;else if(T.which===null||T.which===void 0)$=T.keyCode;else{if(T.which===0||T.charCode===0)return!1;$=T.which}return!(!$||(T.altKey||T.ctrlKey||T.metaKey)&&!this._isThirdLevelShift(this.browser,T)||($=String.fromCharCode($),this._onKey.fire({key:$,domEvent:T}),this._showCursor(),this.coreService.triggerDataEvent($,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(T){if(T.data&&T.inputType==="insertText"&&(!T.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const $=T.data;return this.coreService.triggerDataEvent($,!0),this.cancel(T),!0}return!1}resize(T,$){T!==this.cols||$!==this.rows?super.resize(T,$):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(T,$){var U,W;(U=this._charSizeService)===null||U===void 0||U.measure(),(W=this.viewport)===null||W===void 0||W.syncScrollArea(!0)}clear(){var T;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let $=1;$<this.rows;$++)this.buffer.lines.push(this.buffer.getBlankLine(N.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(T=this.viewport)===null||T===void 0||T.reset(),this.refresh(0,this.rows-1)}}reset(){var T,$;this.options.rows=this.rows,this.options.cols=this.cols;const U=this._customKeyEventHandler;this._setup(),super.reset(),(T=this._selectionService)===null||T===void 0||T.reset(),this._decorationService.reset(),($=this.viewport)===null||$===void 0||$.reset(),this._customKeyEventHandler=U,this.refresh(0,this.rows-1)}clearTextureAtlas(){var T;(T=this._renderService)===null||T===void 0||T.clearTextureAtlas()}_reportFocus(){var T;!((T=this.element)===null||T===void 0)&&T.classList.contains("focus")?this.coreService.triggerDataEvent(F.C0.ESC+"[I"):this.coreService.triggerDataEvent(F.C0.ESC+"[O")}_reportWindowsOptions(T){if(this._renderService)switch(T){case j.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const $=this._renderService.dimensions.css.canvas.width.toFixed(0),U=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${F.C0.ESC}[4;${U};${$}t`);break;case j.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const W=this._renderService.dimensions.css.cell.width.toFixed(0),ee=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${F.C0.ESC}[6;${ee};${W}t`)}}cancel(T,$){if(this.options.cancelEvents||$)return T.preventDefault(),T.stopPropagation(),!1}}a.Terminal=X},9924:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TimeBasedDebouncer=void 0,a.TimeBasedDebouncer=class{constructor(c,h=1e3){this._renderCallback=c,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(c,h,g){this._rowCount=g,c=c!==void 0?c:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;const u=Date.now();if(u-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=u,this._innerRefresh();else if(!this._additionalRefreshRequested){const v=u-this._lastRefreshMs,y=this._debounceThresholdMS-v;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},y)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const c=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,h)}}},1680:function(l,a,c){var h=this&&this.__decorate||function(f,d,p,m){var S,x=arguments.length,k=x<3?d:m===null?m=Object.getOwnPropertyDescriptor(d,p):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(f,d,p,m);else for(var b=f.length-1;b>=0;b--)(S=f[b])&&(k=(x<3?S(k):x>3?S(d,p,k):S(d,p))||k);return x>3&&k&&Object.defineProperty(d,p,k),k},g=this&&this.__param||function(f,d){return function(p,m){d(p,m,f)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Viewport=void 0;const u=c(3656),v=c(4725),y=c(8460),C=c(844),w=c(2585);let _=a.Viewport=class extends C.Disposable{constructor(f,d,p,m,S,x,k,b){super(),this._viewportElement=f,this._scrollArea=d,this._bufferService=p,this._optionsService=m,this._charSizeService=S,this._renderService=x,this._coreBrowserService=k,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new y.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(E=>this._activeBuffer=E.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(E=>this._renderDimensions=E)),this._handleThemeChange(b.colors),this.register(b.onChangeColors(E=>this._handleThemeChange(E))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(f){this._viewportElement.style.backgroundColor=f.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(f){if(f)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const d=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==d&&(this._lastRecordedBufferHeight=d,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const f=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==f&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=f),this._refreshAnimationFrame=null}syncScrollArea(f=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(f);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(f)}_handleScroll(f){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const d=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const f=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(f*(this._smoothScrollState.target-this._smoothScrollState.origin)),f<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(f,d){const p=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(d<0&&this._viewportElement.scrollTop!==0||d>0&&p<this._lastRecordedBufferHeight)||(f.cancelable&&f.preventDefault(),!1)}handleWheel(f){const d=this._getPixelsScrolled(f);return d!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+d:this._smoothScrollState.target+=d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=d,this._bubbleScroll(f,d))}scrollLines(f){if(f!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const d=f*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!1})}_getPixelsScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let d=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_LINE?d*=this._currentRowHeight:f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._currentRowHeight*this._bufferService.rows),d}getBufferElements(f,d){var p;let m,S="";const x=[],k=d??this._bufferService.buffer.lines.length,b=this._bufferService.buffer.lines;for(let E=f;E<k;E++){const A=b.get(E);if(!A)continue;const P=(p=b.get(E+1))===null||p===void 0?void 0:p.isWrapped;if(S+=A.translateToString(!P),!P||E===b.length-1){const D=document.createElement("div");D.textContent=S,x.push(D),S.length>0&&(m=D),S=""}}return{bufferElements:x,cursorElement:m}}getLinesScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let d=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(d/=this._currentRowHeight+0,this._wheelPartialScroll+=d,d=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._bufferService.rows),d}_applyScrollModifier(f,d){const p=this._optionsService.rawOptions.fastScrollModifier;return p==="alt"&&d.altKey||p==="ctrl"&&d.ctrlKey||p==="shift"&&d.shiftKey?f*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:f*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(f){this._lastTouchY=f.touches[0].pageY}handleTouchMove(f){const d=this._lastTouchY-f.touches[0].pageY;return this._lastTouchY=f.touches[0].pageY,d!==0&&(this._viewportElement.scrollTop+=d,this._bubbleScroll(f,d))}};a.Viewport=_=h([g(2,w.IBufferService),g(3,w.IOptionsService),g(4,v.ICharSizeService),g(5,v.IRenderService),g(6,v.ICoreBrowserService),g(7,v.IThemeService)],_)},3107:function(l,a,c){var h=this&&this.__decorate||function(_,f,d,p){var m,S=arguments.length,x=S<3?f:p===null?p=Object.getOwnPropertyDescriptor(f,d):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(_,f,d,p);else for(var k=_.length-1;k>=0;k--)(m=_[k])&&(x=(S<3?m(x):S>3?m(f,d,x):m(f,d))||x);return S>3&&x&&Object.defineProperty(f,d,x),x},g=this&&this.__param||function(_,f){return function(d,p){f(d,p,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferDecorationRenderer=void 0;const u=c(3656),v=c(4725),y=c(844),C=c(2585);let w=a.BufferDecorationRenderer=class extends y.Disposable{constructor(_,f,d,p){super(),this._screenElement=_,this._bufferService=f,this._decorationService=d,this._renderService=p,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,u.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(m=>this._removeDecoration(m))),this.register((0,y.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const _ of this._decorationService.decorations)this._renderDecoration(_);this._dimensionsChanged=!1}_renderDecoration(_){this._refreshStyle(_),this._dimensionsChanged&&this._refreshXPosition(_)}_createElement(_){var f,d;const p=document.createElement("div");p.classList.add("xterm-decoration"),p.classList.toggle("xterm-decoration-top-layer",((f=_==null?void 0:_.options)===null||f===void 0?void 0:f.layer)==="top"),p.style.width=`${Math.round((_.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,p.style.height=(_.options.height||1)*this._renderService.dimensions.css.cell.height+"px",p.style.top=(_.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",p.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const m=(d=_.options.x)!==null&&d!==void 0?d:0;return m&&m>this._bufferService.cols&&(p.style.display="none"),this._refreshXPosition(_,p),p}_refreshStyle(_){const f=_.marker.line-this._bufferService.buffers.active.ydisp;if(f<0||f>=this._bufferService.rows)_.element&&(_.element.style.display="none",_.onRenderEmitter.fire(_.element));else{let d=this._decorationElements.get(_);d||(d=this._createElement(_),_.element=d,this._decorationElements.set(_,d),this._container.appendChild(d),_.onDispose(()=>{this._decorationElements.delete(_),d.remove()})),d.style.top=f*this._renderService.dimensions.css.cell.height+"px",d.style.display=this._altBufferIsActive?"none":"block",_.onRenderEmitter.fire(d)}}_refreshXPosition(_,f=_.element){var d;if(!f)return;const p=(d=_.options.x)!==null&&d!==void 0?d:0;(_.options.anchor||"left")==="right"?f.style.right=p?p*this._renderService.dimensions.css.cell.width+"px":"":f.style.left=p?p*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(_){var f;(f=this._decorationElements.get(_))===null||f===void 0||f.remove(),this._decorationElements.delete(_),_.dispose()}};a.BufferDecorationRenderer=w=h([g(1,C.IBufferService),g(2,C.IDecorationService),g(3,v.IRenderService)],w)},5871:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorZoneStore=void 0,a.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(c){if(c.options.overviewRulerOptions){for(const h of this._zones)if(h.color===c.options.overviewRulerOptions.color&&h.position===c.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,c.marker.line))return;if(this._lineAdjacentToZone(h,c.marker.line,c.options.overviewRulerOptions.position))return void this._addLineToZone(h,c.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=c.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=c.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=c.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=c.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:c.options.overviewRulerOptions.color,position:c.options.overviewRulerOptions.position,startBufferLine:c.marker.line,endBufferLine:c.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(c){this._linePadding=c}_lineIntersectsZone(c,h){return h>=c.startBufferLine&&h<=c.endBufferLine}_lineAdjacentToZone(c,h,g){return h>=c.startBufferLine-this._linePadding[g||"full"]&&h<=c.endBufferLine+this._linePadding[g||"full"]}_addLineToZone(c,h){c.startBufferLine=Math.min(c.startBufferLine,h),c.endBufferLine=Math.max(c.endBufferLine,h)}}},5744:function(l,a,c){var h=this&&this.__decorate||function(m,S,x,k){var b,E=arguments.length,A=E<3?S:k===null?k=Object.getOwnPropertyDescriptor(S,x):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(m,S,x,k);else for(var P=m.length-1;P>=0;P--)(b=m[P])&&(A=(E<3?b(A):E>3?b(S,x,A):b(S,x))||A);return E>3&&A&&Object.defineProperty(S,x,A),A},g=this&&this.__param||function(m,S){return function(x,k){S(x,k,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OverviewRulerRenderer=void 0;const u=c(5871),v=c(3656),y=c(4725),C=c(844),w=c(2585),_={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0};let p=a.OverviewRulerRenderer=class extends C.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(m,S,x,k,b,E,A){var P;super(),this._viewportElement=m,this._screenElement=S,this._bufferService=x,this._decorationService=k,this._renderService=b,this._optionsService=E,this._coreBrowseService=A,this._colorZoneStore=new u.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(P=this._viewportElement.parentElement)===null||P===void 0||P.insertBefore(this._canvas,this._viewportElement);const D=this._canvas.getContext("2d");if(!D)throw new Error("Ctx cannot be null");this._ctx=D,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,C.toDisposable)(()=>{var I;(I=this._canvas)===null||I===void 0||I.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,v.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const m=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);f.full=this._canvas.width,f.left=m,f.center=S,f.right=m,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=f.left,d.right=f.left+f.center}_refreshDrawHeightConstants(){_.full=Math.round(2*this._coreBrowseService.dpr);const m=this._canvas.height/this._bufferService.buffer.lines.length,S=Math.round(Math.max(Math.min(m,12),6)*this._coreBrowseService.dpr);_.left=S,_.center=S,_.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const m=this._colorZoneStore.zones;for(const S of m)S.position!=="full"&&this._renderColorZone(S);for(const S of m)S.position==="full"&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(m){this._ctx.fillStyle=m.color,this._ctx.fillRect(d[m.position||"full"],Math.round((this._canvas.height-1)*(m.startBufferLine/this._bufferService.buffers.active.lines.length)-_[m.position||"full"]/2),f[m.position||"full"],Math.round((this._canvas.height-1)*((m.endBufferLine-m.startBufferLine)/this._bufferService.buffers.active.lines.length)+_[m.position||"full"]))}_queueRefresh(m,S){this._shouldUpdateDimensions=m||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};a.OverviewRulerRenderer=p=h([g(2,w.IBufferService),g(3,w.IDecorationService),g(4,y.IRenderService),g(5,w.IOptionsService),g(6,y.ICoreBrowserService)],p)},2950:function(l,a,c){var h=this&&this.__decorate||function(w,_,f,d){var p,m=arguments.length,S=m<3?_:d===null?d=Object.getOwnPropertyDescriptor(_,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(w,_,f,d);else for(var x=w.length-1;x>=0;x--)(p=w[x])&&(S=(m<3?p(S):m>3?p(_,f,S):p(_,f))||S);return m>3&&S&&Object.defineProperty(_,f,S),S},g=this&&this.__param||function(w,_){return function(f,d){_(f,d,w)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CompositionHelper=void 0;const u=c(4725),v=c(2585),y=c(2584);let C=a.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(w,_,f,d,p,m){this._textarea=w,this._compositionView=_,this._bufferService=f,this._optionsService=d,this._coreService=p,this._renderService=m,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(w){this._compositionView.textContent=w.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(w){if(this._isComposing||this._isSendingComposition){if(w.keyCode===229||w.keyCode===16||w.keyCode===17||w.keyCode===18)return!1;this._finalizeComposition(!1)}return w.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(w){if(this._compositionView.classList.remove("active"),this._isComposing=!1,w){const _={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let f;this._isSendingComposition=!1,_.start+=this._dataAlreadySent.length,f=this._isComposing?this._textarea.value.substring(_.start,_.end):this._textarea.value.substring(_.start),f.length>0&&this._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;const _=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(_,!0)}}_handleAnyTextareaChanges(){const w=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const _=this._textarea.value,f=_.replace(w,"");this._dataAlreadySent=f,_.length>w.length?this._coreService.triggerDataEvent(f,!0):_.length<w.length?this._coreService.triggerDataEvent(`${y.C0.DEL}`,!0):_.length===w.length&&_!==w&&this._coreService.triggerDataEvent(_,!0)}},0)}updateCompositionElements(w){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const _=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.css.cell.height,d=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,p=_*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=p+"px",this._compositionView.style.top=d+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const m=this._compositionView.getBoundingClientRect();this._textarea.style.left=p+"px",this._textarea.style.top=d+"px",this._textarea.style.width=Math.max(m.width,1)+"px",this._textarea.style.height=Math.max(m.height,1)+"px",this._textarea.style.lineHeight=m.height+"px"}w||setTimeout(()=>this.updateCompositionElements(!0),0)}}};a.CompositionHelper=C=h([g(2,v.IBufferService),g(3,v.IOptionsService),g(4,v.ICoreService),g(5,u.IRenderService)],C)},9806:(l,a)=>{function c(h,g,u){const v=u.getBoundingClientRect(),y=h.getComputedStyle(u),C=parseInt(y.getPropertyValue("padding-left")),w=parseInt(y.getPropertyValue("padding-top"));return[g.clientX-v.left-C,g.clientY-v.top-w]}Object.defineProperty(a,"__esModule",{value:!0}),a.getCoords=a.getCoordsRelativeToElement=void 0,a.getCoordsRelativeToElement=c,a.getCoords=function(h,g,u,v,y,C,w,_,f){if(!C)return;const d=c(h,g,u);return d?(d[0]=Math.ceil((d[0]+(f?w/2:0))/w),d[1]=Math.ceil(d[1]/_),d[0]=Math.min(Math.max(d[0],1),v+(f?1:0)),d[1]=Math.min(Math.max(d[1],1),y),d):void 0}},9504:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.moveToCellSequence=void 0;const h=c(2584);function g(_,f,d,p){const m=_-u(_,d),S=f-u(f,d),x=Math.abs(m-S)-function(k,b,E){let A=0;const P=k-u(k,E),D=b-u(b,E);for(let I=0;I<Math.abs(P-D);I++){const O=v(k,b)==="A"?-1:1,H=E.buffer.lines.get(P+O*I);H!=null&&H.isWrapped&&A++}return A}(_,f,d);return w(x,C(v(_,f),p))}function u(_,f){let d=0,p=f.buffer.lines.get(_),m=p==null?void 0:p.isWrapped;for(;m&&_>=0&&_<f.rows;)d++,p=f.buffer.lines.get(--_),m=p==null?void 0:p.isWrapped;return d}function v(_,f){return _>f?"A":"B"}function y(_,f,d,p,m,S){let x=_,k=f,b="";for(;x!==d||k!==p;)x+=m?1:-1,m&&x>S.cols-1?(b+=S.buffer.translateBufferLineToString(k,!1,_,x),x=0,_=0,k++):!m&&x<0&&(b+=S.buffer.translateBufferLineToString(k,!1,0,_+1),x=S.cols-1,_=x,k--);return b+S.buffer.translateBufferLineToString(k,!1,_,x)}function C(_,f){const d=f?"O":"[";return h.C0.ESC+d+_}function w(_,f){_=Math.floor(_);let d="";for(let p=0;p<_;p++)d+=f;return d}a.moveToCellSequence=function(_,f,d,p){const m=d.buffer.x,S=d.buffer.y;if(!d.buffer.hasScrollback)return function(b,E,A,P,D,I){return g(E,P,D,I).length===0?"":w(y(b,E,b,E-u(E,D),!1,D).length,C("D",I))}(m,S,0,f,d,p)+g(S,f,d,p)+function(b,E,A,P,D,I){let O;O=g(E,P,D,I).length>0?P-u(P,D):E;const H=P,N=function(F,R,L,M,B,j){let V;return V=g(L,M,B,j).length>0?M-u(M,B):R,F<L&&V<=M||F>=L&&V<M?"C":"D"}(b,E,A,P,D,I);return w(y(b,O,A,H,N==="C",D).length,C(N,I))}(m,S,_,f,d,p);let x;if(S===f)return x=m>_?"D":"C",w(Math.abs(m-_),C(x,p));x=S>f?"D":"C";const k=Math.abs(S-f);return w(function(b,E){return E.cols-b}(S>f?_:m,d)+(k-1)*d.cols+1+((S>f?m:_)-1),C(x,p))}},1296:function(l,a,c){var h=this&&this.__decorate||function(D,I,O,H){var N,F=arguments.length,R=F<3?I:H===null?H=Object.getOwnPropertyDescriptor(I,O):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(D,I,O,H);else for(var L=D.length-1;L>=0;L--)(N=D[L])&&(R=(F<3?N(R):F>3?N(I,O,R):N(I,O))||R);return F>3&&R&&Object.defineProperty(I,O,R),R},g=this&&this.__param||function(D,I){return function(O,H){I(O,H,D)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRenderer=void 0;const u=c(3787),v=c(2550),y=c(2223),C=c(6171),w=c(4725),_=c(8055),f=c(8460),d=c(844),p=c(2585),m="xterm-dom-renderer-owner-",S="xterm-rows",x="xterm-fg-",k="xterm-bg-",b="xterm-focus",E="xterm-selection";let A=1,P=a.DomRenderer=class extends d.Disposable{constructor(D,I,O,H,N,F,R,L,M,B){super(),this._element=D,this._screenElement=I,this._viewportElement=O,this._linkifier2=H,this._charSizeService=F,this._optionsService=R,this._bufferService=L,this._coreBrowserService=M,this._themeService=B,this._terminalClass=A++,this._rowElements=[],this.onRequestRedraw=this.register(new f.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(S),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(E),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,C.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(j=>this._injectCss(j))),this._injectCss(this._themeService.colors),this._rowFactory=N.createInstance(u.DomRendererRowFactory,document),this._element.classList.add(m+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(j=>this._handleLinkHover(j))),this.register(this._linkifier2.onHideLinkUnderline(j=>this._handleLinkLeave(j))),this.register((0,d.toDisposable)(()=>{this._element.classList.remove(m+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new v.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const D=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*D,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*D),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/D),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/D),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const O of this._rowElements)O.style.width=`${this.dimensions.css.canvas.width}px`,O.style.height=`${this.dimensions.css.cell.height}px`,O.style.lineHeight=`${this.dimensions.css.cell.height}px`,O.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const I=`${this._terminalSelector} .${S} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=I,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(D){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let I=`${this._terminalSelector} .${S} { color: ${D.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;I+=`${this._terminalSelector} .${S} .xterm-dim { color: ${_.color.multiplyOpacity(D.foreground,.5).css};}`,I+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,I+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",I+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${D.cursor.css};  color: ${D.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${D.cursor.css}; }}`,I+=`${this._terminalSelector} .${S}.${b} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S}.${b} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-block { background-color: ${D.cursor.css}; color: ${D.cursorAccent.css};}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${D.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${D.cursor.css} inset;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${D.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,I+=`${this._terminalSelector} .${E} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${E} div { position: absolute; background-color: ${D.selectionBackgroundOpaque.css};}${this._terminalSelector} .${E} div { position: absolute; background-color: ${D.selectionInactiveBackgroundOpaque.css};}`;for(const[O,H]of D.ansi.entries())I+=`${this._terminalSelector} .${x}${O} { color: ${H.css}; }${this._terminalSelector} .${x}${O}.xterm-dim { color: ${_.color.multiplyOpacity(H,.5).css}; }${this._terminalSelector} .${k}${O} { background-color: ${H.css}; }`;I+=`${this._terminalSelector} .${x}${y.INVERTED_DEFAULT_COLOR} { color: ${_.color.opaque(D.background).css}; }${this._terminalSelector} .${x}${y.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${_.color.multiplyOpacity(_.color.opaque(D.background),.5).css}; }${this._terminalSelector} .${k}${y.INVERTED_DEFAULT_COLOR} { background-color: ${D.foreground.css}; }`,this._themeStyleElement.textContent=I}_setDefaultSpacing(){const D=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${D}px`,this._rowFactory.defaultSpacing=D}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(D,I){for(let O=this._rowElements.length;O<=I;O++){const H=document.createElement("div");this._rowContainer.appendChild(H),this._rowElements.push(H)}for(;this._rowElements.length>I;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(D,I){this._refreshRowElements(D,I),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(b)}handleFocus(){this._rowContainer.classList.add(b),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(D,I,O){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(D,I,O),this.renderRows(0,this._bufferService.rows-1),!D||!I)return;const H=D[1]-this._bufferService.buffer.ydisp,N=I[1]-this._bufferService.buffer.ydisp,F=Math.max(H,0),R=Math.min(N,this._bufferService.rows-1);if(F>=this._bufferService.rows||R<0)return;const L=document.createDocumentFragment();if(O){const M=D[0]>I[0];L.appendChild(this._createSelectionElement(F,M?I[0]:D[0],M?D[0]:I[0],R-F+1))}else{const M=H===F?D[0]:0,B=F===N?I[0]:this._bufferService.cols;L.appendChild(this._createSelectionElement(F,M,B));const j=R-F-1;if(L.appendChild(this._createSelectionElement(F+1,0,this._bufferService.cols,j)),F!==R){const V=N===R?I[0]:this._bufferService.cols;L.appendChild(this._createSelectionElement(R,0,V))}}this._selectionContainer.appendChild(L)}_createSelectionElement(D,I,O,H=1){const N=document.createElement("div");return N.style.height=H*this.dimensions.css.cell.height+"px",N.style.top=D*this.dimensions.css.cell.height+"px",N.style.left=I*this.dimensions.css.cell.width+"px",N.style.width=this.dimensions.css.cell.width*(O-I)+"px",N}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const D of this._rowElements)D.replaceChildren()}renderRows(D,I){const O=this._bufferService.buffer,H=O.ybase+O.y,N=Math.min(O.x,this._bufferService.cols-1),F=this._optionsService.rawOptions.cursorBlink,R=this._optionsService.rawOptions.cursorStyle,L=this._optionsService.rawOptions.cursorInactiveStyle;for(let M=D;M<=I;M++){const B=M+O.ydisp,j=this._rowElements[M],V=O.lines.get(B);if(!j||!V)break;j.replaceChildren(...this._rowFactory.createRow(V,B,B===H,R,L,N,F,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${m}${this._terminalClass}`}_handleLinkHover(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!0)}_handleLinkLeave(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!1)}_setCellUnderline(D,I,O,H,N,F){O<0&&(D=0),H<0&&(I=0);const R=this._bufferService.rows-1;O=Math.max(Math.min(O,R),0),H=Math.max(Math.min(H,R),0),N=Math.min(N,this._bufferService.cols);const L=this._bufferService.buffer,M=L.ybase+L.y,B=Math.min(L.x,N-1),j=this._optionsService.rawOptions.cursorBlink,V=this._optionsService.rawOptions.cursorStyle,G=this._optionsService.rawOptions.cursorInactiveStyle;for(let X=O;X<=H;++X){const J=X+L.ydisp,T=this._rowElements[X],$=L.lines.get(J);if(!T||!$)break;T.replaceChildren(...this._rowFactory.createRow($,J,J===M,V,G,B,j,this.dimensions.css.cell.width,this._widthCache,F?X===O?D:0:-1,F?(X===H?I:N)-1:-1))}}};a.DomRenderer=P=h([g(4,p.IInstantiationService),g(5,w.ICharSizeService),g(6,p.IOptionsService),g(7,p.IBufferService),g(8,w.ICoreBrowserService),g(9,w.IThemeService)],P)},3787:function(l,a,c){var h=this&&this.__decorate||function(x,k,b,E){var A,P=arguments.length,D=P<3?k:E===null?E=Object.getOwnPropertyDescriptor(k,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(x,k,b,E);else for(var I=x.length-1;I>=0;I--)(A=x[I])&&(D=(P<3?A(D):P>3?A(k,b,D):A(k,b))||D);return P>3&&D&&Object.defineProperty(k,b,D),D},g=this&&this.__param||function(x,k){return function(b,E){k(b,E,x)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRendererRowFactory=void 0;const u=c(2223),v=c(643),y=c(511),C=c(2585),w=c(8055),_=c(4725),f=c(4269),d=c(6171),p=c(3734);let m=a.DomRendererRowFactory=class{constructor(x,k,b,E,A,P,D){this._document=x,this._characterJoinerService=k,this._optionsService=b,this._coreBrowserService=E,this._coreService=A,this._decorationService=P,this._themeService=D,this._workCell=new y.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(x,k,b){this._selectionStart=x,this._selectionEnd=k,this._columnSelectMode=b}createRow(x,k,b,E,A,P,D,I,O,H,N){const F=[],R=this._characterJoinerService.getJoinedCharacters(k),L=this._themeService.colors;let M,B=x.getNoBgTrimmedLength();b&&B<P+1&&(B=P+1);let j=0,V="",G=0,X=0,J=0,T=!1,$=0,U=!1,W=0;const ee=[],Y=H!==-1&&N!==-1;for(let oe=0;oe<B;oe++){x.loadCell(oe,this._workCell);let Re=this._workCell.getWidth();if(Re===0)continue;let We=!1,Yr=oe,te=this._workCell;if(R.length>0&&oe===R[0][0]){We=!0;const ge=R.shift();te=new f.JoinedCellData(this._workCell,x.translateToString(!0,ge[0],ge[1]),ge[1]-ge[0]),Yr=ge[1]-1,Re=te.getWidth()}const In=this._isCellInSelection(oe,k),Go=b&&oe===P,Xo=Y&&oe>=H&&oe<=N;let Yo=!1;this._decorationService.forEachDecorationAtCell(oe,k,void 0,ge=>{Yo=!0});let es=te.getChars()||v.WHITESPACE_CELL_CHAR;if(es===" "&&(te.isUnderline()||te.isOverline())&&(es=""),W=Re*I-O.get(es,te.isBold(),te.isItalic()),M){if(j&&(In&&U||!In&&!U&&te.bg===G)&&(In&&U&&L.selectionForeground||te.fg===X)&&te.extended.ext===J&&Xo===T&&W===$&&!Go&&!We&&!Yo){V+=es,j++;continue}j&&(M.textContent=V),M=this._document.createElement("span"),j=0,V=""}else M=this._document.createElement("span");if(G=te.bg,X=te.fg,J=te.extended.ext,T=Xo,$=W,U=In,We&&P>=oe&&P<=Yr&&(P=oe),!this._coreService.isCursorHidden&&Go){if(ee.push("xterm-cursor"),this._coreBrowserService.isFocused)D&&ee.push("xterm-cursor-blink"),ee.push(E==="bar"?"xterm-cursor-bar":E==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(A)switch(A){case"outline":ee.push("xterm-cursor-outline");break;case"block":ee.push("xterm-cursor-block");break;case"bar":ee.push("xterm-cursor-bar");break;case"underline":ee.push("xterm-cursor-underline")}}if(te.isBold()&&ee.push("xterm-bold"),te.isItalic()&&ee.push("xterm-italic"),te.isDim()&&ee.push("xterm-dim"),V=te.isInvisible()?v.WHITESPACE_CELL_CHAR:te.getChars()||v.WHITESPACE_CELL_CHAR,te.isUnderline()&&(ee.push(`xterm-underline-${te.extended.underlineStyle}`),V===" "&&(V=""),!te.isUnderlineColorDefault()))if(te.isUnderlineColorRGB())M.style.textDecorationColor=`rgb(${p.AttributeData.toColorRGB(te.getUnderlineColor()).join(",")})`;else{let ge=te.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&te.isBold()&&ge<8&&(ge+=8),M.style.textDecorationColor=L.ansi[ge].css}te.isOverline()&&(ee.push("xterm-overline"),V===" "&&(V="")),te.isStrikethrough()&&ee.push("xterm-strikethrough"),Xo&&(M.style.textDecoration="underline");let ot=te.getFgColor(),Bn=te.getFgColorMode(),At=te.getBgColor(),Nn=te.getBgColorMode();const Qo=!!te.isInverse();if(Qo){const ge=ot;ot=At,At=ge;const Qp=Bn;Bn=Nn,Nn=Qp}let sr,Zo,or,zn=!1;switch(this._decorationService.forEachDecorationAtCell(oe,k,void 0,ge=>{ge.options.layer!=="top"&&zn||(ge.backgroundColorRGB&&(Nn=50331648,At=ge.backgroundColorRGB.rgba>>8&16777215,sr=ge.backgroundColorRGB),ge.foregroundColorRGB&&(Bn=50331648,ot=ge.foregroundColorRGB.rgba>>8&16777215,Zo=ge.foregroundColorRGB),zn=ge.options.layer==="top")}),!zn&&In&&(sr=this._coreBrowserService.isFocused?L.selectionBackgroundOpaque:L.selectionInactiveBackgroundOpaque,At=sr.rgba>>8&16777215,Nn=50331648,zn=!0,L.selectionForeground&&(Bn=50331648,ot=L.selectionForeground.rgba>>8&16777215,Zo=L.selectionForeground)),zn&&ee.push("xterm-decoration-top"),Nn){case 16777216:case 33554432:or=L.ansi[At],ee.push(`xterm-bg-${At}`);break;case 50331648:or=w.rgba.toColor(At>>16,At>>8&255,255&At),this._addStyle(M,`background-color:#${S((At>>>0).toString(16),"0",6)}`);break;default:Qo?(or=L.foreground,ee.push(`xterm-bg-${u.INVERTED_DEFAULT_COLOR}`)):or=L.background}switch(sr||te.isDim()&&(sr=w.color.multiplyOpacity(or,.5)),Bn){case 16777216:case 33554432:te.isBold()&&ot<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ot+=8),this._applyMinimumContrast(M,or,L.ansi[ot],te,sr,void 0)||ee.push(`xterm-fg-${ot}`);break;case 50331648:const ge=w.rgba.toColor(ot>>16&255,ot>>8&255,255&ot);this._applyMinimumContrast(M,or,ge,te,sr,Zo)||this._addStyle(M,`color:#${S(ot.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(M,or,L.foreground,te,sr,void 0)||Qo&&ee.push(`xterm-fg-${u.INVERTED_DEFAULT_COLOR}`)}ee.length&&(M.className=ee.join(" "),ee.length=0),Go||We||Yo?M.textContent=V:j++,W!==this.defaultSpacing&&(M.style.letterSpacing=`${W}px`),F.push(M),oe=Yr}return M&&j&&(M.textContent=V),F}_applyMinimumContrast(x,k,b,E,A,P){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,d.excludeFromContrastRatioDemands)(E.getCode()))return!1;const D=this._getContrastCache(E);let I;if(A||P||(I=D.getColor(k.rgba,b.rgba)),I===void 0){const O=this._optionsService.rawOptions.minimumContrastRatio/(E.isDim()?2:1);I=w.color.ensureContrastRatio(A||k,P||b,O),D.setColor((A||k).rgba,(P||b).rgba,I??null)}return!!I&&(this._addStyle(x,`color:${I.css}`),!0)}_getContrastCache(x){return x.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(x,k){x.setAttribute("style",`${x.getAttribute("style")||""}${k};`)}_isCellInSelection(x,k){const b=this._selectionStart,E=this._selectionEnd;return!(!b||!E)&&(this._columnSelectMode?b[0]<=E[0]?x>=b[0]&&k>=b[1]&&x<E[0]&&k<=E[1]:x<b[0]&&k>=b[1]&&x>=E[0]&&k<=E[1]:k>b[1]&&k<E[1]||b[1]===E[1]&&k===b[1]&&x>=b[0]&&x<E[0]||b[1]<E[1]&&k===E[1]&&x<E[0]||b[1]<E[1]&&k===b[1]&&x>=b[0])}};function S(x,k,b){for(;x.length<b;)x=k+x;return x}a.DomRendererRowFactory=m=h([g(1,_.ICharacterJoinerService),g(2,C.IOptionsService),g(3,_.ICoreBrowserService),g(4,C.ICoreService),g(5,C.IDecorationService),g(6,_.IThemeService)],m)},2550:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WidthCache=void 0,a.WidthCache=class{constructor(c){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=c.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const h=c.createElement("span"),g=c.createElement("span");g.style.fontWeight="bold";const u=c.createElement("span");u.style.fontStyle="italic";const v=c.createElement("span");v.style.fontWeight="bold",v.style.fontStyle="italic",this._measureElements=[h,g,u,v],this._container.appendChild(h),this._container.appendChild(g),this._container.appendChild(u),this._container.appendChild(v),c.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(c,h,g,u){c===this._font&&h===this._fontSize&&g===this._weight&&u===this._weightBold||(this._font=c,this._fontSize=h,this._weight=g,this._weightBold=u,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${g}`,this._measureElements[1].style.fontWeight=`${u}`,this._measureElements[2].style.fontWeight=`${g}`,this._measureElements[3].style.fontWeight=`${u}`,this.clear())}get(c,h,g){let u=0;if(!h&&!g&&c.length===1&&(u=c.charCodeAt(0))<256)return this._flat[u]!==-9999?this._flat[u]:this._flat[u]=this._measure(c,0);let v=c;h&&(v+="B"),g&&(v+="I");let y=this._holey.get(v);if(y===void 0){let C=0;h&&(C|=1),g&&(C|=2),y=this._measure(c,C),this._holey.set(v,y)}return y}_measure(c,h){const g=this._measureElements[h];return g.textContent=c.repeat(32),g.offsetWidth/32}}},2223:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TEXT_BASELINE=a.DIM_OPACITY=a.INVERTED_DEFAULT_COLOR=void 0;const h=c(6114);a.INVERTED_DEFAULT_COLOR=257,a.DIM_OPACITY=.5,a.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(l,a)=>{function c(h){return 57508<=h&&h<=57558}Object.defineProperty(a,"__esModule",{value:!0}),a.createRenderDimensions=a.excludeFromContrastRatioDemands=a.isRestrictedPowerlineGlyph=a.isPowerlineGlyph=a.throwIfFalsy=void 0,a.throwIfFalsy=function(h){if(!h)throw new Error("value must not be falsy");return h},a.isPowerlineGlyph=c,a.isRestrictedPowerlineGlyph=function(h){return 57520<=h&&h<=57527},a.excludeFromContrastRatioDemands=function(h){return c(h)||function(g){return 9472<=g&&g<=9631}(h)},a.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionModel=void 0,a.SelectionModel=class{constructor(c){this._bufferService=c,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?c%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)-1]:[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[c,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[Math.max(c,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const c=this.selectionStart,h=this.selectionEnd;return!(!c||!h)&&(c[1]>h[1]||c[1]===h[1]&&c[0]>h[0])}handleTrim(c){return this.selectionStart&&(this.selectionStart[1]-=c),this.selectionEnd&&(this.selectionEnd[1]-=c),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(l,a,c){var h=this&&this.__decorate||function(_,f,d,p){var m,S=arguments.length,x=S<3?f:p===null?p=Object.getOwnPropertyDescriptor(f,d):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(_,f,d,p);else for(var k=_.length-1;k>=0;k--)(m=_[k])&&(x=(S<3?m(x):S>3?m(f,d,x):m(f,d))||x);return S>3&&x&&Object.defineProperty(f,d,x),x},g=this&&this.__param||function(_,f){return function(d,p){f(d,p,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharSizeService=void 0;const u=c(2585),v=c(8460),y=c(844);let C=a.CharSizeService=class extends y.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(_,f,d){super(),this._optionsService=d,this.width=0,this.height=0,this._onCharSizeChange=this.register(new v.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new w(_,f,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const _=this._measureStrategy.measure();_.width===this.width&&_.height===this.height||(this.width=_.width,this.height=_.height,this._onCharSizeChange.fire())}};a.CharSizeService=C=h([g(2,u.IOptionsService)],C);class w{constructor(f,d,p){this._document=f,this._parentElement=d,this._optionsService=p,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const f={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return f.width!==0&&f.height!==0&&(this._result.width=f.width/32,this._result.height=Math.ceil(f.height)),this._result}}},4269:function(l,a,c){var h=this&&this.__decorate||function(f,d,p,m){var S,x=arguments.length,k=x<3?d:m===null?m=Object.getOwnPropertyDescriptor(d,p):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(f,d,p,m);else for(var b=f.length-1;b>=0;b--)(S=f[b])&&(k=(x<3?S(k):x>3?S(d,p,k):S(d,p))||k);return x>3&&k&&Object.defineProperty(d,p,k),k},g=this&&this.__param||function(f,d){return function(p,m){d(p,m,f)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharacterJoinerService=a.JoinedCellData=void 0;const u=c(3734),v=c(643),y=c(511),C=c(2585);class w extends u.AttributeData{constructor(d,p,m){super(),this.content=0,this.combinedData="",this.fg=d.fg,this.bg=d.bg,this.combinedData=p,this._width=m}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(d){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.JoinedCellData=w;let _=a.CharacterJoinerService=class Xp{constructor(d){this._bufferService=d,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new y.CellData}register(d){const p={id:this._nextCharacterJoinerId++,handler:d};return this._characterJoiners.push(p),p.id}deregister(d){for(let p=0;p<this._characterJoiners.length;p++)if(this._characterJoiners[p].id===d)return this._characterJoiners.splice(p,1),!0;return!1}getJoinedCharacters(d){if(this._characterJoiners.length===0)return[];const p=this._bufferService.buffer.lines.get(d);if(!p||p.length===0)return[];const m=[],S=p.translateToString(!0);let x=0,k=0,b=0,E=p.getFg(0),A=p.getBg(0);for(let P=0;P<p.getTrimmedLength();P++)if(p.loadCell(P,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==A){if(P-x>1){const D=this._getJoinedRanges(S,b,k,p,x);for(let I=0;I<D.length;I++)m.push(D[I])}x=P,b=k,E=this._workCell.fg,A=this._workCell.bg}k+=this._workCell.getChars().length||v.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-x>1){const P=this._getJoinedRanges(S,b,k,p,x);for(let D=0;D<P.length;D++)m.push(P[D])}return m}_getJoinedRanges(d,p,m,S,x){const k=d.substring(p,m);let b=[];try{b=this._characterJoiners[0].handler(k)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const A=this._characterJoiners[E].handler(k);for(let P=0;P<A.length;P++)Xp._mergeRanges(b,A[P])}catch(A){console.error(A)}return this._stringRangesToCellRanges(b,S,x),b}_stringRangesToCellRanges(d,p,m){let S=0,x=!1,k=0,b=d[S];if(b){for(let E=m;E<this._bufferService.cols;E++){const A=p.getWidth(E),P=p.getString(E).length||v.WHITESPACE_CELL_CHAR.length;if(A!==0){if(!x&&b[0]<=k&&(b[0]=E,x=!0),b[1]<=k){if(b[1]=E,b=d[++S],!b)break;b[0]<=k?(b[0]=E,x=!0):x=!1}k+=P}}b&&(b[1]=this._bufferService.cols)}}static _mergeRanges(d,p){let m=!1;for(let S=0;S<d.length;S++){const x=d[S];if(m){if(p[1]<=x[0])return d[S-1][1]=p[1],d;if(p[1]<=x[1])return d[S-1][1]=Math.max(p[1],x[1]),d.splice(S,1),d;d.splice(S,1),S--}else{if(p[1]<=x[0])return d.splice(S,0,p),d;if(p[1]<=x[1])return x[0]=Math.min(p[0],x[0]),d;p[0]<x[1]&&(x[0]=Math.min(p[0],x[0]),m=!0)}}return m?d[d.length-1][1]=p[1]:d.push(p),d}};a.CharacterJoinerService=_=h([g(0,C.IBufferService)],_)},5114:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreBrowserService=void 0,a.CoreBrowserService=class{constructor(c,h){this._textarea=c,this.window=h,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(l,a,c){var h=this&&this.__decorate||function(C,w,_,f){var d,p=arguments.length,m=p<3?w:f===null?f=Object.getOwnPropertyDescriptor(w,_):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(C,w,_,f);else for(var S=C.length-1;S>=0;S--)(d=C[S])&&(m=(p<3?d(m):p>3?d(w,_,m):d(w,_))||m);return p>3&&m&&Object.defineProperty(w,_,m),m},g=this&&this.__param||function(C,w){return function(_,f){w(_,f,C)}};Object.defineProperty(a,"__esModule",{value:!0}),a.MouseService=void 0;const u=c(4725),v=c(9806);let y=a.MouseService=class{constructor(C,w){this._renderService=C,this._charSizeService=w}getCoords(C,w,_,f,d){return(0,v.getCoords)(window,C,w,_,f,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,d)}getMouseReportCoords(C,w){const _=(0,v.getCoordsRelativeToElement)(window,C,w);if(this._charSizeService.hasValidSize)return _[0]=Math.min(Math.max(_[0],0),this._renderService.dimensions.css.canvas.width-1),_[1]=Math.min(Math.max(_[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(_[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(_[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(_[0]),y:Math.floor(_[1])}}};a.MouseService=y=h([g(0,u.IRenderService),g(1,u.ICharSizeService)],y)},3230:function(l,a,c){var h=this&&this.__decorate||function(m,S,x,k){var b,E=arguments.length,A=E<3?S:k===null?k=Object.getOwnPropertyDescriptor(S,x):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(m,S,x,k);else for(var P=m.length-1;P>=0;P--)(b=m[P])&&(A=(E<3?b(A):E>3?b(S,x,A):b(S,x))||A);return E>3&&A&&Object.defineProperty(S,x,A),A},g=this&&this.__param||function(m,S){return function(x,k){S(x,k,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.RenderService=void 0;const u=c(3656),v=c(6193),y=c(5596),C=c(4725),w=c(8460),_=c(844),f=c(7226),d=c(2585);let p=a.RenderService=class extends _.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(m,S,x,k,b,E,A,P){if(super(),this._rowCount=m,this._charSizeService=k,this._renderer=this.register(new _.MutableDisposable),this._pausedResizeTask=new f.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new w.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new w.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new w.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new v.RenderDebouncer(A.window,(D,I)=>this._renderRows(D,I)),this.register(this._renderDebouncer),this._screenDprMonitor=new y.ScreenDprMonitor(A.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var D;return(D=this._renderer.value)===null||D===void 0?void 0:D.clear()})),this.register(x.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(b.onDecorationRegistered(()=>this._fullRefresh())),this.register(b.onDecorationRemoved(()=>this._fullRefresh())),this.register(x.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()})),this.register(x.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(E.buffer.y,E.buffer.y,!0))),this.register((0,u.addDisposableDomListener)(A.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(P.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in A.window){const D=new A.window.IntersectionObserver(I=>this._handleIntersectionChange(I[I.length-1]),{threshold:0});D.observe(S),this.register({dispose:()=>D.disconnect()})}}_handleIntersectionChange(m){this._isPaused=m.isIntersecting===void 0?m.intersectionRatio===0:!m.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(m,S,x=!1){this._isPaused?this._needsFullRefresh=!0:(x||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(m,S,this._rowCount))}_renderRows(m,S){this._renderer.value&&(m=Math.min(m,this._rowCount-1),S=Math.min(S,this._rowCount-1),this._renderer.value.renderRows(m,S),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:m,end:S}),this._onRender.fire({start:m,end:S}),this._isNextRenderRedrawOnly=!0)}resize(m,S){this._rowCount=S,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(m){this._renderer.value=m,this._renderer.value.onRequestRedraw(S=>this.refreshRows(S.start,S.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(m){return this._renderDebouncer.addRefreshCallback(m)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var m,S;this._renderer.value&&((S=(m=this._renderer.value).clearTextureAtlas)===null||S===void 0||S.call(m),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(m,S){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(m,S)):this._renderer.value.handleResize(m,S),this._fullRefresh())}handleCharSizeChanged(){var m;(m=this._renderer.value)===null||m===void 0||m.handleCharSizeChanged()}handleBlur(){var m;(m=this._renderer.value)===null||m===void 0||m.handleBlur()}handleFocus(){var m;(m=this._renderer.value)===null||m===void 0||m.handleFocus()}handleSelectionChanged(m,S,x){var k;this._selectionState.start=m,this._selectionState.end=S,this._selectionState.columnSelectMode=x,(k=this._renderer.value)===null||k===void 0||k.handleSelectionChanged(m,S,x)}handleCursorMove(){var m;(m=this._renderer.value)===null||m===void 0||m.handleCursorMove()}clear(){var m;(m=this._renderer.value)===null||m===void 0||m.clear()}};a.RenderService=p=h([g(2,d.IOptionsService),g(3,C.ICharSizeService),g(4,d.IDecorationService),g(5,d.IBufferService),g(6,C.ICoreBrowserService),g(7,C.IThemeService)],p)},9312:function(l,a,c){var h=this&&this.__decorate||function(b,E,A,P){var D,I=arguments.length,O=I<3?E:P===null?P=Object.getOwnPropertyDescriptor(E,A):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(b,E,A,P);else for(var H=b.length-1;H>=0;H--)(D=b[H])&&(O=(I<3?D(O):I>3?D(E,A,O):D(E,A))||O);return I>3&&O&&Object.defineProperty(E,A,O),O},g=this&&this.__param||function(b,E){return function(A,P){E(A,P,b)}};Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionService=void 0;const u=c(9806),v=c(9504),y=c(456),C=c(4725),w=c(8460),_=c(844),f=c(6114),d=c(4841),p=c(511),m=c(2585),S=String.fromCharCode(160),x=new RegExp(S,"g");let k=a.SelectionService=class extends _.Disposable{constructor(b,E,A,P,D,I,O,H,N){super(),this._element=b,this._screenElement=E,this._linkifier=A,this._bufferService=P,this._coreService=D,this._mouseService=I,this._optionsService=O,this._renderService=H,this._coreBrowserService=N,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new p.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new w.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new w.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new w.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=F=>this._handleMouseMove(F),this._mouseUpListener=F=>this._handleMouseUp(F),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(F=>this._handleTrim(F)),this.register(this._bufferService.buffers.onBufferActivate(F=>this._handleBufferActivate(F))),this.enable(),this._model=new y.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,_.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const b=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!b||!E||b[0]===E[0]&&b[1]===E[1])}get selectionText(){const b=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!b||!E)return"";const A=this._bufferService.buffer,P=[];if(this._activeSelectionMode===3){if(b[0]===E[0])return"";const D=b[0]<E[0]?b[0]:E[0],I=b[0]<E[0]?E[0]:b[0];for(let O=b[1];O<=E[1];O++){const H=A.translateBufferLineToString(O,!0,D,I);P.push(H)}}else{const D=b[1]===E[1]?E[0]:void 0;P.push(A.translateBufferLineToString(b[1],!0,b[0],D));for(let I=b[1]+1;I<=E[1]-1;I++){const O=A.lines.get(I),H=A.translateBufferLineToString(I,!0);O!=null&&O.isWrapped?P[P.length-1]+=H:P.push(H)}if(b[1]!==E[1]){const I=A.lines.get(E[1]),O=A.translateBufferLineToString(E[1],!0,0,E[0]);I&&I.isWrapped?P[P.length-1]+=O:P.push(O)}}return P.map(D=>D.replace(x," ")).join(f.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(b){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),f.isLinux&&b&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(b){const E=this._getMouseBufferCoords(b),A=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;return!!(A&&P&&E)&&this._areCoordsInSelection(E,A,P)}isCellInSelection(b,E){const A=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;return!(!A||!P)&&this._areCoordsInSelection([b,E],A,P)}_areCoordsInSelection(b,E,A){return b[1]>E[1]&&b[1]<A[1]||E[1]===A[1]&&b[1]===E[1]&&b[0]>=E[0]&&b[0]<A[0]||E[1]<A[1]&&b[1]===A[1]&&b[0]<A[0]||E[1]<A[1]&&b[1]===E[1]&&b[0]>=E[0]}_selectWordAtCursor(b,E){var A,P;const D=(P=(A=this._linkifier.currentLink)===null||A===void 0?void 0:A.link)===null||P===void 0?void 0:P.range;if(D)return this._model.selectionStart=[D.start.x-1,D.start.y-1],this._model.selectionStartLength=(0,d.getRangeLength)(D,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const I=this._getMouseBufferCoords(b);return!!I&&(this._selectWordAt(I,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(b,E){this._model.clearSelection(),b=Math.max(b,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,b],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_handleTrim(b){this._model.handleTrim(b)&&this.refresh()}_getMouseBufferCoords(b){const E=this._mouseService.getCoords(b,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(b){let E=(0,u.getCoordsRelativeToElement)(this._coreBrowserService.window,b,this._screenElement)[1];const A=this._renderService.dimensions.css.canvas.height;return E>=0&&E<=A?0:(E>A&&(E-=A),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(b){return f.isMac?b.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:b.shiftKey}handleMouseDown(b){if(this._mouseDownTimeStamp=b.timeStamp,(b.button!==2||!this.hasSelection)&&b.button===0){if(!this._enabled){if(!this.shouldForceSelection(b))return;b.stopPropagation()}b.preventDefault(),this._dragScrollAmount=0,this._enabled&&b.shiftKey?this._handleIncrementalClick(b):b.detail===1?this._handleSingleClick(b):b.detail===2?this._handleDoubleClick(b):b.detail===3&&this._handleTripleClick(b),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(b){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(b))}_handleSingleClick(b){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(b)?3:0,this._model.selectionStart=this._getMouseBufferCoords(b),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(b){this._selectWordAtCursor(b,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(b){const E=this._getMouseBufferCoords(b);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(b){return b.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(b){if(b.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(b),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(b),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const A=this._bufferService.buffer;if(this._model.selectionEnd[1]<A.lines.length){const P=A.lines.get(this._model.selectionEnd[1]);P&&P.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const b=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(b.ydisp+this._bufferService.rows,b.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=b.ydisp),this.refresh()}}_handleMouseUp(b){const E=b.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&b.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const A=this._mouseService.getCoords(b,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(A&&A[0]!==void 0&&A[1]!==void 0){const P=(0,v.moveToCellSequence)(A[0]-1,A[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(P,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const b=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,A=!(!b||!E||b[0]===E[0]&&b[1]===E[1]);A?b&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&b[0]===this._oldSelectionStart[0]&&b[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(b,E,A)):this._oldHasSelection&&this._fireOnSelectionChange(b,E,A)}_fireOnSelectionChange(b,E,A){this._oldSelectionStart=b,this._oldSelectionEnd=E,this._oldHasSelection=A,this._onSelectionChange.fire()}_handleBufferActivate(b){this.clearSelection(),this._trimListener.dispose(),this._trimListener=b.activeBuffer.lines.onTrim(E=>this._handleTrim(E))}_convertViewportColToCharacterIndex(b,E){let A=E;for(let P=0;E>=P;P++){const D=b.loadCell(P,this._workCell).getChars().length;this._workCell.getWidth()===0?A--:D>1&&E!==P&&(A+=D-1)}return A}setSelection(b,E,A){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[b,E],this._model.selectionStartLength=A,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(b){this._isClickInSelection(b)||(this._selectWordAtCursor(b,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(b,E,A=!0,P=!0){if(b[0]>=this._bufferService.cols)return;const D=this._bufferService.buffer,I=D.lines.get(b[1]);if(!I)return;const O=D.translateBufferLineToString(b[1],!1);let H=this._convertViewportColToCharacterIndex(I,b[0]),N=H;const F=b[0]-H;let R=0,L=0,M=0,B=0;if(O.charAt(H)===" "){for(;H>0&&O.charAt(H-1)===" ";)H--;for(;N<O.length&&O.charAt(N+1)===" ";)N++}else{let G=b[0],X=b[0];I.getWidth(G)===0&&(R++,G--),I.getWidth(X)===2&&(L++,X++);const J=I.getString(X).length;for(J>1&&(B+=J-1,N+=J-1);G>0&&H>0&&!this._isCharWordSeparator(I.loadCell(G-1,this._workCell));){I.loadCell(G-1,this._workCell);const T=this._workCell.getChars().length;this._workCell.getWidth()===0?(R++,G--):T>1&&(M+=T-1,H-=T-1),H--,G--}for(;X<I.length&&N+1<O.length&&!this._isCharWordSeparator(I.loadCell(X+1,this._workCell));){I.loadCell(X+1,this._workCell);const T=this._workCell.getChars().length;this._workCell.getWidth()===2?(L++,X++):T>1&&(B+=T-1,N+=T-1),N++,X++}}N++;let j=H+F-R+M,V=Math.min(this._bufferService.cols,N-H+R+L-M-B);if(E||O.slice(H,N).trim()!==""){if(A&&j===0&&I.getCodePoint(0)!==32){const G=D.lines.get(b[1]-1);if(G&&I.isWrapped&&G.getCodePoint(this._bufferService.cols-1)!==32){const X=this._getWordAt([this._bufferService.cols-1,b[1]-1],!1,!0,!1);if(X){const J=this._bufferService.cols-X.start;j-=J,V+=J}}}if(P&&j+V===this._bufferService.cols&&I.getCodePoint(this._bufferService.cols-1)!==32){const G=D.lines.get(b[1]+1);if(G!=null&&G.isWrapped&&G.getCodePoint(0)!==32){const X=this._getWordAt([0,b[1]+1],!1,!1,!0);X&&(V+=X.length)}}return{start:j,length:V}}}_selectWordAt(b,E){const A=this._getWordAt(b,E);if(A){for(;A.start<0;)A.start+=this._bufferService.cols,b[1]--;this._model.selectionStart=[A.start,b[1]],this._model.selectionStartLength=A.length}}_selectToWordAt(b){const E=this._getWordAt(b,!0);if(E){let A=b[1];for(;E.start<0;)E.start+=this._bufferService.cols,A--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,A++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,A]}}_isCharWordSeparator(b){return b.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(b.getChars())>=0}_selectLineAt(b){const E=this._bufferService.buffer.getWrappedRangeForLine(b),A={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,d.getRangeLength)(A,this._bufferService.cols)}};a.SelectionService=k=h([g(3,m.IBufferService),g(4,m.ICoreService),g(5,C.IMouseService),g(6,m.IOptionsService),g(7,C.IRenderService),g(8,C.ICoreBrowserService)],k)},4725:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IThemeService=a.ICharacterJoinerService=a.ISelectionService=a.IRenderService=a.IMouseService=a.ICoreBrowserService=a.ICharSizeService=void 0;const h=c(8343);a.ICharSizeService=(0,h.createDecorator)("CharSizeService"),a.ICoreBrowserService=(0,h.createDecorator)("CoreBrowserService"),a.IMouseService=(0,h.createDecorator)("MouseService"),a.IRenderService=(0,h.createDecorator)("RenderService"),a.ISelectionService=(0,h.createDecorator)("SelectionService"),a.ICharacterJoinerService=(0,h.createDecorator)("CharacterJoinerService"),a.IThemeService=(0,h.createDecorator)("ThemeService")},6731:function(l,a,c){var h=this&&this.__decorate||function(k,b,E,A){var P,D=arguments.length,I=D<3?b:A===null?A=Object.getOwnPropertyDescriptor(b,E):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(k,b,E,A);else for(var O=k.length-1;O>=0;O--)(P=k[O])&&(I=(D<3?P(I):D>3?P(b,E,I):P(b,E))||I);return D>3&&I&&Object.defineProperty(b,E,I),I},g=this&&this.__param||function(k,b){return function(E,A){b(E,A,k)}};Object.defineProperty(a,"__esModule",{value:!0}),a.ThemeService=a.DEFAULT_ANSI_COLORS=void 0;const u=c(7239),v=c(8055),y=c(8460),C=c(844),w=c(2585),_=v.css.toColor("#ffffff"),f=v.css.toColor("#000000"),d=v.css.toColor("#ffffff"),p=v.css.toColor("#000000"),m={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};a.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const k=[v.css.toColor("#2e3436"),v.css.toColor("#cc0000"),v.css.toColor("#4e9a06"),v.css.toColor("#c4a000"),v.css.toColor("#3465a4"),v.css.toColor("#75507b"),v.css.toColor("#06989a"),v.css.toColor("#d3d7cf"),v.css.toColor("#555753"),v.css.toColor("#ef2929"),v.css.toColor("#8ae234"),v.css.toColor("#fce94f"),v.css.toColor("#729fcf"),v.css.toColor("#ad7fa8"),v.css.toColor("#34e2e2"),v.css.toColor("#eeeeec")],b=[0,95,135,175,215,255];for(let E=0;E<216;E++){const A=b[E/36%6|0],P=b[E/6%6|0],D=b[E%6];k.push({css:v.channels.toCss(A,P,D),rgba:v.channels.toRgba(A,P,D)})}for(let E=0;E<24;E++){const A=8+10*E;k.push({css:v.channels.toCss(A,A,A),rgba:v.channels.toRgba(A,A,A)})}return k})());let S=a.ThemeService=class extends C.Disposable{get colors(){return this._colors}constructor(k){super(),this._optionsService=k,this._contrastCache=new u.ColorContrastCache,this._halfContrastCache=new u.ColorContrastCache,this._onChangeColors=this.register(new y.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:_,background:f,cursor:d,cursorAccent:p,selectionForeground:void 0,selectionBackgroundTransparent:m,selectionBackgroundOpaque:v.color.blend(f,m),selectionInactiveBackgroundTransparent:m,selectionInactiveBackgroundOpaque:v.color.blend(f,m),ansi:a.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(k={}){const b=this._colors;if(b.foreground=x(k.foreground,_),b.background=x(k.background,f),b.cursor=x(k.cursor,d),b.cursorAccent=x(k.cursorAccent,p),b.selectionBackgroundTransparent=x(k.selectionBackground,m),b.selectionBackgroundOpaque=v.color.blend(b.background,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundTransparent=x(k.selectionInactiveBackground,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundOpaque=v.color.blend(b.background,b.selectionInactiveBackgroundTransparent),b.selectionForeground=k.selectionForeground?x(k.selectionForeground,v.NULL_COLOR):void 0,b.selectionForeground===v.NULL_COLOR&&(b.selectionForeground=void 0),v.color.isOpaque(b.selectionBackgroundTransparent)&&(b.selectionBackgroundTransparent=v.color.opacity(b.selectionBackgroundTransparent,.3)),v.color.isOpaque(b.selectionInactiveBackgroundTransparent)&&(b.selectionInactiveBackgroundTransparent=v.color.opacity(b.selectionInactiveBackgroundTransparent,.3)),b.ansi=a.DEFAULT_ANSI_COLORS.slice(),b.ansi[0]=x(k.black,a.DEFAULT_ANSI_COLORS[0]),b.ansi[1]=x(k.red,a.DEFAULT_ANSI_COLORS[1]),b.ansi[2]=x(k.green,a.DEFAULT_ANSI_COLORS[2]),b.ansi[3]=x(k.yellow,a.DEFAULT_ANSI_COLORS[3]),b.ansi[4]=x(k.blue,a.DEFAULT_ANSI_COLORS[4]),b.ansi[5]=x(k.magenta,a.DEFAULT_ANSI_COLORS[5]),b.ansi[6]=x(k.cyan,a.DEFAULT_ANSI_COLORS[6]),b.ansi[7]=x(k.white,a.DEFAULT_ANSI_COLORS[7]),b.ansi[8]=x(k.brightBlack,a.DEFAULT_ANSI_COLORS[8]),b.ansi[9]=x(k.brightRed,a.DEFAULT_ANSI_COLORS[9]),b.ansi[10]=x(k.brightGreen,a.DEFAULT_ANSI_COLORS[10]),b.ansi[11]=x(k.brightYellow,a.DEFAULT_ANSI_COLORS[11]),b.ansi[12]=x(k.brightBlue,a.DEFAULT_ANSI_COLORS[12]),b.ansi[13]=x(k.brightMagenta,a.DEFAULT_ANSI_COLORS[13]),b.ansi[14]=x(k.brightCyan,a.DEFAULT_ANSI_COLORS[14]),b.ansi[15]=x(k.brightWhite,a.DEFAULT_ANSI_COLORS[15]),k.extendedAnsi){const E=Math.min(b.ansi.length-16,k.extendedAnsi.length);for(let A=0;A<E;A++)b.ansi[A+16]=x(k.extendedAnsi[A],a.DEFAULT_ANSI_COLORS[A+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(k){this._restoreColor(k),this._onChangeColors.fire(this.colors)}_restoreColor(k){if(k!==void 0)switch(k){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[k]=this._restoreColors.ansi[k]}else for(let b=0;b<this._restoreColors.ansi.length;++b)this._colors.ansi[b]=this._restoreColors.ansi[b]}modifyColors(k){k(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function x(k,b){if(k!==void 0)try{return v.css.toColor(k)}catch{}return b}a.ThemeService=S=h([g(0,w.IOptionsService)],S)},6349:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CircularList=void 0;const h=c(8460),g=c(844);class u extends g.Disposable{constructor(y){super(),this._maxLength=y,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(y){if(this._maxLength===y)return;const C=new Array(y);for(let w=0;w<Math.min(y,this.length);w++)C[w]=this._array[this._getCyclicIndex(w)];this._array=C,this._maxLength=y,this._startIndex=0}get length(){return this._length}set length(y){if(y>this._length)for(let C=this._length;C<y;C++)this._array[C]=void 0;this._length=y}get(y){return this._array[this._getCyclicIndex(y)]}set(y,C){this._array[this._getCyclicIndex(y)]=C}push(y){this._array[this._getCyclicIndex(this._length)]=y,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(y,C,...w){if(C){for(let _=y;_<this._length-C;_++)this._array[this._getCyclicIndex(_)]=this._array[this._getCyclicIndex(_+C)];this._length-=C,this.onDeleteEmitter.fire({index:y,amount:C})}for(let _=this._length-1;_>=y;_--)this._array[this._getCyclicIndex(_+w.length)]=this._array[this._getCyclicIndex(_)];for(let _=0;_<w.length;_++)this._array[this._getCyclicIndex(y+_)]=w[_];if(w.length&&this.onInsertEmitter.fire({index:y,amount:w.length}),this._length+w.length>this._maxLength){const _=this._length+w.length-this._maxLength;this._startIndex+=_,this._length=this._maxLength,this.onTrimEmitter.fire(_)}else this._length+=w.length}trimStart(y){y>this._length&&(y=this._length),this._startIndex+=y,this._length-=y,this.onTrimEmitter.fire(y)}shiftElements(y,C,w){if(!(C<=0)){if(y<0||y>=this._length)throw new Error("start argument out of range");if(y+w<0)throw new Error("Cannot shift elements in list beyond index 0");if(w>0){for(let f=C-1;f>=0;f--)this.set(y+f+w,this.get(y+f));const _=y+C+w-this._length;if(_>0)for(this._length+=_;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let _=0;_<C;_++)this.set(y+_+w,this.get(y+_))}}_getCyclicIndex(y){return(this._startIndex+y)%this._maxLength}}a.CircularList=u},1439:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.clone=void 0,a.clone=function c(h,g=5){if(typeof h!="object")return h;const u=Array.isArray(h)?[]:{};for(const v in h)u[v]=g<=1?h[v]:h[v]&&c(h[v],g-1);return u}},8055:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.contrastRatio=a.toPaddedHex=a.rgba=a.rgb=a.css=a.color=a.channels=a.NULL_COLOR=void 0;const h=c(6114);let g=0,u=0,v=0,y=0;var C,w,_,f,d;function p(S){const x=S.toString(16);return x.length<2?"0"+x:x}function m(S,x){return S<x?(x+.05)/(S+.05):(S+.05)/(x+.05)}a.NULL_COLOR={css:"#00000000",rgba:0},function(S){S.toCss=function(x,k,b,E){return E!==void 0?`#${p(x)}${p(k)}${p(b)}${p(E)}`:`#${p(x)}${p(k)}${p(b)}`},S.toRgba=function(x,k,b,E=255){return(x<<24|k<<16|b<<8|E)>>>0}}(C||(a.channels=C={})),function(S){function x(k,b){return y=Math.round(255*b),[g,u,v]=d.toChannels(k.rgba),{css:C.toCss(g,u,v,y),rgba:C.toRgba(g,u,v,y)}}S.blend=function(k,b){if(y=(255&b.rgba)/255,y===1)return{css:b.css,rgba:b.rgba};const E=b.rgba>>24&255,A=b.rgba>>16&255,P=b.rgba>>8&255,D=k.rgba>>24&255,I=k.rgba>>16&255,O=k.rgba>>8&255;return g=D+Math.round((E-D)*y),u=I+Math.round((A-I)*y),v=O+Math.round((P-O)*y),{css:C.toCss(g,u,v),rgba:C.toRgba(g,u,v)}},S.isOpaque=function(k){return(255&k.rgba)==255},S.ensureContrastRatio=function(k,b,E){const A=d.ensureContrastRatio(k.rgba,b.rgba,E);if(A)return d.toColor(A>>24&255,A>>16&255,A>>8&255)},S.opaque=function(k){const b=(255|k.rgba)>>>0;return[g,u,v]=d.toChannels(b),{css:C.toCss(g,u,v),rgba:b}},S.opacity=x,S.multiplyOpacity=function(k,b){return y=255&k.rgba,x(k,y*b/255)},S.toColorRGB=function(k){return[k.rgba>>24&255,k.rgba>>16&255,k.rgba>>8&255]}}(w||(a.color=w={})),function(S){let x,k;if(!h.isNode){const b=document.createElement("canvas");b.width=1,b.height=1;const E=b.getContext("2d",{willReadFrequently:!0});E&&(x=E,x.globalCompositeOperation="copy",k=x.createLinearGradient(0,0,1,1))}S.toColor=function(b){if(b.match(/#[\da-f]{3,8}/i))switch(b.length){case 4:return g=parseInt(b.slice(1,2).repeat(2),16),u=parseInt(b.slice(2,3).repeat(2),16),v=parseInt(b.slice(3,4).repeat(2),16),d.toColor(g,u,v);case 5:return g=parseInt(b.slice(1,2).repeat(2),16),u=parseInt(b.slice(2,3).repeat(2),16),v=parseInt(b.slice(3,4).repeat(2),16),y=parseInt(b.slice(4,5).repeat(2),16),d.toColor(g,u,v,y);case 7:return{css:b,rgba:(parseInt(b.slice(1),16)<<8|255)>>>0};case 9:return{css:b,rgba:parseInt(b.slice(1),16)>>>0}}const E=b.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return g=parseInt(E[1]),u=parseInt(E[2]),v=parseInt(E[3]),y=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),d.toColor(g,u,v,y);if(!x||!k)throw new Error("css.toColor: Unsupported css format");if(x.fillStyle=k,x.fillStyle=b,typeof x.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(x.fillRect(0,0,1,1),[g,u,v,y]=x.getImageData(0,0,1,1).data,y!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:C.toRgba(g,u,v,y),css:b}}}(_||(a.css=_={})),function(S){function x(k,b,E){const A=k/255,P=b/255,D=E/255;return .2126*(A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4))+.7152*(P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4))+.0722*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))}S.relativeLuminance=function(k){return x(k>>16&255,k>>8&255,255&k)},S.relativeLuminance2=x}(f||(a.rgb=f={})),function(S){function x(b,E,A){const P=b>>24&255,D=b>>16&255,I=b>>8&255;let O=E>>24&255,H=E>>16&255,N=E>>8&255,F=m(f.relativeLuminance2(O,H,N),f.relativeLuminance2(P,D,I));for(;F<A&&(O>0||H>0||N>0);)O-=Math.max(0,Math.ceil(.1*O)),H-=Math.max(0,Math.ceil(.1*H)),N-=Math.max(0,Math.ceil(.1*N)),F=m(f.relativeLuminance2(O,H,N),f.relativeLuminance2(P,D,I));return(O<<24|H<<16|N<<8|255)>>>0}function k(b,E,A){const P=b>>24&255,D=b>>16&255,I=b>>8&255;let O=E>>24&255,H=E>>16&255,N=E>>8&255,F=m(f.relativeLuminance2(O,H,N),f.relativeLuminance2(P,D,I));for(;F<A&&(O<255||H<255||N<255);)O=Math.min(255,O+Math.ceil(.1*(255-O))),H=Math.min(255,H+Math.ceil(.1*(255-H))),N=Math.min(255,N+Math.ceil(.1*(255-N))),F=m(f.relativeLuminance2(O,H,N),f.relativeLuminance2(P,D,I));return(O<<24|H<<16|N<<8|255)>>>0}S.ensureContrastRatio=function(b,E,A){const P=f.relativeLuminance(b>>8),D=f.relativeLuminance(E>>8);if(m(P,D)<A){if(D<P){const H=x(b,E,A),N=m(P,f.relativeLuminance(H>>8));if(N<A){const F=k(b,E,A);return N>m(P,f.relativeLuminance(F>>8))?H:F}return H}const I=k(b,E,A),O=m(P,f.relativeLuminance(I>>8));if(O<A){const H=x(b,E,A);return O>m(P,f.relativeLuminance(H>>8))?I:H}return I}},S.reduceLuminance=x,S.increaseLuminance=k,S.toChannels=function(b){return[b>>24&255,b>>16&255,b>>8&255,255&b]},S.toColor=function(b,E,A,P){return{css:C.toCss(b,E,A,P),rgba:C.toRgba(b,E,A,P)}}}(d||(a.rgba=d={})),a.toPaddedHex=p,a.contrastRatio=m},8969:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreTerminal=void 0;const h=c(844),g=c(2585),u=c(4348),v=c(7866),y=c(744),C=c(7302),w=c(6975),_=c(8460),f=c(1753),d=c(1480),p=c(7994),m=c(9282),S=c(5435),x=c(5981),k=c(2660);let b=!1;class E extends h.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new _.EventEmitter),this._onScroll.event(P=>{var D;(D=this._onScrollApi)===null||D===void 0||D.fire(P.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(P){for(const D in P)this.optionsService.options[D]=P[D]}constructor(P){super(),this._windowsWrappingHeuristics=this.register(new h.MutableDisposable),this._onBinary=this.register(new _.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new _.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new _.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new _.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new _.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new _.EventEmitter),this._instantiationService=new u.InstantiationService,this.optionsService=this.register(new C.OptionsService(P)),this._instantiationService.setService(g.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(y.BufferService)),this._instantiationService.setService(g.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(v.LogService)),this._instantiationService.setService(g.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(w.CoreService)),this._instantiationService.setService(g.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(f.CoreMouseService)),this._instantiationService.setService(g.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(d.UnicodeService)),this._instantiationService.setService(g.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(p.CharsetService),this._instantiationService.setService(g.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(k.OscLinkService),this._instantiationService.setService(g.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,_.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,_.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,_.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,_.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(D=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(D=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new x.WriteBuffer((D,I)=>this._inputHandler.parse(D,I))),this.register((0,_.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(P,D){this._writeBuffer.write(P,D)}writeSync(P,D){this._logService.logLevel<=g.LogLevelEnum.WARN&&!b&&(this._logService.warn("writeSync is unreliable and will be removed soon."),b=!0),this._writeBuffer.writeSync(P,D)}resize(P,D){isNaN(P)||isNaN(D)||(P=Math.max(P,y.MINIMUM_COLS),D=Math.max(D,y.MINIMUM_ROWS),this._bufferService.resize(P,D))}scroll(P,D=!1){this._bufferService.scroll(P,D)}scrollLines(P,D,I){this._bufferService.scrollLines(P,D,I)}scrollPages(P){this.scrollLines(P*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(P){const D=P-this._bufferService.buffer.ydisp;D!==0&&this.scrollLines(D)}registerEscHandler(P,D){return this._inputHandler.registerEscHandler(P,D)}registerDcsHandler(P,D){return this._inputHandler.registerDcsHandler(P,D)}registerCsiHandler(P,D){return this._inputHandler.registerCsiHandler(P,D)}registerOscHandler(P,D){return this._inputHandler.registerOscHandler(P,D)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let P=!1;const D=this.optionsService.rawOptions.windowsPty;D&&D.buildNumber!==void 0&&D.buildNumber!==void 0?P=D.backend==="conpty"&&D.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(P=!0),P?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const P=[];P.push(this.onLineFeed(m.updateWindowsModeWrappedState.bind(null,this._bufferService))),P.push(this.registerCsiHandler({final:"H"},()=>((0,m.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,h.toDisposable)(()=>{for(const D of P)D.dispose()})}}}a.CoreTerminal=E},8460:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.forwardEvent=a.EventEmitter=void 0,a.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=c=>(this._listeners.push(c),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===c)return void this._listeners.splice(h,1)}}})),this._event}fire(c,h){const g=[];for(let u=0;u<this._listeners.length;u++)g.push(this._listeners[u]);for(let u=0;u<g.length;u++)g[u].call(void 0,c,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},a.forwardEvent=function(c,h){return c(g=>h.fire(g))}},5435:function(l,a,c){var h=this&&this.__decorate||function(F,R,L,M){var B,j=arguments.length,V=j<3?R:M===null?M=Object.getOwnPropertyDescriptor(R,L):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(F,R,L,M);else for(var G=F.length-1;G>=0;G--)(B=F[G])&&(V=(j<3?B(V):j>3?B(R,L,V):B(R,L))||V);return j>3&&V&&Object.defineProperty(R,L,V),V},g=this&&this.__param||function(F,R){return function(L,M){R(L,M,F)}};Object.defineProperty(a,"__esModule",{value:!0}),a.InputHandler=a.WindowsOptionsReportType=void 0;const u=c(2584),v=c(7116),y=c(2015),C=c(844),w=c(482),_=c(8437),f=c(8460),d=c(643),p=c(511),m=c(3734),S=c(2585),x=c(6242),k=c(6351),b=c(5941),E={"(":0,")":1,"*":2,"+":3,"-":1,".":2},A=131072;function P(F,R){if(F>24)return R.setWinLines||!1;switch(F){case 1:return!!R.restoreWin;case 2:return!!R.minimizeWin;case 3:return!!R.setWinPosition;case 4:return!!R.setWinSizePixels;case 5:return!!R.raiseWin;case 6:return!!R.lowerWin;case 7:return!!R.refreshWin;case 8:return!!R.setWinSizeChars;case 9:return!!R.maximizeWin;case 10:return!!R.fullscreenWin;case 11:return!!R.getWinState;case 13:return!!R.getWinPosition;case 14:return!!R.getWinSizePixels;case 15:return!!R.getScreenSizePixels;case 16:return!!R.getCellSizePixels;case 18:return!!R.getWinSizeChars;case 19:return!!R.getScreenSizeChars;case 20:return!!R.getIconTitle;case 21:return!!R.getWinTitle;case 22:return!!R.pushTitle;case 23:return!!R.popTitle;case 24:return!!R.setWinLines}return!1}var D;(function(F){F[F.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",F[F.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(D||(a.WindowsOptionsReportType=D={}));let I=0;class O extends C.Disposable{getAttrData(){return this._curAttrData}constructor(R,L,M,B,j,V,G,X,J=new y.EscapeSequenceParser){super(),this._bufferService=R,this._charsetService=L,this._coreService=M,this._logService=B,this._optionsService=j,this._oscLinkService=V,this._coreMouseService=G,this._unicodeService=X,this._parser=J,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new w.StringToUtf32,this._utf8Decoder=new w.Utf8ToUtf32,this._workCell=new p.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=_.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=_.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new f.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new f.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new f.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new f.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new f.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new f.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new f.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new f.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new f.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new f.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new f.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new H(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(T=>this._activeBuffer=T.activeBuffer)),this._parser.setCsiHandlerFallback((T,$)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(T),params:$.toArray()})}),this._parser.setEscHandlerFallback(T=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(T)})}),this._parser.setExecuteHandlerFallback(T=>{this._logService.debug("Unknown EXECUTE code: ",{code:T})}),this._parser.setOscHandlerFallback((T,$,U)=>{this._logService.debug("Unknown OSC code: ",{identifier:T,action:$,data:U})}),this._parser.setDcsHandlerFallback((T,$,U)=>{$==="HOOK"&&(U=U.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(T),action:$,payload:U})}),this._parser.setPrintHandler((T,$,U)=>this.print(T,$,U)),this._parser.registerCsiHandler({final:"@"},T=>this.insertChars(T)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},T=>this.scrollLeft(T)),this._parser.registerCsiHandler({final:"A"},T=>this.cursorUp(T)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},T=>this.scrollRight(T)),this._parser.registerCsiHandler({final:"B"},T=>this.cursorDown(T)),this._parser.registerCsiHandler({final:"C"},T=>this.cursorForward(T)),this._parser.registerCsiHandler({final:"D"},T=>this.cursorBackward(T)),this._parser.registerCsiHandler({final:"E"},T=>this.cursorNextLine(T)),this._parser.registerCsiHandler({final:"F"},T=>this.cursorPrecedingLine(T)),this._parser.registerCsiHandler({final:"G"},T=>this.cursorCharAbsolute(T)),this._parser.registerCsiHandler({final:"H"},T=>this.cursorPosition(T)),this._parser.registerCsiHandler({final:"I"},T=>this.cursorForwardTab(T)),this._parser.registerCsiHandler({final:"J"},T=>this.eraseInDisplay(T,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},T=>this.eraseInDisplay(T,!0)),this._parser.registerCsiHandler({final:"K"},T=>this.eraseInLine(T,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},T=>this.eraseInLine(T,!0)),this._parser.registerCsiHandler({final:"L"},T=>this.insertLines(T)),this._parser.registerCsiHandler({final:"M"},T=>this.deleteLines(T)),this._parser.registerCsiHandler({final:"P"},T=>this.deleteChars(T)),this._parser.registerCsiHandler({final:"S"},T=>this.scrollUp(T)),this._parser.registerCsiHandler({final:"T"},T=>this.scrollDown(T)),this._parser.registerCsiHandler({final:"X"},T=>this.eraseChars(T)),this._parser.registerCsiHandler({final:"Z"},T=>this.cursorBackwardTab(T)),this._parser.registerCsiHandler({final:"`"},T=>this.charPosAbsolute(T)),this._parser.registerCsiHandler({final:"a"},T=>this.hPositionRelative(T)),this._parser.registerCsiHandler({final:"b"},T=>this.repeatPrecedingCharacter(T)),this._parser.registerCsiHandler({final:"c"},T=>this.sendDeviceAttributesPrimary(T)),this._parser.registerCsiHandler({prefix:">",final:"c"},T=>this.sendDeviceAttributesSecondary(T)),this._parser.registerCsiHandler({final:"d"},T=>this.linePosAbsolute(T)),this._parser.registerCsiHandler({final:"e"},T=>this.vPositionRelative(T)),this._parser.registerCsiHandler({final:"f"},T=>this.hVPosition(T)),this._parser.registerCsiHandler({final:"g"},T=>this.tabClear(T)),this._parser.registerCsiHandler({final:"h"},T=>this.setMode(T)),this._parser.registerCsiHandler({prefix:"?",final:"h"},T=>this.setModePrivate(T)),this._parser.registerCsiHandler({final:"l"},T=>this.resetMode(T)),this._parser.registerCsiHandler({prefix:"?",final:"l"},T=>this.resetModePrivate(T)),this._parser.registerCsiHandler({final:"m"},T=>this.charAttributes(T)),this._parser.registerCsiHandler({final:"n"},T=>this.deviceStatus(T)),this._parser.registerCsiHandler({prefix:"?",final:"n"},T=>this.deviceStatusPrivate(T)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},T=>this.softReset(T)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},T=>this.setCursorStyle(T)),this._parser.registerCsiHandler({final:"r"},T=>this.setScrollRegion(T)),this._parser.registerCsiHandler({final:"s"},T=>this.saveCursor(T)),this._parser.registerCsiHandler({final:"t"},T=>this.windowOptions(T)),this._parser.registerCsiHandler({final:"u"},T=>this.restoreCursor(T)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},T=>this.insertColumns(T)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},T=>this.deleteColumns(T)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},T=>this.selectProtected(T)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},T=>this.requestMode(T,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},T=>this.requestMode(T,!1)),this._parser.setExecuteHandler(u.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(u.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(u.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(u.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(u.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(u.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(u.C1.IND,()=>this.index()),this._parser.setExecuteHandler(u.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(u.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new x.OscHandler(T=>(this.setTitle(T),this.setIconName(T),!0))),this._parser.registerOscHandler(1,new x.OscHandler(T=>this.setIconName(T))),this._parser.registerOscHandler(2,new x.OscHandler(T=>this.setTitle(T))),this._parser.registerOscHandler(4,new x.OscHandler(T=>this.setOrReportIndexedColor(T))),this._parser.registerOscHandler(8,new x.OscHandler(T=>this.setHyperlink(T))),this._parser.registerOscHandler(10,new x.OscHandler(T=>this.setOrReportFgColor(T))),this._parser.registerOscHandler(11,new x.OscHandler(T=>this.setOrReportBgColor(T))),this._parser.registerOscHandler(12,new x.OscHandler(T=>this.setOrReportCursorColor(T))),this._parser.registerOscHandler(104,new x.OscHandler(T=>this.restoreIndexedColor(T))),this._parser.registerOscHandler(110,new x.OscHandler(T=>this.restoreFgColor(T))),this._parser.registerOscHandler(111,new x.OscHandler(T=>this.restoreBgColor(T))),this._parser.registerOscHandler(112,new x.OscHandler(T=>this.restoreCursorColor(T))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const T in v.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:T},()=>this.selectCharset("("+T)),this._parser.registerEscHandler({intermediates:")",final:T},()=>this.selectCharset(")"+T)),this._parser.registerEscHandler({intermediates:"*",final:T},()=>this.selectCharset("*"+T)),this._parser.registerEscHandler({intermediates:"+",final:T},()=>this.selectCharset("+"+T)),this._parser.registerEscHandler({intermediates:"-",final:T},()=>this.selectCharset("-"+T)),this._parser.registerEscHandler({intermediates:".",final:T},()=>this.selectCharset("."+T)),this._parser.registerEscHandler({intermediates:"/",final:T},()=>this.selectCharset("/"+T));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(T=>(this._logService.error("Parsing error: ",T),T)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new k.DcsHandler((T,$)=>this.requestStatusString(T,$)))}_preserveStack(R,L,M,B){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=L,this._parseStack.decodedLength=M,this._parseStack.position=B}_logSlowResolvingAsync(R){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([R,new Promise((L,M)=>setTimeout(()=>M("#SLOW_TIMEOUT"),5e3))]).catch(L=>{if(L!=="#SLOW_TIMEOUT")throw L;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(R,L){let M,B=this._activeBuffer.x,j=this._activeBuffer.y,V=0;const G=this._parseStack.paused;if(G){if(M=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,L))return this._logSlowResolvingAsync(M),M;B=this._parseStack.cursorStartX,j=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>A&&(V=this._parseStack.position+A)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?` "${R}"`:` "${Array.prototype.map.call(R,X=>String.fromCharCode(X)).join("")}"`),typeof R=="string"?R.split("").map(X=>X.charCodeAt(0)):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<A&&(this._parseBuffer=new Uint32Array(Math.min(R.length,A))),G||this._dirtyRowTracker.clearRange(),R.length>A)for(let X=V;X<R.length;X+=A){const J=X+A<R.length?X+A:R.length,T=typeof R=="string"?this._stringDecoder.decode(R.substring(X,J),this._parseBuffer):this._utf8Decoder.decode(R.subarray(X,J),this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,T))return this._preserveStack(B,j,T,X),this._logSlowResolvingAsync(M),M}else if(!G){const X=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,X))return this._preserveStack(B,j,X,0),this._logSlowResolvingAsync(M),M}this._activeBuffer.x===B&&this._activeBuffer.y===j||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(R,L,M){let B,j;const V=this._charsetService.charset,G=this._optionsService.rawOptions.screenReaderMode,X=this._bufferService.cols,J=this._coreService.decPrivateModes.wraparound,T=this._coreService.modes.insertMode,$=this._curAttrData;let U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&M-L>0&&U.getWidth(this._activeBuffer.x-1)===2&&U.setCellFromCodePoint(this._activeBuffer.x-1,0,1,$.fg,$.bg,$.extended);for(let W=L;W<M;++W){if(B=R[W],j=this._unicodeService.wcwidth(B),B<127&&V){const ee=V[String.fromCharCode(B)];ee&&(B=ee.charCodeAt(0))}if(G&&this._onA11yChar.fire((0,w.stringFromCodePoint)(B)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),j||!this._activeBuffer.x){if(this._activeBuffer.x+j-1>=X){if(J){for(;this._activeBuffer.x<X;)U.setCellFromCodePoint(this._activeBuffer.x++,0,1,$.fg,$.bg,$.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=X-1,j===2)continue}if(T&&(U.insertCells(this._activeBuffer.x,j,this._activeBuffer.getNullCell($),$),U.getWidth(X-1)===2&&U.setCellFromCodePoint(X-1,d.NULL_CELL_CODE,d.NULL_CELL_WIDTH,$.fg,$.bg,$.extended)),U.setCellFromCodePoint(this._activeBuffer.x++,B,j,$.fg,$.bg,$.extended),j>0)for(;--j;)U.setCellFromCodePoint(this._activeBuffer.x++,0,0,$.fg,$.bg,$.extended)}else U.getWidth(this._activeBuffer.x-1)?U.addCodepointToCell(this._activeBuffer.x-1,B):U.addCodepointToCell(this._activeBuffer.x-2,B)}M-L>0&&(U.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<X&&M-L>0&&U.getWidth(this._activeBuffer.x)===0&&!U.hasContent(this._activeBuffer.x)&&U.setCellFromCodePoint(this._activeBuffer.x,0,1,$.fg,$.bg,$.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(R,L){return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,L):this._parser.registerCsiHandler(R,M=>!P(M.params[0],this._optionsService.rawOptions.windowOptions)||L(M))}registerDcsHandler(R,L){return this._parser.registerDcsHandler(R,new k.DcsHandler(L))}registerEscHandler(R,L){return this._parser.registerEscHandler(R,L)}registerOscHandler(R,L){return this._parser.registerOscHandler(R,new x.OscHandler(L))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||R===void 0)&&R.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);L.hasWidth(this._activeBuffer.x)&&!L.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(R=this._bufferService.cols-1){this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(R,L){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+L):(this._activeBuffer.x=R,this._activeBuffer.y=L),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(R,L){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+L)}cursorUp(R){const L=this._activeBuffer.y-this._activeBuffer.scrollTop;return L>=0?this._moveCursor(0,-Math.min(L,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0}cursorDown(R){const L=this._activeBuffer.scrollBottom-this._activeBuffer.y;return L>=0?this._moveCursor(0,Math.min(L,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0}cursorForward(R){return this._moveCursor(R.params[0]||1,0),!0}cursorBackward(R){return this._moveCursor(-(R.params[0]||1),0),!0}cursorNextLine(R){return this.cursorDown(R),this._activeBuffer.x=0,!0}cursorPrecedingLine(R){return this.cursorUp(R),this._activeBuffer.x=0,!0}cursorCharAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0}charPosAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(R){return this._moveCursor(R.params[0]||1,0),!0}linePosAbsolute(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0}vPositionRelative(R){return this._moveCursor(0,R.params[0]||1),!0}hVPosition(R){return this.cursorPosition(R),!0}tabClear(R){const L=R.params[0];return L===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:L===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let L=R.params[0]||1;for(;L--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let L=R.params[0]||1;for(;L--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(R){const L=R.params[0];return L===1&&(this._curAttrData.bg|=536870912),L!==2&&L!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(R,L,M,B=!1,j=!1){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);V.replaceCells(L,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),j),B&&(V.isWrapped=!1)}_resetBufferLine(R,L=!1){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);M&&(M.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),L),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),M.isWrapped=!1)}eraseInDisplay(R,L=!1){let M;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,L);M<this._bufferService.rows;M++)this._resetBufferLine(M,L);this._dirtyRowTracker.markDirty(M);break;case 1:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M,0,this._activeBuffer.x+1,!0,L),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(M+1).isWrapped=!1);M--;)this._resetBufferLine(M,L);this._dirtyRowTracker.markDirty(0);break;case 2:for(M=this._bufferService.rows,this._dirtyRowTracker.markDirty(M-1);M--;)this._resetBufferLine(M,L);this._dirtyRowTracker.markDirty(0);break;case 3:const B=this._activeBuffer.lines.length-this._bufferService.rows;B>0&&(this._activeBuffer.lines.trimStart(B),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-B,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-B,0),this._onScroll.fire(0))}return!0}eraseInLine(R,L=!1){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,L);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,L);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,L)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(R){this._restrictCursor();let L=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y,B=this._bufferService.rows-1-this._activeBuffer.scrollBottom,j=this._bufferService.rows-1+this._activeBuffer.ybase-B+1;for(;L--;)this._activeBuffer.lines.splice(j-1,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(R){this._restrictCursor();let L=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y;let B;for(B=this._bufferService.rows-1-this._activeBuffer.scrollBottom,B=this._bufferService.rows-1+this._activeBuffer.ybase-B;L--;)this._activeBuffer.lines.splice(M,1),this._activeBuffer.lines.splice(B,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(R){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(R){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(R){let L=R.params[0]||1;for(;L--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(R){let L=R.params[0]||1;for(;L--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(_.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);B.deleteCells(0,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),B.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);B.insertCells(0,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),B.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);B.insertCells(this._activeBuffer.x,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),B.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);B.deleteCells(this._activeBuffer.x,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),B.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(R){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(R){if(!this._parser.precedingCodepoint)return!0;const L=R.params[0]||1,M=new Uint32Array(L);for(let B=0;B<L;++B)M[B]=this._parser.precedingCodepoint;return this.print(M,0,M.length),!0}sendDeviceAttributesPrimary(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(u.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(u.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(u.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(u.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(u.C0.ESC+"[>83;40003;0c")),!0}_is(R){return(this._optionsService.rawOptions.termName+"").indexOf(R)===0}setMode(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[L]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(R,L){const M=this._coreService.decPrivateModes,{activeProtocol:B,activeEncoding:j}=this._coreMouseService,V=this._coreService,{buffers:G,cols:X}=this._bufferService,{active:J,alt:T}=G,$=this._optionsService.rawOptions,U=oe=>oe?1:2,W=R.params[0];return ee=W,Y=L?W===2?4:W===4?U(V.modes.insertMode):W===12?3:W===20?U($.convertEol):0:W===1?U(M.applicationCursorKeys):W===3?$.windowOptions.setWinLines?X===80?2:X===132?1:0:0:W===6?U(M.origin):W===7?U(M.wraparound):W===8?3:W===9?U(B==="X10"):W===12?U($.cursorBlink):W===25?U(!V.isCursorHidden):W===45?U(M.reverseWraparound):W===66?U(M.applicationKeypad):W===67?4:W===1e3?U(B==="VT200"):W===1002?U(B==="DRAG"):W===1003?U(B==="ANY"):W===1004?U(M.sendFocus):W===1005?4:W===1006?U(j==="SGR"):W===1015?4:W===1016?U(j==="SGR_PIXELS"):W===1048?1:W===47||W===1047||W===1049?U(J===T):W===2004?U(M.bracketedPasteMode):0,V.triggerDataEvent(`${u.C0.ESC}[${L?"":"?"}${ee};${Y}$y`),!0;var ee,Y}_updateAttrColor(R,L,M,B,j){return L===2?(R|=50331648,R&=-16777216,R|=m.AttributeData.fromColorRGB([M,B,j])):L===5&&(R&=-50331904,R|=33554432|255&M),R}_extractColor(R,L,M){const B=[0,0,-1,0,0,0];let j=0,V=0;do{if(B[V+j]=R.params[L+V],R.hasSubParams(L+V)){const G=R.getSubParams(L+V);let X=0;do B[1]===5&&(j=1),B[V+X+1+j]=G[X];while(++X<G.length&&X+V+1+j<B.length);break}if(B[1]===5&&V+j>=2||B[1]===2&&V+j>=5)break;B[1]&&(j=1)}while(++V+L<R.length&&V+j<B.length);for(let G=2;G<B.length;++G)B[G]===-1&&(B[G]=0);switch(B[0]){case 38:M.fg=this._updateAttrColor(M.fg,B[1],B[3],B[4],B[5]);break;case 48:M.bg=this._updateAttrColor(M.bg,B[1],B[3],B[4],B[5]);break;case 58:M.extended=M.extended.clone(),M.extended.underlineColor=this._updateAttrColor(M.extended.underlineColor,B[1],B[3],B[4],B[5])}return V}_processUnderline(R,L){L.extended=L.extended.clone(),(!~R||R>5)&&(R=1),L.extended.underlineStyle=R,L.fg|=268435456,R===0&&(L.fg&=-268435457),L.updateExtended()}_processSGR0(R){R.fg=_.DEFAULT_ATTR_DATA.fg,R.bg=_.DEFAULT_ATTR_DATA.bg,R.extended=R.extended.clone(),R.extended.underlineStyle=0,R.extended.underlineColor&=-67108864,R.updateExtended()}charAttributes(R){if(R.length===1&&R.params[0]===0)return this._processSGR0(this._curAttrData),!0;const L=R.length;let M;const B=this._curAttrData;for(let j=0;j<L;j++)M=R.params[j],M>=30&&M<=37?(B.fg&=-50331904,B.fg|=16777216|M-30):M>=40&&M<=47?(B.bg&=-50331904,B.bg|=16777216|M-40):M>=90&&M<=97?(B.fg&=-50331904,B.fg|=16777224|M-90):M>=100&&M<=107?(B.bg&=-50331904,B.bg|=16777224|M-100):M===0?this._processSGR0(B):M===1?B.fg|=134217728:M===3?B.bg|=67108864:M===4?(B.fg|=268435456,this._processUnderline(R.hasSubParams(j)?R.getSubParams(j)[0]:1,B)):M===5?B.fg|=536870912:M===7?B.fg|=67108864:M===8?B.fg|=1073741824:M===9?B.fg|=2147483648:M===2?B.bg|=134217728:M===21?this._processUnderline(2,B):M===22?(B.fg&=-134217729,B.bg&=-134217729):M===23?B.bg&=-67108865:M===24?(B.fg&=-268435457,this._processUnderline(0,B)):M===25?B.fg&=-536870913:M===27?B.fg&=-67108865:M===28?B.fg&=-1073741825:M===29?B.fg&=2147483647:M===39?(B.fg&=-67108864,B.fg|=16777215&_.DEFAULT_ATTR_DATA.fg):M===49?(B.bg&=-67108864,B.bg|=16777215&_.DEFAULT_ATTR_DATA.bg):M===38||M===48||M===58?j+=this._extractColor(R,j,B):M===53?B.bg|=1073741824:M===55?B.bg&=-1073741825:M===59?(B.extended=B.extended.clone(),B.extended.underlineColor=-1,B.updateExtended()):M===100?(B.fg&=-67108864,B.fg|=16777215&_.DEFAULT_ATTR_DATA.fg,B.bg&=-67108864,B.bg|=16777215&_.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",M);return!0}deviceStatus(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(`${u.C0.ESC}[0n`);break;case 6:const L=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[${L};${M}R`)}return!0}deviceStatusPrivate(R){if(R.params[0]===6){const L=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[?${L};${M}R`)}return!0}softReset(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=_.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(R){const L=R.params[0]||1;switch(L){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const M=L%2==1;return this._optionsService.options.cursorBlink=M,!0}setScrollRegion(R){const L=R.params[0]||1;let M;return(R.length<2||(M=R.params[1])>this._bufferService.rows||M===0)&&(M=this._bufferService.rows),M>L&&(this._activeBuffer.scrollTop=L-1,this._activeBuffer.scrollBottom=M-1,this._setCursor(0,0)),!0}windowOptions(R){if(!P(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;const L=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:L!==2&&this._onRequestWindowsOptionsReport.fire(D.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(D.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${u.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:L!==0&&L!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),L!==0&&L!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:L!==0&&L!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),L!==0&&L!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0}setIconName(R){return this._iconName=R,!0}setOrReportIndexedColor(R){const L=[],M=R.split(";");for(;M.length>1;){const B=M.shift(),j=M.shift();if(/^\d+$/.exec(B)){const V=parseInt(B);if(N(V))if(j==="?")L.push({type:0,index:V});else{const G=(0,b.parseColor)(j);G&&L.push({type:1,index:V,color:G})}}}return L.length&&this._onColor.fire(L),!0}setHyperlink(R){const L=R.split(";");return!(L.length<2)&&(L[1]?this._createHyperlink(L[0],L[1]):!L[0]&&this._finishHyperlink())}_createHyperlink(R,L){this._getCurrentLinkId()&&this._finishHyperlink();const M=R.split(":");let B;const j=M.findIndex(V=>V.startsWith("id="));return j!==-1&&(B=M[j].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:B,uri:L}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(R,L){const M=R.split(";");for(let B=0;B<M.length&&!(L>=this._specialColors.length);++B,++L)if(M[B]==="?")this._onColor.fire([{type:0,index:this._specialColors[L]}]);else{const j=(0,b.parseColor)(M[B]);j&&this._onColor.fire([{type:1,index:this._specialColors[L],color:j}])}return!0}setOrReportFgColor(R){return this._setOrReportSpecialColor(R,0)}setOrReportBgColor(R){return this._setOrReportSpecialColor(R,1)}setOrReportCursorColor(R){return this._setOrReportSpecialColor(R,2)}restoreIndexedColor(R){if(!R)return this._onColor.fire([{type:2}]),!0;const L=[],M=R.split(";");for(let B=0;B<M.length;++B)if(/^\d+$/.exec(M[B])){const j=parseInt(M[B]);N(j)&&L.push({type:2,index:j})}return L.length&&this._onColor.fire(L),!0}restoreFgColor(R){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(R){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(R){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0}selectCharset(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(E[R[0]],v.CHARSETS[R[1]]||v.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=_.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=_.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(R){return this._charsetService.setgLevel(R),!0}screenAlignmentPattern(){const R=new p.CellData;R.content=4194304|"E".charCodeAt(0),R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(let L=0;L<this._bufferService.rows;++L){const M=this._activeBuffer.ybase+this._activeBuffer.y+L,B=this._activeBuffer.lines.get(M);B&&(B.fill(R),B.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(R,L){const M=this._bufferService.buffer,B=this._optionsService.rawOptions;return(j=>(this._coreService.triggerDataEvent(`${u.C0.ESC}${j}${u.C0.ESC}\\`),!0))(R==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:R==='"p'?'P1$r61;1"p':R==="r"?`P1$r${M.scrollTop+1};${M.scrollBottom+1}r`:R==="m"?"P1$r0m":R===" q"?`P1$r${{block:2,underline:4,bar:6}[B.cursorStyle]-(B.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(R,L){this._dirtyRowTracker.markRangeDirty(R,L)}}a.InputHandler=O;let H=class{constructor(F){this._bufferService=F,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(F){F<this.start?this.start=F:F>this.end&&(this.end=F)}markRangeDirty(F,R){F>R&&(I=F,F=R,R=I),F<this.start&&(this.start=F),R>this.end&&(this.end=R)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function N(F){return 0<=F&&F<256}H=h([g(0,S.IBufferService)],H)},844:(l,a)=>{function c(h){for(const g of h)g.dispose();h.length=0}Object.defineProperty(a,"__esModule",{value:!0}),a.getDisposeArrayDisposable=a.disposeArray=a.toDisposable=a.MutableDisposable=a.Disposable=void 0,a.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const g=this._disposables.indexOf(h);g!==-1&&this._disposables.splice(g,1)}},a.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){var g;this._isDisposed||h===this._value||((g=this._value)===null||g===void 0||g.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}},a.toDisposable=function(h){return{dispose:h}},a.disposeArray=c,a.getDisposeArrayDisposable=function(h){return{dispose:()=>c(h)}}},1505:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FourKeyMap=a.TwoKeyMap=void 0;class c{constructor(){this._data={}}set(g,u,v){this._data[g]||(this._data[g]={}),this._data[g][u]=v}get(g,u){return this._data[g]?this._data[g][u]:void 0}clear(){this._data={}}}a.TwoKeyMap=c,a.FourKeyMap=class{constructor(){this._data=new c}set(h,g,u,v,y){this._data.get(h,g)||this._data.set(h,g,new c),this._data.get(h,g).set(u,v,y)}get(h,g,u,v){var y;return(y=this._data.get(h,g))===null||y===void 0?void 0:y.get(u,v)}clear(){this._data.clear()}}},6114:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isChromeOS=a.isLinux=a.isWindows=a.isIphone=a.isIpad=a.isMac=a.getSafariVersion=a.isSafari=a.isLegacyEdge=a.isFirefox=a.isNode=void 0,a.isNode=typeof navigator>"u";const c=a.isNode?"node":navigator.userAgent,h=a.isNode?"node":navigator.platform;a.isFirefox=c.includes("Firefox"),a.isLegacyEdge=c.includes("Edge"),a.isSafari=/^((?!chrome|android).)*safari/i.test(c),a.getSafariVersion=function(){if(!a.isSafari)return 0;const g=c.match(/Version\/(\d+)/);return g===null||g.length<2?0:parseInt(g[1])},a.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),a.isIpad=h==="iPad",a.isIphone=h==="iPhone",a.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),a.isLinux=h.indexOf("Linux")>=0,a.isChromeOS=/\bCrOS\b/.test(c)},6106:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SortedList=void 0;let c=0;a.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(c=this._search(this._getKey(h)),this._array.splice(c,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;const g=this._getKey(h);if(g===void 0||(c=this._search(g),c===-1)||this._getKey(this._array[c])!==g)return!1;do if(this._array[c]===h)return this._array.splice(c,1),!0;while(++c<this._array.length&&this._getKey(this._array[c])===g);return!1}*getKeyIterator(h){if(this._array.length!==0&&(c=this._search(h),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===h))do yield this._array[c];while(++c<this._array.length&&this._getKey(this._array[c])===h)}forEachByKey(h,g){if(this._array.length!==0&&(c=this._search(h),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===h))do g(this._array[c]);while(++c<this._array.length&&this._getKey(this._array[c])===h)}values(){return[...this._array].values()}_search(h){let g=0,u=this._array.length-1;for(;u>=g;){let v=g+u>>1;const y=this._getKey(this._array[v]);if(y>h)u=v-1;else{if(!(y<h)){for(;v>0&&this._getKey(this._array[v-1])===h;)v--;return v}g=v+1}}return g}}},7226:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DebouncedIdleTask=a.IdleTaskQueue=a.PriorityTaskQueue=void 0;const h=c(6114);class g{constructor(){this._tasks=[],this._i=0}enqueue(y){this._tasks.push(y),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(y){this._idleCallback=void 0;let C=0,w=0,_=y.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(C=Date.now(),this._tasks[this._i]()||this._i++,C=Math.max(1,Date.now()-C),w=Math.max(C,w),f=y.timeRemaining(),1.5*w>f)return _-C<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(_-C))}ms`),void this._start();_=f}this.clear()}}class u extends g{_requestCallback(y){return setTimeout(()=>y(this._createDeadline(16)))}_cancelCallback(y){clearTimeout(y)}_createDeadline(y){const C=Date.now()+y;return{timeRemaining:()=>Math.max(0,C-Date.now())}}}a.PriorityTaskQueue=u,a.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends g{_requestCallback(v){return requestIdleCallback(v)}_cancelCallback(v){cancelIdleCallback(v)}}:u,a.DebouncedIdleTask=class{constructor(){this._queue=new a.IdleTaskQueue}set(v){this._queue.clear(),this._queue.enqueue(v)}flush(){this._queue.flush()}}},9282:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.updateWindowsModeWrappedState=void 0;const h=c(643);a.updateWindowsModeWrappedState=function(g){const u=g.buffer.lines.get(g.buffer.ybase+g.buffer.y-1),v=u==null?void 0:u.get(g.cols-1),y=g.buffer.lines.get(g.buffer.ybase+g.buffer.y);y&&v&&(y.isWrapped=v[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&v[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExtendedAttrs=a.AttributeData=void 0;class c{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(u){return[u>>>16&255,u>>>8&255,255&u]}static fromColorRGB(u){return(255&u[0])<<16|(255&u[1])<<8|255&u[2]}clone(){const u=new c;return u.fg=this.fg,u.bg=this.bg,u.extended=this.extended.clone(),u}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}a.AttributeData=c;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(u){this._ext=u}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(u){this._ext&=-469762049,this._ext|=u<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(u){this._ext&=-67108864,this._ext|=67108863&u}get urlId(){return this._urlId}set urlId(u){this._urlId=u}constructor(u=0,v=0){this._ext=0,this._urlId=0,this._ext=u,this._urlId=v}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}a.ExtendedAttrs=h},9092:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Buffer=a.MAX_BUFFER_SIZE=void 0;const h=c(6349),g=c(7226),u=c(3734),v=c(8437),y=c(4634),C=c(511),w=c(643),_=c(4863),f=c(7116);a.MAX_BUFFER_SIZE=4294967295,a.Buffer=class{constructor(d,p,m){this._hasScrollback=d,this._optionsService=p,this._bufferService=m,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=v.DEFAULT_ATTR_DATA.clone(),this.savedCharset=f.DEFAULT_CHARSET,this.markers=[],this._nullCell=C.CellData.fromCharData([0,w.NULL_CELL_CHAR,w.NULL_CELL_WIDTH,w.NULL_CELL_CODE]),this._whitespaceCell=C.CellData.fromCharData([0,w.WHITESPACE_CELL_CHAR,w.WHITESPACE_CELL_WIDTH,w.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new g.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(d){return d?(this._nullCell.fg=d.fg,this._nullCell.bg=d.bg,this._nullCell.extended=d.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new u.ExtendedAttrs),this._nullCell}getWhitespaceCell(d){return d?(this._whitespaceCell.fg=d.fg,this._whitespaceCell.bg=d.bg,this._whitespaceCell.extended=d.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new u.ExtendedAttrs),this._whitespaceCell}getBlankLine(d,p){return new v.BufferLine(this._bufferService.cols,this.getNullCell(d),p)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const d=this.ybase+this.y-this.ydisp;return d>=0&&d<this._rows}_getCorrectBufferLength(d){if(!this._hasScrollback)return d;const p=d+this._optionsService.rawOptions.scrollback;return p>a.MAX_BUFFER_SIZE?a.MAX_BUFFER_SIZE:p}fillViewportRows(d){if(this.lines.length===0){d===void 0&&(d=v.DEFAULT_ATTR_DATA);let p=this._rows;for(;p--;)this.lines.push(this.getBlankLine(d))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(d,p){const m=this.getNullCell(v.DEFAULT_ATTR_DATA);let S=0;const x=this._getCorrectBufferLength(p);if(x>this.lines.maxLength&&(this.lines.maxLength=x),this.lines.length>0){if(this._cols<d)for(let b=0;b<this.lines.length;b++)S+=+this.lines.get(b).resize(d,m);let k=0;if(this._rows<p)for(let b=this._rows;b<p;b++)this.lines.length<p+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new v.BufferLine(d,m)):this.ybase>0&&this.lines.length<=this.ybase+this.y+k+1?(this.ybase--,k++,this.ydisp>0&&this.ydisp--):this.lines.push(new v.BufferLine(d,m)));else for(let b=this._rows;b>p;b--)this.lines.length>p+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(x<this.lines.maxLength){const b=this.lines.length-x;b>0&&(this.lines.trimStart(b),this.ybase=Math.max(this.ybase-b,0),this.ydisp=Math.max(this.ydisp-b,0),this.savedY=Math.max(this.savedY-b,0)),this.lines.maxLength=x}this.x=Math.min(this.x,d-1),this.y=Math.min(this.y,p-1),k&&(this.y+=k),this.savedX=Math.min(this.savedX,d-1),this.scrollTop=0}if(this.scrollBottom=p-1,this._isReflowEnabled&&(this._reflow(d,p),this._cols>d))for(let k=0;k<this.lines.length;k++)S+=+this.lines.get(k).resize(d,m);this._cols=d,this._rows=p,this._memoryCleanupQueue.clear(),S>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let d=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,d=!1);let p=0;for(;this._memoryCleanupPosition<this.lines.length;)if(p+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),p>100)return!0;return d}get _isReflowEnabled(){const d=this._optionsService.rawOptions.windowsPty;return d&&d.buildNumber?this._hasScrollback&&d.backend==="conpty"&&d.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(d,p){this._cols!==d&&(d>this._cols?this._reflowLarger(d,p):this._reflowSmaller(d,p))}_reflowLarger(d,p){const m=(0,y.reflowLargerGetLinesToRemove)(this.lines,this._cols,d,this.ybase+this.y,this.getNullCell(v.DEFAULT_ATTR_DATA));if(m.length>0){const S=(0,y.reflowLargerCreateNewLayout)(this.lines,m);(0,y.reflowLargerApplyNewLayout)(this.lines,S.layout),this._reflowLargerAdjustViewport(d,p,S.countRemoved)}}_reflowLargerAdjustViewport(d,p,m){const S=this.getNullCell(v.DEFAULT_ATTR_DATA);let x=m;for(;x-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<p&&this.lines.push(new v.BufferLine(d,S))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-m,0)}_reflowSmaller(d,p){const m=this.getNullCell(v.DEFAULT_ATTR_DATA),S=[];let x=0;for(let k=this.lines.length-1;k>=0;k--){let b=this.lines.get(k);if(!b||!b.isWrapped&&b.getTrimmedLength()<=d)continue;const E=[b];for(;b.isWrapped&&k>0;)b=this.lines.get(--k),E.unshift(b);const A=this.ybase+this.y;if(A>=k&&A<k+E.length)continue;const P=E[E.length-1].getTrimmedLength(),D=(0,y.reflowSmallerGetNewLineLengths)(E,this._cols,d),I=D.length-E.length;let O;O=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+I):Math.max(0,this.lines.length-this.lines.maxLength+I);const H=[];for(let B=0;B<I;B++){const j=this.getBlankLine(v.DEFAULT_ATTR_DATA,!0);H.push(j)}H.length>0&&(S.push({start:k+E.length+x,newLines:H}),x+=H.length),E.push(...H);let N=D.length-1,F=D[N];F===0&&(N--,F=D[N]);let R=E.length-I-1,L=P;for(;R>=0;){const B=Math.min(L,F);if(E[N]===void 0)break;if(E[N].copyCellsFrom(E[R],L-B,F-B,B,!0),F-=B,F===0&&(N--,F=D[N]),L-=B,L===0){R--;const j=Math.max(R,0);L=(0,y.getWrappedLineTrimmedLength)(E,j,this._cols)}}for(let B=0;B<E.length;B++)D[B]<d&&E[B].setCell(D[B],m);let M=I-O;for(;M-- >0;)this.ybase===0?this.y<p-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+x)-p&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+I,this.ybase+p-1)}if(S.length>0){const k=[],b=[];for(let N=0;N<this.lines.length;N++)b.push(this.lines.get(N));const E=this.lines.length;let A=E-1,P=0,D=S[P];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+x);let I=0;for(let N=Math.min(this.lines.maxLength-1,E+x-1);N>=0;N--)if(D&&D.start>A+I){for(let F=D.newLines.length-1;F>=0;F--)this.lines.set(N--,D.newLines[F]);N++,k.push({index:A+1,amount:D.newLines.length}),I+=D.newLines.length,D=S[++P]}else this.lines.set(N,b[A--]);let O=0;for(let N=k.length-1;N>=0;N--)k[N].index+=O,this.lines.onInsertEmitter.fire(k[N]),O+=k[N].amount;const H=Math.max(0,E+x-this.lines.maxLength);H>0&&this.lines.onTrimEmitter.fire(H)}}translateBufferLineToString(d,p,m=0,S){const x=this.lines.get(d);return x?x.translateToString(p,m,S):""}getWrappedRangeForLine(d){let p=d,m=d;for(;p>0&&this.lines.get(p).isWrapped;)p--;for(;m+1<this.lines.length&&this.lines.get(m+1).isWrapped;)m++;return{first:p,last:m}}setupTabStops(d){for(d!=null?this.tabs[d]||(d=this.prevStop(d)):(this.tabs={},d=0);d<this._cols;d+=this._optionsService.rawOptions.tabStopWidth)this.tabs[d]=!0}prevStop(d){for(d==null&&(d=this.x);!this.tabs[--d]&&d>0;);return d>=this._cols?this._cols-1:d<0?0:d}nextStop(d){for(d==null&&(d=this.x);!this.tabs[++d]&&d<this._cols;);return d>=this._cols?this._cols-1:d<0?0:d}clearMarkers(d){this._isClearing=!0;for(let p=0;p<this.markers.length;p++)this.markers[p].line===d&&(this.markers[p].dispose(),this.markers.splice(p--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].dispose(),this.markers.splice(d--,1);this._isClearing=!1}addMarker(d){const p=new _.Marker(d);return this.markers.push(p),p.register(this.lines.onTrim(m=>{p.line-=m,p.line<0&&p.dispose()})),p.register(this.lines.onInsert(m=>{p.line>=m.index&&(p.line+=m.amount)})),p.register(this.lines.onDelete(m=>{p.line>=m.index&&p.line<m.index+m.amount&&p.dispose(),p.line>m.index&&(p.line-=m.amount)})),p.register(p.onDispose(()=>this._removeMarker(p))),p}_removeMarker(d){this._isClearing||this.markers.splice(this.markers.indexOf(d),1)}}},8437:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLine=a.DEFAULT_ATTR_DATA=void 0;const h=c(3734),g=c(511),u=c(643),v=c(482);a.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);let y=0;class C{constructor(_,f,d=!1){this.isWrapped=d,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*_);const p=f||g.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let m=0;m<_;++m)this.setCell(m,p);this.length=_}get(_){const f=this._data[3*_+0],d=2097151&f;return[this._data[3*_+1],2097152&f?this._combined[_]:d?(0,v.stringFromCodePoint)(d):"",f>>22,2097152&f?this._combined[_].charCodeAt(this._combined[_].length-1):d]}set(_,f){this._data[3*_+1]=f[u.CHAR_DATA_ATTR_INDEX],f[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[_]=f[1],this._data[3*_+0]=2097152|_|f[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*_+0]=f[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(_){return this._data[3*_+0]>>22}hasWidth(_){return 12582912&this._data[3*_+0]}getFg(_){return this._data[3*_+1]}getBg(_){return this._data[3*_+2]}hasContent(_){return 4194303&this._data[3*_+0]}getCodePoint(_){const f=this._data[3*_+0];return 2097152&f?this._combined[_].charCodeAt(this._combined[_].length-1):2097151&f}isCombined(_){return 2097152&this._data[3*_+0]}getString(_){const f=this._data[3*_+0];return 2097152&f?this._combined[_]:2097151&f?(0,v.stringFromCodePoint)(2097151&f):""}isProtected(_){return 536870912&this._data[3*_+2]}loadCell(_,f){return y=3*_,f.content=this._data[y+0],f.fg=this._data[y+1],f.bg=this._data[y+2],2097152&f.content&&(f.combinedData=this._combined[_]),268435456&f.bg&&(f.extended=this._extendedAttrs[_]),f}setCell(_,f){2097152&f.content&&(this._combined[_]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[_]=f.extended),this._data[3*_+0]=f.content,this._data[3*_+1]=f.fg,this._data[3*_+2]=f.bg}setCellFromCodePoint(_,f,d,p,m,S){268435456&m&&(this._extendedAttrs[_]=S),this._data[3*_+0]=f|d<<22,this._data[3*_+1]=p,this._data[3*_+2]=m}addCodepointToCell(_,f){let d=this._data[3*_+0];2097152&d?this._combined[_]+=(0,v.stringFromCodePoint)(f):(2097151&d?(this._combined[_]=(0,v.stringFromCodePoint)(2097151&d)+(0,v.stringFromCodePoint)(f),d&=-2097152,d|=2097152):d=f|4194304,this._data[3*_+0]=d)}insertCells(_,f,d,p){if((_%=this.length)&&this.getWidth(_-1)===2&&this.setCellFromCodePoint(_-1,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new h.ExtendedAttrs),f<this.length-_){const m=new g.CellData;for(let S=this.length-_-f-1;S>=0;--S)this.setCell(_+f+S,this.loadCell(_+S,m));for(let S=0;S<f;++S)this.setCell(_+S,d)}else for(let m=_;m<this.length;++m)this.setCell(m,d);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new h.ExtendedAttrs)}deleteCells(_,f,d,p){if(_%=this.length,f<this.length-_){const m=new g.CellData;for(let S=0;S<this.length-_-f;++S)this.setCell(_+S,this.loadCell(_+f+S,m));for(let S=this.length-f;S<this.length;++S)this.setCell(S,d)}else for(let m=_;m<this.length;++m)this.setCell(m,d);_&&this.getWidth(_-1)===2&&this.setCellFromCodePoint(_-1,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new h.ExtendedAttrs),this.getWidth(_)!==0||this.hasContent(_)||this.setCellFromCodePoint(_,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new h.ExtendedAttrs)}replaceCells(_,f,d,p,m=!1){if(m)for(_&&this.getWidth(_-1)===2&&!this.isProtected(_-1)&&this.setCellFromCodePoint(_-1,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new h.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&!this.isProtected(f)&&this.setCellFromCodePoint(f,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new h.ExtendedAttrs);_<f&&_<this.length;)this.isProtected(_)||this.setCell(_,d),_++;else for(_&&this.getWidth(_-1)===2&&this.setCellFromCodePoint(_-1,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new h.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&this.setCellFromCodePoint(f,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new h.ExtendedAttrs);_<f&&_<this.length;)this.setCell(_++,d)}resize(_,f){if(_===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const d=3*_;if(_>this.length){if(this._data.buffer.byteLength>=4*d)this._data=new Uint32Array(this._data.buffer,0,d);else{const p=new Uint32Array(d);p.set(this._data),this._data=p}for(let p=this.length;p<_;++p)this.setCell(p,f)}else{this._data=this._data.subarray(0,d);const p=Object.keys(this._combined);for(let S=0;S<p.length;S++){const x=parseInt(p[S],10);x>=_&&delete this._combined[x]}const m=Object.keys(this._extendedAttrs);for(let S=0;S<m.length;S++){const x=parseInt(m[S],10);x>=_&&delete this._extendedAttrs[x]}}return this.length=_,4*d*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const _=new Uint32Array(this._data.length);return _.set(this._data),this._data=_,1}return 0}fill(_,f=!1){if(f)for(let d=0;d<this.length;++d)this.isProtected(d)||this.setCell(d,_);else{this._combined={},this._extendedAttrs={};for(let d=0;d<this.length;++d)this.setCell(d,_)}}copyFrom(_){this.length!==_.length?this._data=new Uint32Array(_._data):this._data.set(_._data),this.length=_.length,this._combined={};for(const f in _._combined)this._combined[f]=_._combined[f];this._extendedAttrs={};for(const f in _._extendedAttrs)this._extendedAttrs[f]=_._extendedAttrs[f];this.isWrapped=_.isWrapped}clone(){const _=new C(0);_._data=new Uint32Array(this._data),_.length=this.length;for(const f in this._combined)_._combined[f]=this._combined[f];for(const f in this._extendedAttrs)_._extendedAttrs[f]=this._extendedAttrs[f];return _.isWrapped=this.isWrapped,_}getTrimmedLength(){for(let _=this.length-1;_>=0;--_)if(4194303&this._data[3*_+0])return _+(this._data[3*_+0]>>22);return 0}getNoBgTrimmedLength(){for(let _=this.length-1;_>=0;--_)if(4194303&this._data[3*_+0]||50331648&this._data[3*_+2])return _+(this._data[3*_+0]>>22);return 0}copyCellsFrom(_,f,d,p,m){const S=_._data;if(m)for(let k=p-1;k>=0;k--){for(let b=0;b<3;b++)this._data[3*(d+k)+b]=S[3*(f+k)+b];268435456&S[3*(f+k)+2]&&(this._extendedAttrs[d+k]=_._extendedAttrs[f+k])}else for(let k=0;k<p;k++){for(let b=0;b<3;b++)this._data[3*(d+k)+b]=S[3*(f+k)+b];268435456&S[3*(f+k)+2]&&(this._extendedAttrs[d+k]=_._extendedAttrs[f+k])}const x=Object.keys(_._combined);for(let k=0;k<x.length;k++){const b=parseInt(x[k],10);b>=f&&(this._combined[b-f+d]=_._combined[b])}}translateToString(_=!1,f=0,d=this.length){_&&(d=Math.min(d,this.getTrimmedLength()));let p="";for(;f<d;){const m=this._data[3*f+0],S=2097151&m;p+=2097152&m?this._combined[f]:S?(0,v.stringFromCodePoint)(S):u.WHITESPACE_CELL_CHAR,f+=m>>22||1}return p}}a.BufferLine=C},4841:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getRangeLength=void 0,a.getRangeLength=function(c,h){if(c.start.y>c.end.y)throw new Error(`Buffer range end (${c.end.x}, ${c.end.y}) cannot be before start (${c.start.x}, ${c.start.y})`);return h*(c.end.y-c.start.y)+(c.end.x-c.start.x+1)}},4634:(l,a)=>{function c(h,g,u){if(g===h.length-1)return h[g].getTrimmedLength();const v=!h[g].hasContent(u-1)&&h[g].getWidth(u-1)===1,y=h[g+1].getWidth(0)===2;return v&&y?u-1:u}Object.defineProperty(a,"__esModule",{value:!0}),a.getWrappedLineTrimmedLength=a.reflowSmallerGetNewLineLengths=a.reflowLargerApplyNewLayout=a.reflowLargerCreateNewLayout=a.reflowLargerGetLinesToRemove=void 0,a.reflowLargerGetLinesToRemove=function(h,g,u,v,y){const C=[];for(let w=0;w<h.length-1;w++){let _=w,f=h.get(++_);if(!f.isWrapped)continue;const d=[h.get(w)];for(;_<h.length&&f.isWrapped;)d.push(f),f=h.get(++_);if(v>=w&&v<_){w+=d.length-1;continue}let p=0,m=c(d,p,g),S=1,x=0;for(;S<d.length;){const b=c(d,S,g),E=b-x,A=u-m,P=Math.min(E,A);d[p].copyCellsFrom(d[S],x,m,P,!1),m+=P,m===u&&(p++,m=0),x+=P,x===b&&(S++,x=0),m===0&&p!==0&&d[p-1].getWidth(u-1)===2&&(d[p].copyCellsFrom(d[p-1],u-1,m++,1,!1),d[p-1].setCell(u-1,y))}d[p].replaceCells(m,u,y);let k=0;for(let b=d.length-1;b>0&&(b>p||d[b].getTrimmedLength()===0);b--)k++;k>0&&(C.push(w+d.length-k),C.push(k)),w+=d.length-1}return C},a.reflowLargerCreateNewLayout=function(h,g){const u=[];let v=0,y=g[v],C=0;for(let w=0;w<h.length;w++)if(y===w){const _=g[++v];h.onDeleteEmitter.fire({index:w-C,amount:_}),w+=_-1,C+=_,y=g[++v]}else u.push(w);return{layout:u,countRemoved:C}},a.reflowLargerApplyNewLayout=function(h,g){const u=[];for(let v=0;v<g.length;v++)u.push(h.get(g[v]));for(let v=0;v<u.length;v++)h.set(v,u[v]);h.length=g.length},a.reflowSmallerGetNewLineLengths=function(h,g,u){const v=[],y=h.map((f,d)=>c(h,d,g)).reduce((f,d)=>f+d);let C=0,w=0,_=0;for(;_<y;){if(y-_<u){v.push(y-_);break}C+=u;const f=c(h,w,g);C>f&&(C-=f,w++);const d=h[w].getWidth(C-1)===2;d&&C--;const p=d?u-1:u;v.push(p),_+=p}return v},a.getWrappedLineTrimmedLength=c},5295:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferSet=void 0;const h=c(8460),g=c(844),u=c(9092);class v extends g.Disposable{constructor(C,w){super(),this._optionsService=C,this._bufferService=w,this._onBufferActivate=this.register(new h.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new u.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new u.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(C){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(C),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(C,w){this._normal.resize(C,w),this._alt.resize(C,w),this.setupTabStops(C)}setupTabStops(C){this._normal.setupTabStops(C),this._alt.setupTabStops(C)}}a.BufferSet=v},511:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CellData=void 0;const h=c(482),g=c(643),u=c(3734);class v extends u.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new u.ExtendedAttrs,this.combinedData=""}static fromCharData(C){const w=new v;return w.setFromCharData(C),w}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,h.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(C){this.fg=C[g.CHAR_DATA_ATTR_INDEX],this.bg=0;let w=!1;if(C[g.CHAR_DATA_CHAR_INDEX].length>2)w=!0;else if(C[g.CHAR_DATA_CHAR_INDEX].length===2){const _=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=_&&_<=56319){const f=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(_-55296)+f-56320+65536|C[g.CHAR_DATA_WIDTH_INDEX]<<22:w=!0}else w=!0}else this.content=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[g.CHAR_DATA_WIDTH_INDEX]<<22;w&&(this.combinedData=C[g.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[g.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.CellData=v},643:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WHITESPACE_CELL_CODE=a.WHITESPACE_CELL_WIDTH=a.WHITESPACE_CELL_CHAR=a.NULL_CELL_CODE=a.NULL_CELL_WIDTH=a.NULL_CELL_CHAR=a.CHAR_DATA_CODE_INDEX=a.CHAR_DATA_WIDTH_INDEX=a.CHAR_DATA_CHAR_INDEX=a.CHAR_DATA_ATTR_INDEX=a.DEFAULT_EXT=a.DEFAULT_ATTR=a.DEFAULT_COLOR=void 0,a.DEFAULT_COLOR=0,a.DEFAULT_ATTR=256|a.DEFAULT_COLOR<<9,a.DEFAULT_EXT=0,a.CHAR_DATA_ATTR_INDEX=0,a.CHAR_DATA_CHAR_INDEX=1,a.CHAR_DATA_WIDTH_INDEX=2,a.CHAR_DATA_CODE_INDEX=3,a.NULL_CELL_CHAR="",a.NULL_CELL_WIDTH=1,a.NULL_CELL_CODE=0,a.WHITESPACE_CELL_CHAR=" ",a.WHITESPACE_CELL_WIDTH=1,a.WHITESPACE_CELL_CODE=32},4863:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Marker=void 0;const h=c(8460),g=c(844);class u{get id(){return this._id}constructor(y){this.line=y,this.isDisposed=!1,this._disposables=[],this._id=u._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,g.disposeArray)(this._disposables),this._disposables.length=0)}register(y){return this._disposables.push(y),y}}a.Marker=u,u._nextId=1},7116:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_CHARSET=a.CHARSETS=void 0,a.CHARSETS={},a.DEFAULT_CHARSET=a.CHARSETS.B,a.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},a.CHARSETS.A={"#":""},a.CHARSETS.B=void 0,a.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},a.CHARSETS.C=a.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.E=a.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},a.CHARSETS.H=a.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(l,a)=>{var c,h,g;Object.defineProperty(a,"__esModule",{value:!0}),a.C1_ESCAPED=a.C1=a.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL=""}(c||(a.C0=c={})),function(u){u.PAD="",u.HOP="",u.BPH="",u.NBH="",u.IND="",u.NEL="",u.SSA="",u.ESA="",u.HTS="",u.HTJ="",u.VTS="",u.PLD="",u.PLU="",u.RI="",u.SS2="",u.SS3="",u.DCS="",u.PU1="",u.PU2="",u.STS="",u.CCH="",u.MW="",u.SPA="",u.EPA="",u.SOS="",u.SGCI="",u.SCI="",u.CSI="",u.ST="",u.OSC="",u.PM="",u.APC=""}(h||(a.C1=h={})),function(u){u.ST=`${c.ESC}\\`}(g||(a.C1_ESCAPED=g={}))},7399:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.evaluateKeyboardEvent=void 0;const h=c(2584),g={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};a.evaluateKeyboardEvent=function(u,v,y,C){const w={type:0,cancel:!1,key:void 0},_=(u.shiftKey?1:0)|(u.altKey?2:0)|(u.ctrlKey?4:0)|(u.metaKey?8:0);switch(u.keyCode){case 0:u.key==="UIKeyInputUpArrow"?w.key=v?h.C0.ESC+"OA":h.C0.ESC+"[A":u.key==="UIKeyInputLeftArrow"?w.key=v?h.C0.ESC+"OD":h.C0.ESC+"[D":u.key==="UIKeyInputRightArrow"?w.key=v?h.C0.ESC+"OC":h.C0.ESC+"[C":u.key==="UIKeyInputDownArrow"&&(w.key=v?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:if(u.altKey){w.key=h.C0.ESC+h.C0.DEL;break}w.key=h.C0.DEL;break;case 9:if(u.shiftKey){w.key=h.C0.ESC+"[Z";break}w.key=h.C0.HT,w.cancel=!0;break;case 13:w.key=u.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,w.cancel=!0;break;case 27:w.key=h.C0.ESC,u.altKey&&(w.key=h.C0.ESC+h.C0.ESC),w.cancel=!0;break;case 37:if(u.metaKey)break;_?(w.key=h.C0.ESC+"[1;"+(_+1)+"D",w.key===h.C0.ESC+"[1;3D"&&(w.key=h.C0.ESC+(y?"b":"[1;5D"))):w.key=v?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(u.metaKey)break;_?(w.key=h.C0.ESC+"[1;"+(_+1)+"C",w.key===h.C0.ESC+"[1;3C"&&(w.key=h.C0.ESC+(y?"f":"[1;5C"))):w.key=v?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(u.metaKey)break;_?(w.key=h.C0.ESC+"[1;"+(_+1)+"A",y||w.key!==h.C0.ESC+"[1;3A"||(w.key=h.C0.ESC+"[1;5A")):w.key=v?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(u.metaKey)break;_?(w.key=h.C0.ESC+"[1;"+(_+1)+"B",y||w.key!==h.C0.ESC+"[1;3B"||(w.key=h.C0.ESC+"[1;5B")):w.key=v?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:u.shiftKey||u.ctrlKey||(w.key=h.C0.ESC+"[2~");break;case 46:w.key=_?h.C0.ESC+"[3;"+(_+1)+"~":h.C0.ESC+"[3~";break;case 36:w.key=_?h.C0.ESC+"[1;"+(_+1)+"H":v?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:w.key=_?h.C0.ESC+"[1;"+(_+1)+"F":v?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:u.shiftKey?w.type=2:u.ctrlKey?w.key=h.C0.ESC+"[5;"+(_+1)+"~":w.key=h.C0.ESC+"[5~";break;case 34:u.shiftKey?w.type=3:u.ctrlKey?w.key=h.C0.ESC+"[6;"+(_+1)+"~":w.key=h.C0.ESC+"[6~";break;case 112:w.key=_?h.C0.ESC+"[1;"+(_+1)+"P":h.C0.ESC+"OP";break;case 113:w.key=_?h.C0.ESC+"[1;"+(_+1)+"Q":h.C0.ESC+"OQ";break;case 114:w.key=_?h.C0.ESC+"[1;"+(_+1)+"R":h.C0.ESC+"OR";break;case 115:w.key=_?h.C0.ESC+"[1;"+(_+1)+"S":h.C0.ESC+"OS";break;case 116:w.key=_?h.C0.ESC+"[15;"+(_+1)+"~":h.C0.ESC+"[15~";break;case 117:w.key=_?h.C0.ESC+"[17;"+(_+1)+"~":h.C0.ESC+"[17~";break;case 118:w.key=_?h.C0.ESC+"[18;"+(_+1)+"~":h.C0.ESC+"[18~";break;case 119:w.key=_?h.C0.ESC+"[19;"+(_+1)+"~":h.C0.ESC+"[19~";break;case 120:w.key=_?h.C0.ESC+"[20;"+(_+1)+"~":h.C0.ESC+"[20~";break;case 121:w.key=_?h.C0.ESC+"[21;"+(_+1)+"~":h.C0.ESC+"[21~";break;case 122:w.key=_?h.C0.ESC+"[23;"+(_+1)+"~":h.C0.ESC+"[23~";break;case 123:w.key=_?h.C0.ESC+"[24;"+(_+1)+"~":h.C0.ESC+"[24~";break;default:if(!u.ctrlKey||u.shiftKey||u.altKey||u.metaKey)if(y&&!C||!u.altKey||u.metaKey)!y||u.altKey||u.ctrlKey||u.shiftKey||!u.metaKey?u.key&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&u.keyCode>=48&&u.key.length===1?w.key=u.key:u.key&&u.ctrlKey&&(u.key==="_"&&(w.key=h.C0.US),u.key==="@"&&(w.key=h.C0.NUL)):u.keyCode===65&&(w.type=1);else{const f=g[u.keyCode],d=f==null?void 0:f[u.shiftKey?1:0];if(d)w.key=h.C0.ESC+d;else if(u.keyCode>=65&&u.keyCode<=90){const p=u.ctrlKey?u.keyCode-64:u.keyCode+32;let m=String.fromCharCode(p);u.shiftKey&&(m=m.toUpperCase()),w.key=h.C0.ESC+m}else if(u.keyCode===32)w.key=h.C0.ESC+(u.ctrlKey?h.C0.NUL:" ");else if(u.key==="Dead"&&u.code.startsWith("Key")){let p=u.code.slice(3,4);u.shiftKey||(p=p.toLowerCase()),w.key=h.C0.ESC+p,w.cancel=!0}}else u.keyCode>=65&&u.keyCode<=90?w.key=String.fromCharCode(u.keyCode-64):u.keyCode===32?w.key=h.C0.NUL:u.keyCode>=51&&u.keyCode<=55?w.key=String.fromCharCode(u.keyCode-51+27):u.keyCode===56?w.key=h.C0.DEL:u.keyCode===219?w.key=h.C0.ESC:u.keyCode===220?w.key=h.C0.FS:u.keyCode===221&&(w.key=h.C0.GS)}return w}},482:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Utf8ToUtf32=a.StringToUtf32=a.utf32ToString=a.stringFromCodePoint=void 0,a.stringFromCodePoint=function(c){return c>65535?(c-=65536,String.fromCharCode(55296+(c>>10))+String.fromCharCode(c%1024+56320)):String.fromCharCode(c)},a.utf32ToString=function(c,h=0,g=c.length){let u="";for(let v=h;v<g;++v){let y=c[v];y>65535?(y-=65536,u+=String.fromCharCode(55296+(y>>10))+String.fromCharCode(y%1024+56320)):u+=String.fromCharCode(y)}return u},a.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(c,h){const g=c.length;if(!g)return 0;let u=0,v=0;if(this._interim){const y=c.charCodeAt(v++);56320<=y&&y<=57343?h[u++]=1024*(this._interim-55296)+y-56320+65536:(h[u++]=this._interim,h[u++]=y),this._interim=0}for(let y=v;y<g;++y){const C=c.charCodeAt(y);if(55296<=C&&C<=56319){if(++y>=g)return this._interim=C,u;const w=c.charCodeAt(y);56320<=w&&w<=57343?h[u++]=1024*(C-55296)+w-56320+65536:(h[u++]=C,h[u++]=w)}else C!==65279&&(h[u++]=C)}return u}},a.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(c,h){const g=c.length;if(!g)return 0;let u,v,y,C,w=0,_=0,f=0;if(this.interim[0]){let m=!1,S=this.interim[0];S&=(224&S)==192?31:(240&S)==224?15:7;let x,k=0;for(;(x=63&this.interim[++k])&&k<4;)S<<=6,S|=x;const b=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=b-k;for(;f<E;){if(f>=g)return 0;if(x=c[f++],(192&x)!=128){f--,m=!0;break}this.interim[k++]=x,S<<=6,S|=63&x}m||(b===2?S<128?f--:h[w++]=S:b===3?S<2048||S>=55296&&S<=57343||S===65279||(h[w++]=S):S<65536||S>1114111||(h[w++]=S)),this.interim.fill(0)}const d=g-4;let p=f;for(;p<g;){for(;!(!(p<d)||128&(u=c[p])||128&(v=c[p+1])||128&(y=c[p+2])||128&(C=c[p+3]));)h[w++]=u,h[w++]=v,h[w++]=y,h[w++]=C,p+=4;if(u=c[p++],u<128)h[w++]=u;else if((224&u)==192){if(p>=g)return this.interim[0]=u,w;if(v=c[p++],(192&v)!=128){p--;continue}if(_=(31&u)<<6|63&v,_<128){p--;continue}h[w++]=_}else if((240&u)==224){if(p>=g)return this.interim[0]=u,w;if(v=c[p++],(192&v)!=128){p--;continue}if(p>=g)return this.interim[0]=u,this.interim[1]=v,w;if(y=c[p++],(192&y)!=128){p--;continue}if(_=(15&u)<<12|(63&v)<<6|63&y,_<2048||_>=55296&&_<=57343||_===65279)continue;h[w++]=_}else if((248&u)==240){if(p>=g)return this.interim[0]=u,w;if(v=c[p++],(192&v)!=128){p--;continue}if(p>=g)return this.interim[0]=u,this.interim[1]=v,w;if(y=c[p++],(192&y)!=128){p--;continue}if(p>=g)return this.interim[0]=u,this.interim[1]=v,this.interim[2]=y,w;if(C=c[p++],(192&C)!=128){p--;continue}if(_=(7&u)<<18|(63&v)<<12|(63&y)<<6|63&C,_<65536||_>1114111)continue;h[w++]=_}}return w}}},225:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeV6=void 0;const c=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let g;a.UnicodeV6=class{constructor(){if(this.version="6",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160),g.fill(2,4352,4448),g[9001]=2,g[9002]=2,g.fill(2,11904,42192),g[12351]=1,g.fill(2,44032,55204),g.fill(2,63744,64256),g.fill(2,65040,65050),g.fill(2,65072,65136),g.fill(2,65280,65377),g.fill(2,65504,65511);for(let u=0;u<c.length;++u)g.fill(0,c[u][0],c[u][1]+1)}}wcwidth(u){return u<32?0:u<127?1:u<65536?g[u]:function(v,y){let C,w=0,_=y.length-1;if(v<y[0][0]||v>y[_][1])return!1;for(;_>=w;)if(C=w+_>>1,v>y[C][1])w=C+1;else{if(!(v<y[C][0]))return!0;_=C-1}return!1}(u,h)?0:u>=131072&&u<=196605||u>=196608&&u<=262141?2:1}}},5981:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WriteBuffer=void 0;const h=c(8460),g=c(844);class u extends g.Disposable{constructor(y){super(),this._action=y,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(y,C){if(C!==void 0&&this._syncCalls>C)return void(this._syncCalls=0);if(this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let w;for(this._isSyncWriting=!0;w=this._writeBuffer.shift();){this._action(w);const _=this._callbacks.shift();_&&_()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(y,C){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(C),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(C)}_innerWrite(y=0,C=!0){const w=y||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const _=this._writeBuffer[this._bufferOffset],f=this._action(_,C);if(f){const p=m=>Date.now()-w>=12?setTimeout(()=>this._innerWrite(0,m)):this._innerWrite(w,m);return void f.catch(m=>(queueMicrotask(()=>{throw m}),Promise.resolve(!1))).then(p)}const d=this._callbacks[this._bufferOffset];if(d&&d(),this._bufferOffset++,this._pendingData-=_.length,Date.now()-w>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}a.WriteBuffer=u},5941:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.toRgbString=a.parseColor=void 0;const c=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function g(u,v){const y=u.toString(16),C=y.length<2?"0"+y:y;switch(v){case 4:return y[0];case 8:return C;case 12:return(C+C).slice(0,3);default:return C+C}}a.parseColor=function(u){if(!u)return;let v=u.toLowerCase();if(v.indexOf("rgb:")===0){v=v.slice(4);const y=c.exec(v);if(y){const C=y[1]?15:y[4]?255:y[7]?4095:65535;return[Math.round(parseInt(y[1]||y[4]||y[7]||y[10],16)/C*255),Math.round(parseInt(y[2]||y[5]||y[8]||y[11],16)/C*255),Math.round(parseInt(y[3]||y[6]||y[9]||y[12],16)/C*255)]}}else if(v.indexOf("#")===0&&(v=v.slice(1),h.exec(v)&&[3,6,9,12].includes(v.length))){const y=v.length/3,C=[0,0,0];for(let w=0;w<3;++w){const _=parseInt(v.slice(y*w,y*w+y),16);C[w]=y===1?_<<4:y===2?_:y===3?_>>4:_>>8}return C}},a.toRgbString=function(u,v=16){const[y,C,w]=u;return`rgb:${g(y,v)}/${g(C,v)}/${g(w,v)}`}},5770:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PAYLOAD_LIMIT=void 0,a.PAYLOAD_LIMIT=1e7},6351:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DcsHandler=a.DcsParser=void 0;const h=c(482),g=c(8742),u=c(5770),v=[];a.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=v,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=v}registerHandler(C,w){this._handlers[C]===void 0&&(this._handlers[C]=[]);const _=this._handlers[C];return _.push(w),{dispose:()=>{const f=_.indexOf(w);f!==-1&&_.splice(f,1)}}}clearHandler(C){this._handlers[C]&&delete this._handlers[C]}setHandlerFallback(C){this._handlerFb=C}reset(){if(this._active.length)for(let C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=v,this._ident=0}hook(C,w){if(this.reset(),this._ident=C,this._active=this._handlers[C]||v,this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].hook(w);else this._handlerFb(this._ident,"HOOK",w)}put(C,w,_){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(C,w,_);else this._handlerFb(this._ident,"PUT",(0,h.utf32ToString)(C,w,_))}unhook(C,w=!0){if(this._active.length){let _=!1,f=this._active.length-1,d=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,_=w,d=this._stack.fallThrough,this._stack.paused=!1),!d&&_===!1){for(;f>=0&&(_=this._active[f].unhook(C),_!==!0);f--)if(_ instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,_;f--}for(;f>=0;f--)if(_=this._active[f].unhook(!1),_ instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,_}else this._handlerFb(this._ident,"UNHOOK",C);this._active=v,this._ident=0}};const y=new g.Params;y.addParam(0),a.DcsHandler=class{constructor(C){this._handler=C,this._data="",this._params=y,this._hitLimit=!1}hook(C){this._params=C.length>1||C.params[0]?C.clone():y,this._data="",this._hitLimit=!1}put(C,w,_){this._hitLimit||(this._data+=(0,h.utf32ToString)(C,w,_),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(C){let w=!1;if(this._hitLimit)w=!1;else if(C&&(w=this._handler(this._data,this._params),w instanceof Promise))return w.then(_=>(this._params=y,this._data="",this._hitLimit=!1,_));return this._params=y,this._data="",this._hitLimit=!1,w}}},2015:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.EscapeSequenceParser=a.VT500_TRANSITION_TABLE=a.TransitionTable=void 0;const h=c(844),g=c(8742),u=c(6242),v=c(6351);class y{constructor(f){this.table=new Uint8Array(f)}setDefault(f,d){this.table.fill(f<<4|d)}add(f,d,p,m){this.table[d<<8|f]=p<<4|m}addMany(f,d,p,m){for(let S=0;S<f.length;S++)this.table[d<<8|f[S]]=p<<4|m}}a.TransitionTable=y;const C=160;a.VT500_TRANSITION_TABLE=function(){const _=new y(4095),f=Array.apply(null,Array(256)).map((k,b)=>b),d=(k,b)=>f.slice(k,b),p=d(32,127),m=d(0,24);m.push(25),m.push.apply(m,d(28,32));const S=d(0,14);let x;for(x in _.setDefault(1,0),_.addMany(p,0,2,0),S)_.addMany([24,26,153,154],x,3,0),_.addMany(d(128,144),x,3,0),_.addMany(d(144,152),x,3,0),_.add(156,x,0,0),_.add(27,x,11,1),_.add(157,x,4,8),_.addMany([152,158,159],x,0,7),_.add(155,x,11,3),_.add(144,x,11,9);return _.addMany(m,0,3,0),_.addMany(m,1,3,1),_.add(127,1,0,1),_.addMany(m,8,0,8),_.addMany(m,3,3,3),_.add(127,3,0,3),_.addMany(m,4,3,4),_.add(127,4,0,4),_.addMany(m,6,3,6),_.addMany(m,5,3,5),_.add(127,5,0,5),_.addMany(m,2,3,2),_.add(127,2,0,2),_.add(93,1,4,8),_.addMany(p,8,5,8),_.add(127,8,5,8),_.addMany([156,27,24,26,7],8,6,0),_.addMany(d(28,32),8,0,8),_.addMany([88,94,95],1,0,7),_.addMany(p,7,0,7),_.addMany(m,7,0,7),_.add(156,7,0,0),_.add(127,7,0,7),_.add(91,1,11,3),_.addMany(d(64,127),3,7,0),_.addMany(d(48,60),3,8,4),_.addMany([60,61,62,63],3,9,4),_.addMany(d(48,60),4,8,4),_.addMany(d(64,127),4,7,0),_.addMany([60,61,62,63],4,0,6),_.addMany(d(32,64),6,0,6),_.add(127,6,0,6),_.addMany(d(64,127),6,0,0),_.addMany(d(32,48),3,9,5),_.addMany(d(32,48),5,9,5),_.addMany(d(48,64),5,0,6),_.addMany(d(64,127),5,7,0),_.addMany(d(32,48),4,9,5),_.addMany(d(32,48),1,9,2),_.addMany(d(32,48),2,9,2),_.addMany(d(48,127),2,10,0),_.addMany(d(48,80),1,10,0),_.addMany(d(81,88),1,10,0),_.addMany([89,90,92],1,10,0),_.addMany(d(96,127),1,10,0),_.add(80,1,11,9),_.addMany(m,9,0,9),_.add(127,9,0,9),_.addMany(d(28,32),9,0,9),_.addMany(d(32,48),9,9,12),_.addMany(d(48,60),9,8,10),_.addMany([60,61,62,63],9,9,10),_.addMany(m,11,0,11),_.addMany(d(32,128),11,0,11),_.addMany(d(28,32),11,0,11),_.addMany(m,10,0,10),_.add(127,10,0,10),_.addMany(d(28,32),10,0,10),_.addMany(d(48,60),10,8,10),_.addMany([60,61,62,63],10,0,11),_.addMany(d(32,48),10,9,12),_.addMany(m,12,0,12),_.add(127,12,0,12),_.addMany(d(28,32),12,0,12),_.addMany(d(32,48),12,9,12),_.addMany(d(48,64),12,0,11),_.addMany(d(64,127),12,12,13),_.addMany(d(64,127),10,12,13),_.addMany(d(64,127),9,12,13),_.addMany(m,13,13,13),_.addMany(p,13,13,13),_.add(127,13,0,13),_.addMany([27,156,24,26],13,14,0),_.add(C,0,2,0),_.add(C,8,5,8),_.add(C,6,0,6),_.add(C,11,0,11),_.add(C,13,13,13),_}();class w extends h.Disposable{constructor(f=a.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new g.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(d,p,m)=>{},this._executeHandlerFb=d=>{},this._csiHandlerFb=(d,p)=>{},this._escHandlerFb=d=>{},this._errorHandlerFb=d=>d,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,h.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new u.OscParser),this._dcsParser=this.register(new v.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,d=[64,126]){let p=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(p=f.prefix.charCodeAt(0),p&&60>p||p>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<f.intermediates.length;++S){const x=f.intermediates.charCodeAt(S);if(32>x||x>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");p<<=8,p|=x}}if(f.final.length!==1)throw new Error("final must be a single byte");const m=f.final.charCodeAt(0);if(d[0]>m||m>d[1])throw new Error(`final must be in range ${d[0]} .. ${d[1]}`);return p<<=8,p|=m,p}identToString(f){const d=[];for(;f;)d.push(String.fromCharCode(255&f)),f>>=8;return d.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,d){const p=this._identifier(f,[48,126]);this._escHandlers[p]===void 0&&(this._escHandlers[p]=[]);const m=this._escHandlers[p];return m.push(d),{dispose:()=>{const S=m.indexOf(d);S!==-1&&m.splice(S,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,d){this._executeHandlers[f.charCodeAt(0)]=d}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,d){const p=this._identifier(f);this._csiHandlers[p]===void 0&&(this._csiHandlers[p]=[]);const m=this._csiHandlers[p];return m.push(d),{dispose:()=>{const S=m.indexOf(d);S!==-1&&m.splice(S,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,d){return this._dcsParser.registerHandler(this._identifier(f),d)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,d){return this._oscParser.registerHandler(f,d)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,d,p,m,S){this._parseStack.state=f,this._parseStack.handlers=d,this._parseStack.handlerPos=p,this._parseStack.transition=m,this._parseStack.chunkPos=S}parse(f,d,p){let m,S=0,x=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(p===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const b=this._parseStack.handlers;let E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(p===!1&&E>-1){for(;E>=0&&(m=b[E](this._params),m!==!0);E--)if(m instanceof Promise)return this._parseStack.handlerPos=E,m}this._parseStack.handlers=[];break;case 4:if(p===!1&&E>-1){for(;E>=0&&(m=b[E](),m!==!0);E--)if(m instanceof Promise)return this._parseStack.handlerPos=E,m}this._parseStack.handlers=[];break;case 6:if(S=f[this._parseStack.chunkPos],m=this._dcsParser.unhook(S!==24&&S!==26,p),m)return m;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=f[this._parseStack.chunkPos],m=this._oscParser.end(S!==24&&S!==26,p),m)return m;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let b=k;b<d;++b){switch(S=f[b],x=this._transitions.table[this.currentState<<8|(S<160?S:C)],x>>4){case 2:for(let I=b+1;;++I){if(I>=d||(S=f[I])<32||S>126&&S<C){this._printHandler(f,b,I),b=I-1;break}if(++I>=d||(S=f[I])<32||S>126&&S<C){this._printHandler(f,b,I),b=I-1;break}if(++I>=d||(S=f[I])<32||S>126&&S<C){this._printHandler(f,b,I),b=I-1;break}if(++I>=d||(S=f[I])<32||S>126&&S<C){this._printHandler(f,b,I),b=I-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:b,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const E=this._csiHandlers[this._collect<<8|S];let A=E?E.length-1:-1;for(;A>=0&&(m=E[A](this._params),m!==!0);A--)if(m instanceof Promise)return this._preserveStack(3,E,A,x,b),m;A<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}while(++b<d&&(S=f[b])>47&&S<60);b--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const P=this._escHandlers[this._collect<<8|S];let D=P?P.length-1:-1;for(;D>=0&&(m=P[D](),m!==!0);D--)if(m instanceof Promise)return this._preserveStack(4,P,D,x,b),m;D<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let I=b+1;;++I)if(I>=d||(S=f[I])===24||S===26||S===27||S>127&&S<C){this._dcsParser.put(f,b,I),b=I-1;break}break;case 14:if(m=this._dcsParser.unhook(S!==24&&S!==26),m)return this._preserveStack(6,[],0,x,b),m;S===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let I=b+1;;I++)if(I>=d||(S=f[I])<32||S>127&&S<C){this._oscParser.put(f,b,I),b=I-1;break}break;case 6:if(m=this._oscParser.end(S!==24&&S!==26),m)return this._preserveStack(5,[],0,x,b),m;S===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&x}}}a.EscapeSequenceParser=w},6242:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OscHandler=a.OscParser=void 0;const h=c(5770),g=c(482),u=[];a.OscParser=class{constructor(){this._state=0,this._active=u,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(v,y){this._handlers[v]===void 0&&(this._handlers[v]=[]);const C=this._handlers[v];return C.push(y),{dispose:()=>{const w=C.indexOf(y);w!==-1&&C.splice(w,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=u}reset(){if(this._state===2)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].end(!1);this._stack.paused=!1,this._active=u,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||u,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].start();else this._handlerFb(this._id,"START")}_put(v,y,C){if(this._active.length)for(let w=this._active.length-1;w>=0;w--)this._active[w].put(v,y,C);else this._handlerFb(this._id,"PUT",(0,g.utf32ToString)(v,y,C))}start(){this.reset(),this._state=1}put(v,y,C){if(this._state!==3){if(this._state===1)for(;y<C;){const w=v[y++];if(w===59){this._state=2,this._start();break}if(w<48||57<w)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+w-48}this._state===2&&C-y>0&&this._put(v,y,C)}}end(v,y=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let C=!1,w=this._active.length-1,_=!1;if(this._stack.paused&&(w=this._stack.loopPosition-1,C=y,_=this._stack.fallThrough,this._stack.paused=!1),!_&&C===!1){for(;w>=0&&(C=this._active[w].end(v),C!==!0);w--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=w,this._stack.fallThrough=!1,C;w--}for(;w>=0;w--)if(C=this._active[w].end(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=w,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",v);this._active=u,this._id=-1,this._state=0}}},a.OscHandler=class{constructor(v){this._handler=v,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(v,y,C){this._hitLimit||(this._data+=(0,g.utf32ToString)(v,y,C),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(v){let y=!1;if(this._hitLimit)y=!1;else if(v&&(y=this._handler(this._data),y instanceof Promise))return y.then(C=>(this._data="",this._hitLimit=!1,C));return this._data="",this._hitLimit=!1,y}}},8742:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Params=void 0;const c=2147483647;class h{static fromArray(u){const v=new h;if(!u.length)return v;for(let y=Array.isArray(u[0])?1:0;y<u.length;++y){const C=u[y];if(Array.isArray(C))for(let w=0;w<C.length;++w)v.addSubParam(C[w]);else v.addParam(C)}return v}constructor(u=32,v=32){if(this.maxLength=u,this.maxSubParamsLength=v,v>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(u),this.length=0,this._subParams=new Int32Array(v),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(u),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const u=new h(this.maxLength,this.maxSubParamsLength);return u.params.set(this.params),u.length=this.length,u._subParams.set(this._subParams),u._subParamsLength=this._subParamsLength,u._subParamsIdx.set(this._subParamsIdx),u._rejectDigits=this._rejectDigits,u._rejectSubDigits=this._rejectSubDigits,u._digitIsSub=this._digitIsSub,u}toArray(){const u=[];for(let v=0;v<this.length;++v){u.push(this.params[v]);const y=this._subParamsIdx[v]>>8,C=255&this._subParamsIdx[v];C-y>0&&u.push(Array.prototype.slice.call(this._subParams,y,C))}return u}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(u){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=u>c?c:u}}addSubParam(u){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=u>c?c:u,this._subParamsIdx[this.length-1]++}}hasSubParams(u){return(255&this._subParamsIdx[u])-(this._subParamsIdx[u]>>8)>0}getSubParams(u){const v=this._subParamsIdx[u]>>8,y=255&this._subParamsIdx[u];return y-v>0?this._subParams.subarray(v,y):null}getSubParamsAll(){const u={};for(let v=0;v<this.length;++v){const y=this._subParamsIdx[v]>>8,C=255&this._subParamsIdx[v];C-y>0&&(u[v]=this._subParams.slice(y,C))}return u}addDigit(u){let v;if(this._rejectDigits||!(v=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const y=this._digitIsSub?this._subParams:this.params,C=y[v-1];y[v-1]=~C?Math.min(10*C+u,c):u}}a.Params=h},5741:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AddonManager=void 0,a.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let c=this._addons.length-1;c>=0;c--)this._addons[c].instance.dispose()}loadAddon(c,h){const g={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(g),h.dispose=()=>this._wrappedAddonDispose(g),h.activate(c)}_wrappedAddonDispose(c){if(c.isDisposed)return;let h=-1;for(let g=0;g<this._addons.length;g++)if(this._addons[g]===c){h=g;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");c.isDisposed=!0,c.dispose.apply(c.instance),this._addons.splice(h,1)}}},8771:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferApiView=void 0;const h=c(3785),g=c(511);a.BufferApiView=class{constructor(u,v){this._buffer=u,this.type=v}init(u){return this._buffer=u,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(u){const v=this._buffer.lines.get(u);if(v)return new h.BufferLineApiView(v)}getNullCell(){return new g.CellData}}},3785:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLineApiView=void 0;const h=c(511);a.BufferLineApiView=class{constructor(g){this._line=g}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(g,u){if(!(g<0||g>=this._line.length))return u?(this._line.loadCell(g,u),u):this._line.loadCell(g,new h.CellData)}translateToString(g,u,v){return this._line.translateToString(g,u,v)}}},8285:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferNamespaceApi=void 0;const h=c(8771),g=c(8460),u=c(844);class v extends u.Disposable{constructor(C){super(),this._core=C,this._onBufferChange=this.register(new g.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}a.BufferNamespaceApi=v},7975:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParserApi=void 0,a.ParserApi=class{constructor(c){this._core=c}registerCsiHandler(c,h){return this._core.registerCsiHandler(c,g=>h(g.toArray()))}addCsiHandler(c,h){return this.registerCsiHandler(c,h)}registerDcsHandler(c,h){return this._core.registerDcsHandler(c,(g,u)=>h(g,u.toArray()))}addDcsHandler(c,h){return this.registerDcsHandler(c,h)}registerEscHandler(c,h){return this._core.registerEscHandler(c,h)}addEscHandler(c,h){return this.registerEscHandler(c,h)}registerOscHandler(c,h){return this._core.registerOscHandler(c,h)}addOscHandler(c,h){return this.registerOscHandler(c,h)}}},7090:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeApi=void 0,a.UnicodeApi=class{constructor(c){this._core=c}register(c){this._core.unicodeService.register(c)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(c){this._core.unicodeService.activeVersion=c}}},744:function(l,a,c){var h=this&&this.__decorate||function(_,f,d,p){var m,S=arguments.length,x=S<3?f:p===null?p=Object.getOwnPropertyDescriptor(f,d):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(_,f,d,p);else for(var k=_.length-1;k>=0;k--)(m=_[k])&&(x=(S<3?m(x):S>3?m(f,d,x):m(f,d))||x);return S>3&&x&&Object.defineProperty(f,d,x),x},g=this&&this.__param||function(_,f){return function(d,p){f(d,p,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferService=a.MINIMUM_ROWS=a.MINIMUM_COLS=void 0;const u=c(8460),v=c(844),y=c(5295),C=c(2585);a.MINIMUM_COLS=2,a.MINIMUM_ROWS=1;let w=a.BufferService=class extends v.Disposable{get buffer(){return this.buffers.active}constructor(_){super(),this.isUserScrolling=!1,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(_.rawOptions.cols||0,a.MINIMUM_COLS),this.rows=Math.max(_.rawOptions.rows||0,a.MINIMUM_ROWS),this.buffers=this.register(new y.BufferSet(_,this))}resize(_,f){this.cols=_,this.rows=f,this.buffers.resize(_,f),this._onResize.fire({cols:_,rows:f})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(_,f=!1){const d=this.buffer;let p;p=this._cachedBlankLine,p&&p.length===this.cols&&p.getFg(0)===_.fg&&p.getBg(0)===_.bg||(p=d.getBlankLine(_,f),this._cachedBlankLine=p),p.isWrapped=f;const m=d.ybase+d.scrollTop,S=d.ybase+d.scrollBottom;if(d.scrollTop===0){const x=d.lines.isFull;S===d.lines.length-1?x?d.lines.recycle().copyFrom(p):d.lines.push(p.clone()):d.lines.splice(S+1,0,p.clone()),x?this.isUserScrolling&&(d.ydisp=Math.max(d.ydisp-1,0)):(d.ybase++,this.isUserScrolling||d.ydisp++)}else{const x=S-m+1;d.lines.shiftElements(m+1,x-1,-1),d.lines.set(S,p.clone())}this.isUserScrolling||(d.ydisp=d.ybase),this._onScroll.fire(d.ydisp)}scrollLines(_,f,d){const p=this.buffer;if(_<0){if(p.ydisp===0)return;this.isUserScrolling=!0}else _+p.ydisp>=p.ybase&&(this.isUserScrolling=!1);const m=p.ydisp;p.ydisp=Math.max(Math.min(p.ydisp+_,p.ybase),0),m!==p.ydisp&&(f||this._onScroll.fire(p.ydisp))}};a.BufferService=w=h([g(0,C.IOptionsService)],w)},7994:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CharsetService=void 0,a.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(c){this.glevel=c,this.charset=this._charsets[c]}setgCharset(c,h){this._charsets[c]=h,this.glevel===c&&(this.charset=h)}}},1753:function(l,a,c){var h=this&&this.__decorate||function(p,m,S,x){var k,b=arguments.length,E=b<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,S):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(p,m,S,x);else for(var A=p.length-1;A>=0;A--)(k=p[A])&&(E=(b<3?k(E):b>3?k(m,S,E):k(m,S))||E);return b>3&&E&&Object.defineProperty(m,S,E),E},g=this&&this.__param||function(p,m){return function(S,x){m(S,x,p)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreMouseService=void 0;const u=c(2585),v=c(8460),y=c(844),C={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:p=>p.button!==4&&p.action===1&&(p.ctrl=!1,p.alt=!1,p.shift=!1,!0)},VT200:{events:19,restrict:p=>p.action!==32},DRAG:{events:23,restrict:p=>p.action!==32||p.button!==3},ANY:{events:31,restrict:p=>!0}};function w(p,m){let S=(p.ctrl?16:0)|(p.shift?4:0)|(p.alt?8:0);return p.button===4?(S|=64,S|=p.action):(S|=3&p.button,4&p.button&&(S|=64),8&p.button&&(S|=128),p.action===32?S|=32:p.action!==0||m||(S|=3)),S}const _=String.fromCharCode,f={DEFAULT:p=>{const m=[w(p,!1)+32,p.col+32,p.row+32];return m[0]>255||m[1]>255||m[2]>255?"":`\x1B[M${_(m[0])}${_(m[1])}${_(m[2])}`},SGR:p=>{const m=p.action===0&&p.button!==4?"m":"M";return`\x1B[<${w(p,!0)};${p.col};${p.row}${m}`},SGR_PIXELS:p=>{const m=p.action===0&&p.button!==4?"m":"M";return`\x1B[<${w(p,!0)};${p.x};${p.y}${m}`}};let d=a.CoreMouseService=class extends y.Disposable{constructor(p,m){super(),this._bufferService=p,this._coreService=m,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new v.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const S of Object.keys(C))this.addProtocol(S,C[S]);for(const S of Object.keys(f))this.addEncoding(S,f[S]);this.reset()}addProtocol(p,m){this._protocols[p]=m}addEncoding(p,m){this._encodings[p]=m}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(p){if(!this._protocols[p])throw new Error(`unknown protocol "${p}"`);this._activeProtocol=p,this._onProtocolChange.fire(this._protocols[p].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(p){if(!this._encodings[p])throw new Error(`unknown encoding "${p}"`);this._activeEncoding=p}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(p){if(p.col<0||p.col>=this._bufferService.cols||p.row<0||p.row>=this._bufferService.rows||p.button===4&&p.action===32||p.button===3&&p.action!==32||p.button!==4&&(p.action===2||p.action===3)||(p.col++,p.row++,p.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,p,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(p))return!1;const m=this._encodings[this._activeEncoding](p);return m&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(m):this._coreService.triggerDataEvent(m,!0)),this._lastEvent=p,!0}explainEvents(p){return{down:!!(1&p),up:!!(2&p),drag:!!(4&p),move:!!(8&p),wheel:!!(16&p)}}_equalEvents(p,m,S){if(S){if(p.x!==m.x||p.y!==m.y)return!1}else if(p.col!==m.col||p.row!==m.row)return!1;return p.button===m.button&&p.action===m.action&&p.ctrl===m.ctrl&&p.alt===m.alt&&p.shift===m.shift}};a.CoreMouseService=d=h([g(0,u.IBufferService),g(1,u.ICoreService)],d)},6975:function(l,a,c){var h=this&&this.__decorate||function(d,p,m,S){var x,k=arguments.length,b=k<3?p:S===null?S=Object.getOwnPropertyDescriptor(p,m):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(d,p,m,S);else for(var E=d.length-1;E>=0;E--)(x=d[E])&&(b=(k<3?x(b):k>3?x(p,m,b):x(p,m))||b);return k>3&&b&&Object.defineProperty(p,m,b),b},g=this&&this.__param||function(d,p){return function(m,S){p(m,S,d)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreService=void 0;const u=c(1439),v=c(8460),y=c(844),C=c(2585),w=Object.freeze({insertMode:!1}),_=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let f=a.CoreService=class extends y.Disposable{constructor(d,p,m){super(),this._bufferService=d,this._logService=p,this._optionsService=m,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new v.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new v.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,u.clone)(w),this.decPrivateModes=(0,u.clone)(_)}reset(){this.modes=(0,u.clone)(w),this.decPrivateModes=(0,u.clone)(_)}triggerDataEvent(d,p=!1){if(this._optionsService.rawOptions.disableStdin)return;const m=this._bufferService.buffer;p&&this._optionsService.rawOptions.scrollOnUserInput&&m.ybase!==m.ydisp&&this._onRequestScrollToBottom.fire(),p&&this._onUserInput.fire(),this._logService.debug(`sending data "${d}"`,()=>d.split("").map(S=>S.charCodeAt(0))),this._onData.fire(d)}triggerBinaryEvent(d){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${d}"`,()=>d.split("").map(p=>p.charCodeAt(0))),this._onBinary.fire(d))}};a.CoreService=f=h([g(0,C.IBufferService),g(1,C.ILogService),g(2,C.IOptionsService)],f)},9074:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DecorationService=void 0;const h=c(8055),g=c(8460),u=c(844),v=c(6106);let y=0,C=0;class w extends u.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new v.SortedList(d=>d==null?void 0:d.marker.line),this._onDecorationRegistered=this.register(new g.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new g.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,u.toDisposable)(()=>this.reset()))}registerDecoration(d){if(d.marker.isDisposed)return;const p=new _(d);if(p){const m=p.marker.onDispose(()=>p.dispose());p.onDispose(()=>{p&&(this._decorations.delete(p)&&this._onDecorationRemoved.fire(p),m.dispose())}),this._decorations.insert(p),this._onDecorationRegistered.fire(p)}return p}reset(){for(const d of this._decorations.values())d.dispose();this._decorations.clear()}*getDecorationsAtCell(d,p,m){var S,x,k;let b=0,E=0;for(const A of this._decorations.getKeyIterator(p))b=(S=A.options.x)!==null&&S!==void 0?S:0,E=b+((x=A.options.width)!==null&&x!==void 0?x:1),d>=b&&d<E&&(!m||((k=A.options.layer)!==null&&k!==void 0?k:"bottom")===m)&&(yield A)}forEachDecorationAtCell(d,p,m,S){this._decorations.forEachByKey(p,x=>{var k,b,E;y=(k=x.options.x)!==null&&k!==void 0?k:0,C=y+((b=x.options.width)!==null&&b!==void 0?b:1),d>=y&&d<C&&(!m||((E=x.options.layer)!==null&&E!==void 0?E:"bottom")===m)&&S(x)})}}a.DecorationService=w;class _ extends u.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(d){super(),this.options=d,this.onRenderEmitter=this.register(new g.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new g.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=d.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InstantiationService=a.ServiceCollection=void 0;const h=c(2585),g=c(8343);class u{constructor(...y){this._entries=new Map;for(const[C,w]of y)this.set(C,w)}set(y,C){const w=this._entries.get(y);return this._entries.set(y,C),w}forEach(y){for(const[C,w]of this._entries.entries())y(C,w)}has(y){return this._entries.has(y)}get(y){return this._entries.get(y)}}a.ServiceCollection=u,a.InstantiationService=class{constructor(){this._services=new u,this._services.set(h.IInstantiationService,this)}setService(v,y){this._services.set(v,y)}getService(v){return this._services.get(v)}createInstance(v,...y){const C=(0,g.getServiceDependencies)(v).sort((f,d)=>f.index-d.index),w=[];for(const f of C){const d=this._services.get(f.id);if(!d)throw new Error(`[createInstance] ${v.name} depends on UNKNOWN service ${f.id}.`);w.push(d)}const _=C.length>0?C[0].index:y.length;if(y.length!==_)throw new Error(`[createInstance] First service dependency of ${v.name} at position ${_+1} conflicts with ${y.length} static arguments`);return new v(...y,...w)}}},7866:function(l,a,c){var h=this&&this.__decorate||function(_,f,d,p){var m,S=arguments.length,x=S<3?f:p===null?p=Object.getOwnPropertyDescriptor(f,d):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(_,f,d,p);else for(var k=_.length-1;k>=0;k--)(m=_[k])&&(x=(S<3?m(x):S>3?m(f,d,x):m(f,d))||x);return S>3&&x&&Object.defineProperty(f,d,x),x},g=this&&this.__param||function(_,f){return function(d,p){f(d,p,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.traceCall=a.setTraceLogger=a.LogService=void 0;const u=c(844),v=c(2585),y={trace:v.LogLevelEnum.TRACE,debug:v.LogLevelEnum.DEBUG,info:v.LogLevelEnum.INFO,warn:v.LogLevelEnum.WARN,error:v.LogLevelEnum.ERROR,off:v.LogLevelEnum.OFF};let C,w=a.LogService=class extends u.Disposable{get logLevel(){return this._logLevel}constructor(_){super(),this._optionsService=_,this._logLevel=v.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),C=this}_updateLogLevel(){this._logLevel=y[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(_){for(let f=0;f<_.length;f++)typeof _[f]=="function"&&(_[f]=_[f]())}_log(_,f,d){this._evalLazyOptionalParams(d),_.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+f,...d)}trace(_,...f){var d,p;this._logLevel<=v.LogLevelEnum.TRACE&&this._log((p=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.trace.bind(this._optionsService.options.logger))!==null&&p!==void 0?p:console.log,_,f)}debug(_,...f){var d,p;this._logLevel<=v.LogLevelEnum.DEBUG&&this._log((p=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.debug.bind(this._optionsService.options.logger))!==null&&p!==void 0?p:console.log,_,f)}info(_,...f){var d,p;this._logLevel<=v.LogLevelEnum.INFO&&this._log((p=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.info.bind(this._optionsService.options.logger))!==null&&p!==void 0?p:console.info,_,f)}warn(_,...f){var d,p;this._logLevel<=v.LogLevelEnum.WARN&&this._log((p=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.warn.bind(this._optionsService.options.logger))!==null&&p!==void 0?p:console.warn,_,f)}error(_,...f){var d,p;this._logLevel<=v.LogLevelEnum.ERROR&&this._log((p=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.error.bind(this._optionsService.options.logger))!==null&&p!==void 0?p:console.error,_,f)}};a.LogService=w=h([g(0,v.IOptionsService)],w),a.setTraceLogger=function(_){C=_},a.traceCall=function(_,f,d){if(typeof d.value!="function")throw new Error("not supported");const p=d.value;d.value=function(...m){if(C.logLevel!==v.LogLevelEnum.TRACE)return p.apply(this,m);C.trace(`GlyphRenderer#${p.name}(${m.map(x=>JSON.stringify(x)).join(", ")})`);const S=p.apply(this,m);return C.trace(`GlyphRenderer#${p.name} return`,S),S}}},7302:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionsService=a.DEFAULT_OPTIONS=void 0;const h=c(8460),g=c(844),u=c(6114);a.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const v=["normal","bold","100","200","300","400","500","600","700","800","900"];class y extends g.Disposable{constructor(w){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;const _=Object.assign({},a.DEFAULT_OPTIONS);for(const f in w)if(f in _)try{const d=w[f];_[f]=this._sanitizeAndValidateOption(f,d)}catch(d){console.error(d)}this.rawOptions=_,this.options=Object.assign({},_),this._setupOptions()}onSpecificOptionChange(w,_){return this.onOptionChange(f=>{f===w&&_(this.rawOptions[w])})}onMultipleOptionChange(w,_){return this.onOptionChange(f=>{w.indexOf(f)!==-1&&_()})}_setupOptions(){const w=f=>{if(!(f in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},_=(f,d)=>{if(!(f in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);d=this._sanitizeAndValidateOption(f,d),this.rawOptions[f]!==d&&(this.rawOptions[f]=d,this._onOptionChange.fire(f))};for(const f in this.rawOptions){const d={get:w.bind(this,f),set:_.bind(this,f)};Object.defineProperty(this.options,f,d)}}_sanitizeAndValidateOption(w,_){switch(w){case"cursorStyle":if(_||(_=a.DEFAULT_OPTIONS[w]),!function(f){return f==="block"||f==="underline"||f==="bar"}(_))throw new Error(`"${_}" is not a valid value for ${w}`);break;case"wordSeparator":_||(_=a.DEFAULT_OPTIONS[w]);break;case"fontWeight":case"fontWeightBold":if(typeof _=="number"&&1<=_&&_<=1e3)break;_=v.includes(_)?_:a.DEFAULT_OPTIONS[w];break;case"cursorWidth":_=Math.floor(_);case"lineHeight":case"tabStopWidth":if(_<1)throw new Error(`${w} cannot be less than 1, value: ${_}`);break;case"minimumContrastRatio":_=Math.max(1,Math.min(21,Math.round(10*_)/10));break;case"scrollback":if((_=Math.min(_,4294967295))<0)throw new Error(`${w} cannot be less than 0, value: ${_}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(_<=0)throw new Error(`${w} cannot be less than or equal to 0, value: ${_}`);break;case"rows":case"cols":if(!_&&_!==0)throw new Error(`${w} must be numeric, value: ${_}`);break;case"windowsPty":_=_??{}}return _}}a.OptionsService=y},2660:function(l,a,c){var h=this&&this.__decorate||function(y,C,w,_){var f,d=arguments.length,p=d<3?C:_===null?_=Object.getOwnPropertyDescriptor(C,w):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(y,C,w,_);else for(var m=y.length-1;m>=0;m--)(f=y[m])&&(p=(d<3?f(p):d>3?f(C,w,p):f(C,w))||p);return d>3&&p&&Object.defineProperty(C,w,p),p},g=this&&this.__param||function(y,C){return function(w,_){C(w,_,y)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkService=void 0;const u=c(2585);let v=a.OscLinkService=class{constructor(y){this._bufferService=y,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(y){const C=this._bufferService.buffer;if(y.id===void 0){const m=C.addMarker(C.ybase+C.y),S={data:y,id:this._nextId++,lines:[m]};return m.onDispose(()=>this._removeMarkerFromLink(S,m)),this._dataByLinkId.set(S.id,S),S.id}const w=y,_=this._getEntryIdKey(w),f=this._entriesWithId.get(_);if(f)return this.addLineToLink(f.id,C.ybase+C.y),f.id;const d=C.addMarker(C.ybase+C.y),p={id:this._nextId++,key:this._getEntryIdKey(w),data:w,lines:[d]};return d.onDispose(()=>this._removeMarkerFromLink(p,d)),this._entriesWithId.set(p.key,p),this._dataByLinkId.set(p.id,p),p.id}addLineToLink(y,C){const w=this._dataByLinkId.get(y);if(w&&w.lines.every(_=>_.line!==C)){const _=this._bufferService.buffer.addMarker(C);w.lines.push(_),_.onDispose(()=>this._removeMarkerFromLink(w,_))}}getLinkData(y){var C;return(C=this._dataByLinkId.get(y))===null||C===void 0?void 0:C.data}_getEntryIdKey(y){return`${y.id};;${y.uri}`}_removeMarkerFromLink(y,C){const w=y.lines.indexOf(C);w!==-1&&(y.lines.splice(w,1),y.lines.length===0&&(y.data.id!==void 0&&this._entriesWithId.delete(y.key),this._dataByLinkId.delete(y.id)))}};a.OscLinkService=v=h([g(0,u.IBufferService)],v)},8343:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createDecorator=a.getServiceDependencies=a.serviceRegistry=void 0;const c="di$target",h="di$dependencies";a.serviceRegistry=new Map,a.getServiceDependencies=function(g){return g[h]||[]},a.createDecorator=function(g){if(a.serviceRegistry.has(g))return a.serviceRegistry.get(g);const u=function(v,y,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(w,_,f){_[c]===_?_[h].push({id:w,index:f}):(_[h]=[{id:w,index:f}],_[c]=_)})(u,v,C)};return u.toString=()=>g,a.serviceRegistry.set(g,u),u}},2585:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IDecorationService=a.IUnicodeService=a.IOscLinkService=a.IOptionsService=a.ILogService=a.LogLevelEnum=a.IInstantiationService=a.ICharsetService=a.ICoreService=a.ICoreMouseService=a.IBufferService=void 0;const h=c(8343);var g;a.IBufferService=(0,h.createDecorator)("BufferService"),a.ICoreMouseService=(0,h.createDecorator)("CoreMouseService"),a.ICoreService=(0,h.createDecorator)("CoreService"),a.ICharsetService=(0,h.createDecorator)("CharsetService"),a.IInstantiationService=(0,h.createDecorator)("InstantiationService"),function(u){u[u.TRACE=0]="TRACE",u[u.DEBUG=1]="DEBUG",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.OFF=5]="OFF"}(g||(a.LogLevelEnum=g={})),a.ILogService=(0,h.createDecorator)("LogService"),a.IOptionsService=(0,h.createDecorator)("OptionsService"),a.IOscLinkService=(0,h.createDecorator)("OscLinkService"),a.IUnicodeService=(0,h.createDecorator)("UnicodeService"),a.IDecorationService=(0,h.createDecorator)("DecorationService")},1480:(l,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeService=void 0;const h=c(8460),g=c(225);a.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;const u=new g.UnicodeV6;this.register(u),this._active=u.version,this._activeProvider=u}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(u){if(!this._providers[u])throw new Error(`unknown Unicode version "${u}"`);this._active=u,this._activeProvider=this._providers[u],this._onChange.fire(u)}register(u){this._providers[u.version]=u}wcwidth(u){return this._activeProvider.wcwidth(u)}getStringCellWidth(u){let v=0;const y=u.length;for(let C=0;C<y;++C){let w=u.charCodeAt(C);if(55296<=w&&w<=56319){if(++C>=y)return v+this.wcwidth(w);const _=u.charCodeAt(C);56320<=_&&_<=57343?w=1024*(w-55296)+_-56320+65536:v+=this.wcwidth(_)}v+=this.wcwidth(w)}return v}}}},i={};function s(l){var a=i[l];if(a!==void 0)return a.exports;var c=i[l]={exports:{}};return n[l].call(c.exports,c,c.exports,s),c.exports}var o={};return(()=>{var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const a=s(9042),c=s(3236),h=s(844),g=s(5741),u=s(8285),v=s(7975),y=s(7090),C=["cols","rows"];class w extends h.Disposable{constructor(f){super(),this._core=this.register(new c.Terminal(f)),this._addonManager=this.register(new g.AddonManager),this._publicOptions=Object.assign({},this._core.options);const d=m=>this._core.options[m],p=(m,S)=>{this._checkReadonlyOptions(m),this._core.options[m]=S};for(const m in this._core.options){const S={get:d.bind(this,m),set:p.bind(this,m)};Object.defineProperty(this._publicOptions,m,S)}}_checkReadonlyOptions(f){if(C.includes(f))throw new Error(`Option "${f}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new v.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new y.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new u.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const f=this._core.coreService.decPrivateModes;let d="none";switch(this._core.coreMouseService.activeProtocol){case"X10":d="x10";break;case"VT200":d="vt200";break;case"DRAG":d="drag";break;case"ANY":d="any"}return{applicationCursorKeysMode:f.applicationCursorKeys,applicationKeypadMode:f.applicationKeypad,bracketedPasteMode:f.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:d,originMode:f.origin,reverseWraparoundMode:f.reverseWraparound,sendFocusMode:f.sendFocus,wraparoundMode:f.wraparound}}get options(){return this._publicOptions}set options(f){for(const d in f)this._publicOptions[d]=f[d]}blur(){this._core.blur()}focus(){this._core.focus()}resize(f,d){this._verifyIntegers(f,d),this._core.resize(f,d)}open(f){this._core.open(f)}attachCustomKeyEventHandler(f){this._core.attachCustomKeyEventHandler(f)}registerLinkProvider(f){return this._core.registerLinkProvider(f)}registerCharacterJoiner(f){return this._checkProposedApi(),this._core.registerCharacterJoiner(f)}deregisterCharacterJoiner(f){this._checkProposedApi(),this._core.deregisterCharacterJoiner(f)}registerMarker(f=0){return this._verifyIntegers(f),this._core.registerMarker(f)}registerDecoration(f){var d,p,m;return this._checkProposedApi(),this._verifyPositiveIntegers((d=f.x)!==null&&d!==void 0?d:0,(p=f.width)!==null&&p!==void 0?p:0,(m=f.height)!==null&&m!==void 0?m:0),this._core.registerDecoration(f)}hasSelection(){return this._core.hasSelection()}select(f,d,p){this._verifyIntegers(f,d,p),this._core.select(f,d,p)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(f,d){this._verifyIntegers(f,d),this._core.selectLines(f,d)}dispose(){super.dispose()}scrollLines(f){this._verifyIntegers(f),this._core.scrollLines(f)}scrollPages(f){this._verifyIntegers(f),this._core.scrollPages(f)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(f){this._verifyIntegers(f),this._core.scrollToLine(f)}clear(){this._core.clear()}write(f,d){this._core.write(f,d)}writeln(f,d){this._core.write(f),this._core.write(`\r
`,d)}paste(f){this._core.paste(f)}refresh(f,d){this._verifyIntegers(f,d),this._core.refresh(f,d)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(f){this._addonManager.loadAddon(this,f)}static get strings(){return a}_verifyIntegers(...f){for(const d of f)if(d===1/0||isNaN(d)||d%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...f){for(const d of f)if(d&&(d===1/0||isNaN(d)||d%1!=0||d<0))throw new Error("This API only accepts positive integers")}}l.Terminal=w})(),o})())})(Gp);var wb=Gp.exports,Yp={exports:{}};(function(e,r){(function(n,i){e.exports=i()})(self,()=>(()=>{var n={};return(()=>{var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0,i.FitAddon=class{activate(s){this._terminal=s}dispose(){}fit(){const s=this.proposeDimensions();if(!s||!this._terminal||isNaN(s.cols)||isNaN(s.rows))return;const o=this._terminal._core;this._terminal.rows===s.rows&&this._terminal.cols===s.cols||(o._renderService.clear(),this._terminal.resize(s.cols,s.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const s=this._terminal._core,o=s._renderService.dimensions;if(o.css.cell.width===0||o.css.cell.height===0)return;const l=this._terminal.options.scrollback===0?0:s.viewport.scrollBarWidth,a=window.getComputedStyle(this._terminal.element.parentElement),c=parseInt(a.getPropertyValue("height")),h=Math.max(0,parseInt(a.getPropertyValue("width"))),g=window.getComputedStyle(this._terminal.element),u=c-(parseInt(g.getPropertyValue("padding-top"))+parseInt(g.getPropertyValue("padding-bottom"))),v=h-(parseInt(g.getPropertyValue("padding-right"))+parseInt(g.getPropertyValue("padding-left")))-l;return{cols:Math.max(2,Math.floor(v/o.css.cell.width)),rows:Math.max(1,Math.floor(u/o.css.cell.height))}}}})(),n})())})(Yp);var Cb=Yp.exports;function bb(){const[e,r]=ie.useState(300),[n,i]=ie.useState({width:window.innerWidth,height:window.innerHeight-300}),[s,o]=ie.useState({nodes:[],links:[]}),l=ie.useRef(null),a=ie.useRef(null),c=ie.useRef(null),h=ie.useRef(null),g=ie.useRef(!1);ie.useEffect(()=>{const w=window.location.protocol==="https:"?"wss:":"ws:";let _=window.location.host;return window.location.port==="5173"&&(_=`localhost:${new URLSearchParams(window.location.search).get("port")||"8000"}`),l.current=new WebSocket(`${w}//${_}/ws`),l.current.onopen=()=>{var f;(f=c.current)==null||f.writeln("\x1B[1;32m[System] Connected to Network Backend.\x1B[0m")},l.current.onmessage=f=>{var p;const d=JSON.parse(f.data);if(d.type==="log"){const m=d.data.replace(/\n/g,`\r
`);(p=c.current)==null||p.write(m)}else d.type==="topo"&&u(d.data)},l.current.onclose=()=>{var f;(f=c.current)==null||f.writeln(`\r
\x1B[1;31m[System] Disconnected from Backend.\x1B[0m`)},()=>{var f;(f=l.current)==null||f.close()}},[]),ie.useEffect(()=>{if(!a.current||c.current)return;const w=new wb.Terminal({cursorBlink:!0,fontFamily:'"Cascadia Code", "JetBrains Mono", Consolas, "Courier New", monospace',fontSize:14,lineHeight:1.2,letterSpacing:0,theme:{background:"#0d1117",foreground:"#c9d1d9",cursor:"#58a6ff",selectionBackground:"rgba(88, 166, 255, 0.3)",black:"#0d1117",red:"#ff7b72",green:"#3fb950",yellow:"#d29922",blue:"#58a6ff",magenta:"#bc8cff",cyan:"#39c5cf",white:"#b1bac4",brightBlack:"#484f58",brightRed:"#ffa198",brightGreen:"#56d364",brightYellow:"#e3b341",brightBlue:"#79c0ff",brightMagenta:"#d2a8ff",brightCyan:"#56d4dd",brightWhite:"#f0f6fc"}}),_=new Cb.FitAddon;w.loadAddon(_),w.open(a.current);try{_.fit()}catch{}c.current=w,h.current=_,w.onData(d=>{l.current&&l.current.readyState===WebSocket.OPEN&&l.current.send(JSON.stringify({type:"command",data:d}))});const f=new ResizeObserver(()=>{try{_.fit()}catch{}});return a.current&&f.observe(a.current),w.writeln("\x1B[1;36m=== Network Experiment Console ===\x1B[0m"),w.writeln("Connecting..."),()=>{}},[]);const u=w=>{o(_=>{const f=[..._.nodes],d=[..._.links],p=(m,S=!1)=>{let x=f.find(k=>k.id===m);return x?S&&(x.name=m+" (Me)",x.val=20,x.color="#4ade80"):(x={id:m,name:m+(S?" (Me)":""),val:S?20:10,color:S?"#4ade80":"#60a5fa"},f.push(x)),x};return p(w.id,!0),Object.keys(w.table).forEach(m=>{const S=w.table[m],x=S.cost,k=S.next_hop;p(m),k&&k!==w.id&&k!=="LOCAL"?(p(k),d.some(E=>E.source===w.id&&E.target===k||E.source===k&&E.target===w.id)||d.push({source:w.id,target:k})):(x===1||k===m)&&(d.some(E=>E.source===w.id&&E.target===m||E.source===m&&E.target===w.id)||d.push({source:w.id,target:m}))}),{nodes:f,links:d}})},v=ie.useCallback(w=>{g.current=!0,document.body.style.cursor="row-resize",document.body.style.userSelect="none"},[]),y=ie.useCallback(()=>{g.current=!1,document.body.style.cursor="",document.body.style.userSelect=""},[]),C=ie.useCallback(w=>{if(g.current){const _=window.innerHeight-w.clientY;_>50&&_<window.innerHeight-50&&r(_)}},[]);return ie.useEffect(()=>(window.addEventListener("mousemove",C),window.addEventListener("mouseup",y),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",y)}),[C,y]),ie.useEffect(()=>{if(i({width:window.innerWidth,height:window.innerHeight-e}),h.current)try{h.current.fit()}catch{}},[e]),ie.useEffect(()=>{const w=()=>{if(i({width:window.innerWidth,height:window.innerHeight-e}),h.current)try{h.current.fit()}catch{}};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[e]),Ne.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden",background:"#0d1117",color:"#fff"},children:[Ne.jsxs("div",{style:{height:n.height,overflow:"hidden",position:"relative"},children:[Ne.jsxs("div",{style:{position:"absolute",top:10,left:10,zIndex:10,background:"rgba(0,0,0,0.5)",padding:"5px 10px",borderRadius:4,fontFamily:"Segoe UI"},children:[Ne.jsx("span",{style:{color:"#4ade80"},children:""})," Graph Visualization"]}),Ne.jsx(iu,{width:n.width,height:n.height,graphData:s,nodeLabel:"name",nodeColor:w=>w.color||"#60a5fa",nodeRelSize:6,linkColor:()=>"#30363d",backgroundColor:"#0d1117"})]}),Ne.jsx("div",{onMouseDown:v,style:{height:"6px",cursor:"row-resize",background:"#010409",borderTop:"1px solid #30363d",borderBottom:"1px solid #30363d",zIndex:20,display:"flex",justifyContent:"center",alignItems:"center"},children:Ne.jsx("div",{style:{width:30,height:2,background:"#30363d",borderRadius:1}})}),Ne.jsxs("div",{style:{height:e,background:"#0d1117",padding:"0 0px",position:"relative",display:"flex",flexDirection:"column"},children:[Ne.jsxs("div",{style:{padding:"4px 10px",background:"#161b22",borderBottom:"1px solid #30363d",fontSize:"11px",color:"#8b949e",display:"flex",justifyContent:"space-between",alignItems:"center",height:"24px",flexShrink:0},children:[Ne.jsx("span",{children:"TERMINAL"}),Ne.jsx("span",{children:"bash"})]}),Ne.jsx("div",{style:{flex:1,padding:"10px",minHeight:0},children:Ne.jsx("div",{ref:a,style:{width:"100%",height:"100%"}})})]})]})}Oa.createRoot(document.getElementById("root")).render(Ne.jsx(Mf.StrictMode,{children:Ne.jsx(bb,{})}));
